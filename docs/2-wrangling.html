<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Tidyverse | Preceptor’s Primer for Bayesian Data Science</title>
  <meta name="description" content="Chapter 2 Tidyverse | Preceptor’s Primer for Bayesian Data Science" />
  <meta name="generator" content="bookdown 0.17 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Tidyverse | Preceptor’s Primer for Bayesian Data Science" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="davidkane9/PPBDS" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Tidyverse | Preceptor’s Primer for Bayesian Data Science" />
  
  
  

<meta name="author" content="David Kane" />


<meta name="date" content="2020-05-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="1-viz.html"/>
<link rel="next" href="3-rubin-causal-model.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Cover</a></li>
<li class="chapter" data-level="" data-path="forward.html"><a href="forward.html"><i class="fa fa-check"></i>Forward</a></li>
<li class="chapter" data-level="" data-path="warning.html"><a href="warning.html"><i class="fa fa-check"></i>Warning</a></li>
<li class="chapter" data-level="" data-path="license.html"><a href="license.html"><i class="fa fa-check"></i>License</a></li>
<li class="chapter" data-level="" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="dedication.html"><a href="dedication.html"><i class="fa fa-check"></i>Dedication</a></li>
<li class="chapter" data-level="1" data-path="1-viz.html"><a href="1-viz.html"><i class="fa fa-check"></i><b>1</b> Visualization</a><ul>
<li class="chapter" data-level="1.1" data-path="1-viz.html"><a href="1-viz.html#r-rstudio"><i class="fa fa-check"></i><b>1.1</b> What are R and RStudio?</a><ul>
<li class="chapter" data-level="1.1.1" data-path="1-viz.html"><a href="1-viz.html#installing"><i class="fa fa-check"></i><b>1.1.1</b> Installing R and RStudio</a></li>
<li class="chapter" data-level="1.1.2" data-path="1-viz.html"><a href="1-viz.html#using-r-via-rstudio"><i class="fa fa-check"></i><b>1.1.2</b> Using R via RStudio</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="1-viz.html"><a href="1-viz.html#code"><i class="fa fa-check"></i><b>1.2</b> How do I code in R?</a><ul>
<li class="chapter" data-level="1.2.1" data-path="1-viz.html"><a href="1-viz.html#programming-concepts"><i class="fa fa-check"></i><b>1.2.1</b> Basic programming concepts and terminology</a></li>
<li class="chapter" data-level="1.2.2" data-path="1-viz.html"><a href="1-viz.html#messages"><i class="fa fa-check"></i><b>1.2.2</b> Errors, warnings, and messages</a></li>
<li class="chapter" data-level="1.2.3" data-path="1-viz.html"><a href="1-viz.html#tips-code"><i class="fa fa-check"></i><b>1.2.3</b> Tips on learning to code</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="1-viz.html"><a href="1-viz.html#packages"><i class="fa fa-check"></i><b>1.3</b> What are R packages?</a><ul>
<li class="chapter" data-level="1.3.1" data-path="1-viz.html"><a href="1-viz.html#package-installation"><i class="fa fa-check"></i><b>1.3.1</b> Package installation</a></li>
<li class="chapter" data-level="1.3.2" data-path="1-viz.html"><a href="1-viz.html#package-loading"><i class="fa fa-check"></i><b>1.3.2</b> Package loading</a></li>
<li class="chapter" data-level="1.3.3" data-path="1-viz.html"><a href="1-viz.html#package-use"><i class="fa fa-check"></i><b>1.3.3</b> Package use</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="1-viz.html"><a href="1-viz.html#nycflights13"><i class="fa fa-check"></i><b>1.4</b> Explore your first datasets</a><ul>
<li class="chapter" data-level="1.4.1" data-path="1-viz.html"><a href="1-viz.html#nycflights13-package"><i class="fa fa-check"></i><b>1.4.1</b> <code>nycflights13</code> package</a></li>
<li class="chapter" data-level="1.4.2" data-path="1-viz.html"><a href="1-viz.html#flights-data-frame"><i class="fa fa-check"></i><b>1.4.2</b> <code>flights</code> data frame</a></li>
<li class="chapter" data-level="1.4.3" data-path="1-viz.html"><a href="1-viz.html#exploredataframes"><i class="fa fa-check"></i><b>1.4.3</b> Exploring data frames</a></li>
<li class="chapter" data-level="1.4.4" data-path="1-viz.html"><a href="1-viz.html#identification-vs-measurement-variables"><i class="fa fa-check"></i><b>1.4.4</b> Identification and measurement variables</a></li>
<li class="chapter" data-level="1.4.5" data-path="1-viz.html"><a href="1-viz.html#help-files"><i class="fa fa-check"></i><b>1.4.5</b> Help files</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="1-viz.html"><a href="1-viz.html#conclusion"><i class="fa fa-check"></i><b>1.5</b> Conclusion</a><ul>
<li class="chapter" data-level="1.5.1" data-path="1-viz.html"><a href="1-viz.html#additional-resources"><i class="fa fa-check"></i><b>1.5.1</b> Additional resources</a></li>
<li class="chapter" data-level="" data-path="1-viz.html"><a href="1-viz.html#needed-packages"><i class="fa fa-check"></i>Needed packages</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="1-viz.html"><a href="1-viz.html#grammarofgraphics"><i class="fa fa-check"></i><b>1.6</b> The grammar of graphics</a><ul>
<li class="chapter" data-level="1.6.1" data-path="1-viz.html"><a href="1-viz.html#components-of-the-grammar"><i class="fa fa-check"></i><b>1.6.1</b> Components of the grammar</a></li>
<li class="chapter" data-level="1.6.2" data-path="1-viz.html"><a href="1-viz.html#gapminder"><i class="fa fa-check"></i><b>1.6.2</b> Gapminder data</a></li>
<li class="chapter" data-level="1.6.3" data-path="1-viz.html"><a href="1-viz.html#other-components"><i class="fa fa-check"></i><b>1.6.3</b> Other components</a></li>
<li class="chapter" data-level="1.6.4" data-path="1-viz.html"><a href="1-viz.html#ggplot2-package"><i class="fa fa-check"></i><b>1.6.4</b> ggplot2 package</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="1-viz.html"><a href="1-viz.html#scatterplots"><i class="fa fa-check"></i><b>1.7</b> Scatterplots</a><ul>
<li class="chapter" data-level="1.7.1" data-path="1-viz.html"><a href="1-viz.html#geompoint"><i class="fa fa-check"></i><b>1.7.1</b> Scatterplots via <code>geom_point</code></a></li>
<li class="chapter" data-level="1.7.2" data-path="1-viz.html"><a href="1-viz.html#overplotting"><i class="fa fa-check"></i><b>1.7.2</b> Overplotting</a></li>
<li class="chapter" data-level="1.7.3" data-path="1-viz.html"><a href="1-viz.html#summary"><i class="fa fa-check"></i><b>1.7.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="1-viz.html"><a href="1-viz.html#linegraphs"><i class="fa fa-check"></i><b>1.8</b> Linegraphs</a><ul>
<li class="chapter" data-level="1.8.1" data-path="1-viz.html"><a href="1-viz.html#geomline"><i class="fa fa-check"></i><b>1.8.1</b> Linegraphs via <code>geom_line</code></a></li>
<li class="chapter" data-level="1.8.2" data-path="1-viz.html"><a href="1-viz.html#summary-1"><i class="fa fa-check"></i><b>1.8.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="1-viz.html"><a href="1-viz.html#histograms"><i class="fa fa-check"></i><b>1.9</b> Histograms</a><ul>
<li class="chapter" data-level="1.9.1" data-path="1-viz.html"><a href="1-viz.html#geomhistogram"><i class="fa fa-check"></i><b>1.9.1</b> Histograms via <code>geom_histogram</code></a></li>
<li class="chapter" data-level="1.9.2" data-path="1-viz.html"><a href="1-viz.html#adjustbins"><i class="fa fa-check"></i><b>1.9.2</b> Adjusting the bins</a></li>
<li class="chapter" data-level="1.9.3" data-path="1-viz.html"><a href="1-viz.html#summary-2"><i class="fa fa-check"></i><b>1.9.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="1.10" data-path="1-viz.html"><a href="1-viz.html#facets"><i class="fa fa-check"></i><b>1.10</b> Facets</a></li>
<li class="chapter" data-level="1.11" data-path="1-viz.html"><a href="1-viz.html#boxplots"><i class="fa fa-check"></i><b>1.11</b> Boxplots</a><ul>
<li class="chapter" data-level="1.11.1" data-path="1-viz.html"><a href="1-viz.html#geomboxplot"><i class="fa fa-check"></i><b>1.11.1</b> Boxplots via <code>geom_boxplot</code></a></li>
<li class="chapter" data-level="1.11.2" data-path="1-viz.html"><a href="1-viz.html#summary-3"><i class="fa fa-check"></i><b>1.11.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="1.12" data-path="1-viz.html"><a href="1-viz.html#geombar"><i class="fa fa-check"></i><b>1.12</b> Barplots</a><ul>
<li class="chapter" data-level="1.12.1" data-path="1-viz.html"><a href="1-viz.html#barplots-via-geom_bar-or-geom_col"><i class="fa fa-check"></i><b>1.12.1</b> Barplots via <code>geom_bar</code> or <code>geom_col</code></a></li>
<li class="chapter" data-level="1.12.2" data-path="1-viz.html"><a href="1-viz.html#must-avoid-pie-charts"><i class="fa fa-check"></i><b>1.12.2</b> Must avoid pie charts!</a></li>
<li class="chapter" data-level="1.12.3" data-path="1-viz.html"><a href="1-viz.html#two-categ-barplot"><i class="fa fa-check"></i><b>1.12.3</b> Two categorical variables</a></li>
<li class="chapter" data-level="1.12.4" data-path="1-viz.html"><a href="1-viz.html#summary-4"><i class="fa fa-check"></i><b>1.12.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="1.13" data-path="1-viz.html"><a href="1-viz.html#conclusion-1"><i class="fa fa-check"></i><b>1.13</b> Conclusion</a><ul>
<li class="chapter" data-level="1.13.1" data-path="1-viz.html"><a href="1-viz.html#summary-table"><i class="fa fa-check"></i><b>1.13.1</b> Summary table</a></li>
<li class="chapter" data-level="1.13.2" data-path="1-viz.html"><a href="1-viz.html#function-argument-specification"><i class="fa fa-check"></i><b>1.13.2</b> Function argument specification</a></li>
<li class="chapter" data-level="1.13.3" data-path="1-viz.html"><a href="1-viz.html#additional-resources-1"><i class="fa fa-check"></i><b>1.13.3</b> Additional resources</a></li>
<li class="chapter" data-level="1.13.4" data-path="1-viz.html"><a href="1-viz.html#whats-to-come-3"><i class="fa fa-check"></i><b>1.13.4</b> What’s to come</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-wrangling.html"><a href="2-wrangling.html"><i class="fa fa-check"></i><b>2</b> Tidyverse</a><ul>
<li class="chapter" data-level="2.1" data-path="2-wrangling.html"><a href="2-wrangling.html#piping"><i class="fa fa-check"></i><b>2.1</b> The pipe operator: <code>%&gt;%</code></a></li>
<li class="chapter" data-level="2.2" data-path="2-wrangling.html"><a href="2-wrangling.html#filter"><i class="fa fa-check"></i><b>2.2</b> <code>filter</code> rows</a></li>
<li class="chapter" data-level="2.3" data-path="2-wrangling.html"><a href="2-wrangling.html#summarize"><i class="fa fa-check"></i><b>2.3</b> <code>summarize</code> variables</a></li>
<li class="chapter" data-level="2.4" data-path="2-wrangling.html"><a href="2-wrangling.html#groupby"><i class="fa fa-check"></i><b>2.4</b> <code>group_by</code> rows</a><ul>
<li class="chapter" data-level="2.4.1" data-path="2-wrangling.html"><a href="2-wrangling.html#grouping-by-more-than-one-variable"><i class="fa fa-check"></i><b>2.4.1</b> Grouping by more than one variable</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="2-wrangling.html"><a href="2-wrangling.html#mutate"><i class="fa fa-check"></i><b>2.5</b> <code>mutate</code> existing variables</a></li>
<li class="chapter" data-level="2.6" data-path="2-wrangling.html"><a href="2-wrangling.html#arrange"><i class="fa fa-check"></i><b>2.6</b> <code>arrange</code> and sort rows</a></li>
<li class="chapter" data-level="2.7" data-path="2-wrangling.html"><a href="2-wrangling.html#factors"><i class="fa fa-check"></i><b>2.7</b> Factors</a><ul>
<li class="chapter" data-level="2.7.1" data-path="2-wrangling.html"><a href="2-wrangling.html#the-forcats-package"><i class="fa fa-check"></i><b>2.7.1</b> The <strong>forcats</strong> package</a></li>
<li class="chapter" data-level="2.7.2" data-path="2-wrangling.html"><a href="2-wrangling.html#dropping-unused-levels"><i class="fa fa-check"></i><b>2.7.2</b> Dropping unused levels</a></li>
<li class="chapter" data-level="2.7.3" data-path="2-wrangling.html"><a href="2-wrangling.html#reorder-factors"><i class="fa fa-check"></i><b>2.7.3</b> Change order of the levels, principled</a></li>
<li class="chapter" data-level="2.7.4" data-path="2-wrangling.html"><a href="2-wrangling.html#change-order-of-the-levels-because-i-said-so"><i class="fa fa-check"></i><b>2.7.4</b> Change order of the levels, “because I said so”</a></li>
<li class="chapter" data-level="2.7.5" data-path="2-wrangling.html"><a href="2-wrangling.html#recode-the-levels"><i class="fa fa-check"></i><b>2.7.5</b> Recode the levels</a></li>
<li class="chapter" data-level="2.7.6" data-path="2-wrangling.html"><a href="2-wrangling.html#grow-a-factor"><i class="fa fa-check"></i><b>2.7.6</b> Grow a factor</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="2-wrangling.html"><a href="2-wrangling.html#character-vectors"><i class="fa fa-check"></i><b>2.8</b> Character Vectors</a><ul>
<li class="chapter" data-level="2.8.1" data-path="2-wrangling.html"><a href="2-wrangling.html#manipulating-character-vectors"><i class="fa fa-check"></i><b>2.8.1</b> Manipulating character vectors</a></li>
<li class="chapter" data-level="2.8.2" data-path="2-wrangling.html"><a href="2-wrangling.html#regular-expressions-resources"><i class="fa fa-check"></i><b>2.8.2</b> Regular expressions resources</a></li>
<li class="chapter" data-level="2.8.3" data-path="2-wrangling.html"><a href="2-wrangling.html#character-encoding-resources"><i class="fa fa-check"></i><b>2.8.3</b> Character encoding resources</a></li>
<li class="chapter" data-level="2.8.4" data-path="2-wrangling.html"><a href="2-wrangling.html#character-vectors-that-live-in-a-data-frame"><i class="fa fa-check"></i><b>2.8.4</b> Character vectors that live in a data frame</a></li>
<li class="chapter" data-level="2.8.5" data-path="2-wrangling.html"><a href="2-wrangling.html#regex-free-string-manipulation-with-stringr-and-tidyr"><i class="fa fa-check"></i><b>2.8.5</b> Regex-free string manipulation with stringr and tidyr</a></li>
<li class="chapter" data-level="2.8.6" data-path="2-wrangling.html"><a href="2-wrangling.html#detect-or-filter-on-a-target-string"><i class="fa fa-check"></i><b>2.8.6</b> Detect or filter on a target string</a></li>
<li class="chapter" data-level="2.8.7" data-path="2-wrangling.html"><a href="2-wrangling.html#string-splitting-by-delimiter"><i class="fa fa-check"></i><b>2.8.7</b> String splitting by delimiter</a></li>
<li class="chapter" data-level="2.8.8" data-path="2-wrangling.html"><a href="2-wrangling.html#substring-extraction-and-replacement-by-position"><i class="fa fa-check"></i><b>2.8.8</b> Substring extraction (and replacement) by position</a></li>
<li class="chapter" data-level="2.8.9" data-path="2-wrangling.html"><a href="2-wrangling.html#collapse-a-vector"><i class="fa fa-check"></i><b>2.8.9</b> Collapse a vector</a></li>
<li class="chapter" data-level="2.8.10" data-path="2-wrangling.html"><a href="2-wrangling.html#catenate-vectors"><i class="fa fa-check"></i><b>2.8.10</b> Create a character vector by catenating multiple vectors</a></li>
<li class="chapter" data-level="2.8.11" data-path="2-wrangling.html"><a href="2-wrangling.html#substring-replacement"><i class="fa fa-check"></i><b>2.8.11</b> Substring replacement</a></li>
<li class="chapter" data-level="2.8.12" data-path="2-wrangling.html"><a href="2-wrangling.html#regular-expressions-with-stringr"><i class="fa fa-check"></i><b>2.8.12</b> Regular expressions with stringr</a></li>
<li class="chapter" data-level="2.8.13" data-path="2-wrangling.html"><a href="2-wrangling.html#characters-with-special-meaning"><i class="fa fa-check"></i><b>2.8.13</b> Characters with special meaning</a></li>
<li class="chapter" data-level="2.8.14" data-path="2-wrangling.html"><a href="2-wrangling.html#character-classes"><i class="fa fa-check"></i><b>2.8.14</b> Character classes</a></li>
<li class="chapter" data-level="2.8.15" data-path="2-wrangling.html"><a href="2-wrangling.html#quantifiers"><i class="fa fa-check"></i><b>2.8.15</b> Quantifiers</a></li>
<li class="chapter" data-level="2.8.16" data-path="2-wrangling.html"><a href="2-wrangling.html#escaping"><i class="fa fa-check"></i><b>2.8.16</b> Escaping</a></li>
<li class="chapter" data-level="2.8.17" data-path="2-wrangling.html"><a href="2-wrangling.html#groups-and-backreferences"><i class="fa fa-check"></i><b>2.8.17</b> Groups and backreferences</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="2-wrangling.html"><a href="2-wrangling.html#combining-data"><i class="fa fa-check"></i><b>2.9</b> Combining Data</a><ul>
<li class="chapter" data-level="2.9.1" data-path="2-wrangling.html"><a href="2-wrangling.html#bind"><i class="fa fa-check"></i><b>2.9.1</b> Bind</a></li>
<li class="chapter" data-level="2.9.2" data-path="2-wrangling.html"><a href="2-wrangling.html#joins-in-dplyr"><i class="fa fa-check"></i><b>2.9.2</b> Joins in dplyr</a></li>
<li class="chapter" data-level="2.9.3" data-path="2-wrangling.html"><a href="2-wrangling.html#joining"><i class="fa fa-check"></i><b>2.9.3</b> Joining</a></li>
<li class="chapter" data-level="2.9.4" data-path="2-wrangling.html"><a href="2-wrangling.html#matching-key-variable-names"><i class="fa fa-check"></i><b>2.9.4</b> Matching “key” variable names</a></li>
<li class="chapter" data-level="2.9.5" data-path="2-wrangling.html"><a href="2-wrangling.html#diff-key"><i class="fa fa-check"></i><b>2.9.5</b> Different “key” variable names</a></li>
<li class="chapter" data-level="2.9.6" data-path="2-wrangling.html"><a href="2-wrangling.html#multiple-key-variables"><i class="fa fa-check"></i><b>2.9.6</b> Multiple “key” variables</a></li>
<li class="chapter" data-level="2.9.7" data-path="2-wrangling.html"><a href="2-wrangling.html#normal-forms"><i class="fa fa-check"></i><b>2.9.7</b> Normal forms</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="2-wrangling.html"><a href="2-wrangling.html#other-verbs"><i class="fa fa-check"></i><b>2.10</b> Other Verbs</a><ul>
<li class="chapter" data-level="2.10.1" data-path="2-wrangling.html"><a href="2-wrangling.html#select"><i class="fa fa-check"></i><b>2.10.1</b> <code>select</code> variables</a></li>
<li class="chapter" data-level="2.10.2" data-path="2-wrangling.html"><a href="2-wrangling.html#rename"><i class="fa fa-check"></i><b>2.10.2</b> <code>rename</code> variables</a></li>
<li class="chapter" data-level="2.10.3" data-path="2-wrangling.html"><a href="2-wrangling.html#top_n-values-of-a-variable"><i class="fa fa-check"></i><b>2.10.3</b> <code>top_n</code> values of a variable</a></li>
<li class="chapter" data-level="2.10.4" data-path="2-wrangling.html"><a href="2-wrangling.html#slice-and-pull-and"><i class="fa fa-check"></i><b>2.10.4</b> <code>slice</code> and <code>pull</code> and <code>[]</code></a></li>
</ul></li>
<li class="chapter" data-level="2.11" data-path="2-wrangling.html"><a href="2-wrangling.html#conclusion-2"><i class="fa fa-check"></i><b>2.11</b> Conclusion</a><ul>
<li class="chapter" data-level="2.11.1" data-path="2-wrangling.html"><a href="2-wrangling.html#summary-table-1"><i class="fa fa-check"></i><b>2.11.1</b> Summary table</a></li>
<li class="chapter" data-level="2.11.2" data-path="2-wrangling.html"><a href="2-wrangling.html#additional-resources-2"><i class="fa fa-check"></i><b>2.11.2</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="2.12" data-path="2-wrangling.html"><a href="2-wrangling.html#tidy"><i class="fa fa-check"></i><b>2.12</b> Tidy</a></li>
<li class="chapter" data-level="2.13" data-path="2-wrangling.html"><a href="2-wrangling.html#csv"><i class="fa fa-check"></i><b>2.13</b> Importing data</a></li>
<li class="chapter" data-level="2.14" data-path="2-wrangling.html"><a href="2-wrangling.html#web-scraping"><i class="fa fa-check"></i><b>2.14</b> Web scraping</a><ul>
<li class="chapter" data-level="2.14.1" data-path="2-wrangling.html"><a href="2-wrangling.html#html"><i class="fa fa-check"></i><b>2.14.1</b> HTML</a></li>
<li class="chapter" data-level="2.14.2" data-path="2-wrangling.html"><a href="2-wrangling.html#the-rvest-package"><i class="fa fa-check"></i><b>2.14.2</b> The rvest package</a></li>
<li class="chapter" data-level="2.14.3" data-path="2-wrangling.html"><a href="2-wrangling.html#css-selectors"><i class="fa fa-check"></i><b>2.14.3</b> CSS selectors</a></li>
<li class="chapter" data-level="2.14.4" data-path="2-wrangling.html"><a href="2-wrangling.html#json"><i class="fa fa-check"></i><b>2.14.4</b> JSON</a></li>
</ul></li>
<li class="chapter" data-level="2.15" data-path="2-wrangling.html"><a href="2-wrangling.html#tidy-data-ex"><i class="fa fa-check"></i><b>2.15</b> “Tidy” data</a><ul>
<li class="chapter" data-level="2.15.1" data-path="2-wrangling.html"><a href="2-wrangling.html#tidy-definition"><i class="fa fa-check"></i><b>2.15.1</b> Definition of “tidy” data</a></li>
<li class="chapter" data-level="2.15.2" data-path="2-wrangling.html"><a href="2-wrangling.html#converting-to-tidy-data"><i class="fa fa-check"></i><b>2.15.2</b> Converting to “tidy” data</a></li>
<li class="chapter" data-level="2.15.3" data-path="2-wrangling.html"><a href="2-wrangling.html#nycflights13-package-1"><i class="fa fa-check"></i><b>2.15.3</b> <code>nycflights13</code> package</a></li>
</ul></li>
<li class="chapter" data-level="2.16" data-path="2-wrangling.html"><a href="2-wrangling.html#case-study-tidy"><i class="fa fa-check"></i><b>2.16</b> Case study: Democracy in Guatemala</a></li>
<li class="chapter" data-level="2.17" data-path="2-wrangling.html"><a href="2-wrangling.html#tidyverse-package"><i class="fa fa-check"></i><b>2.17</b> <code>tidyverse</code> package</a></li>
<li class="chapter" data-level="2.18" data-path="2-wrangling.html"><a href="2-wrangling.html#conclusion-3"><i class="fa fa-check"></i><b>2.18</b> Conclusion</a><ul>
<li class="chapter" data-level="2.18.1" data-path="2-wrangling.html"><a href="2-wrangling.html#additional-resources-3"><i class="fa fa-check"></i><b>2.18.1</b> Additional resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html"><i class="fa fa-check"></i><b>3</b> Rubin Causal Model</a><ul>
<li class="chapter" data-level="3.1" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#what-is-a-causal-effect"><i class="fa fa-check"></i><b>3.1</b> What is a causal effect?</a><ul>
<li class="chapter" data-level="3.1.1" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#everything-is-a-missing-data-problem"><i class="fa fa-check"></i><b>3.1.1</b> Everything is a missing data problem</a></li>
<li class="chapter" data-level="3.1.2" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#potential-outcomes-introduction-to-the-rubin-table"><i class="fa fa-check"></i><b>3.1.2</b> Potential outcomes: introduction to the Rubin Table</a></li>
<li class="chapter" data-level="3.1.3" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#estimands"><i class="fa fa-check"></i><b>3.1.3</b> Estimands</a></li>
<li class="chapter" data-level="3.1.4" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#the-infinite-rubin-table-many-kinds-of-missing-data"><i class="fa fa-check"></i><b>3.1.4</b> The infinite Rubin Table: many kinds of missing data</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#how-do-we-fill-in-the-missing-values"><i class="fa fa-check"></i><b>3.2</b> How do we fill in the missing values?</a><ul>
<li class="chapter" data-level="3.2.1" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#average-treatment-effect"><i class="fa fa-check"></i><b>3.2.1</b> Average treatment effect</a></li>
<li class="chapter" data-level="3.2.2" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#the-assignment-mechanism"><i class="fa fa-check"></i><b>3.2.2</b> The assignment mechanism</a></li>
<li class="chapter" data-level="3.2.3" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#uncertainty-and-permutation-tests"><i class="fa fa-check"></i><b>3.2.3</b> Uncertainty and permutation tests</a></li>
<li class="chapter" data-level="3.2.4" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#everything-is-a-missing-data-problem-revisited-internal-and-external-validity"><i class="fa fa-check"></i><b>3.2.4</b> Everything is a missing data problem revisited: Internal and external validity</a></li>
<li class="chapter" data-level="3.2.5" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#more-complex-models-for-causal-inference"><i class="fa fa-check"></i><b>3.2.5</b> More complex models for causal inference</a></li>
<li class="chapter" data-level="3.2.6" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#causal-inference-and-prediction"><i class="fa fa-check"></i><b>3.2.6</b> Causal inference and prediction</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#other-issues-with-causal-inference"><i class="fa fa-check"></i><b>3.3</b> Other issues with causal inference</a><ul>
<li class="chapter" data-level="3.3.1" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#no-causation-without-manipulation"><i class="fa fa-check"></i><b>3.3.1</b> No causation without manipulation</a></li>
<li class="chapter" data-level="3.3.2" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#stable-unit-treatment-value-assumption-sutva"><i class="fa fa-check"></i><b>3.3.2</b> Stable unit treatment value assumption (SUTVA)</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#conclusion-4"><i class="fa fa-check"></i><b>3.4</b> Conclusion</a></li>
<li class="chapter" data-level="3.5" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#references"><i class="fa fa-check"></i><b>3.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-functions.html"><a href="4-functions.html"><i class="fa fa-check"></i><b>4</b> Functions</a><ul>
<li class="chapter" data-level="4.1" data-path="4-functions.html"><a href="4-functions.html#part-1"><i class="fa fa-check"></i><b>4.1</b> Part 1</a><ul>
<li class="chapter" data-level="4.1.1" data-path="4-functions.html"><a href="4-functions.html#get-something-that-works"><i class="fa fa-check"></i><b>4.1.1</b> Get something that works</a></li>
<li class="chapter" data-level="4.1.2" data-path="4-functions.html"><a href="4-functions.html#skateboard-perfectly-formed-rear-view-mirror"><i class="fa fa-check"></i><b>4.1.2</b> Skateboard &gt;&gt; perfectly formed rear-view mirror</a></li>
<li class="chapter" data-level="4.1.3" data-path="4-functions.html"><a href="4-functions.html#turn-the-working-interactive-code-into-a-function"><i class="fa fa-check"></i><b>4.1.3</b> Turn the working interactive code into a function</a></li>
<li class="chapter" data-level="4.1.4" data-path="4-functions.html"><a href="4-functions.html#test-your-function"><i class="fa fa-check"></i><b>4.1.4</b> Test your function</a></li>
<li class="chapter" data-level="4.1.5" data-path="4-functions.html"><a href="4-functions.html#check-the-validity-of-arguments"><i class="fa fa-check"></i><b>4.1.5</b> Check the validity of arguments</a></li>
<li class="chapter" data-level="4.1.6" data-path="4-functions.html"><a href="4-functions.html#wrap-up-and-whats-next"><i class="fa fa-check"></i><b>4.1.6</b> Wrap-up and what’s next?</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="4-functions.html"><a href="4-functions.html#part-2"><i class="fa fa-check"></i><b>4.2</b> Part 2</a><ul>
<li class="chapter" data-level="4.2.1" data-path="4-functions.html"><a href="4-functions.html#load-the-gapminder-data"><i class="fa fa-check"></i><b>4.2.1</b> Load the Gapminder data</a></li>
<li class="chapter" data-level="4.2.2" data-path="4-functions.html"><a href="4-functions.html#restore-our-max-minus-min-function"><i class="fa fa-check"></i><b>4.2.2</b> Restore our max minus min function</a></li>
<li class="chapter" data-level="4.2.3" data-path="4-functions.html"><a href="4-functions.html#generalize-our-function-to-other-quantiles"><i class="fa fa-check"></i><b>4.2.3</b> Generalize our function to other quantiles</a></li>
<li class="chapter" data-level="4.2.4" data-path="4-functions.html"><a href="4-functions.html#get-something-that-works-again"><i class="fa fa-check"></i><b>4.2.4</b> Get something that works, again</a></li>
<li class="chapter" data-level="4.2.5" data-path="4-functions.html"><a href="4-functions.html#turn-the-working-interactive-code-into-a-function-again"><i class="fa fa-check"></i><b>4.2.5</b> Turn the working interactive code into a function, again</a></li>
<li class="chapter" data-level="4.2.6" data-path="4-functions.html"><a href="4-functions.html#argument-names-freedom-and-conventions"><i class="fa fa-check"></i><b>4.2.6</b> Argument names: freedom and conventions</a></li>
<li class="chapter" data-level="4.2.7" data-path="4-functions.html"><a href="4-functions.html#what-a-function-returns"><i class="fa fa-check"></i><b>4.2.7</b> What a function returns</a></li>
<li class="chapter" data-level="4.2.8" data-path="4-functions.html"><a href="4-functions.html#default-values-freedom-to-not-specify-the-arguments"><i class="fa fa-check"></i><b>4.2.8</b> Default values: freedom to NOT specify the arguments</a></li>
<li class="chapter" data-level="4.2.9" data-path="4-functions.html"><a href="4-functions.html#wrap-up-and-whats-next-1"><i class="fa fa-check"></i><b>4.2.9</b> Wrap-up and what’s next?</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="4-functions.html"><a href="4-functions.html#part-3"><i class="fa fa-check"></i><b>4.3</b> Part 3</a><ul>
<li class="chapter" data-level="4.3.1" data-path="4-functions.html"><a href="4-functions.html#load-the-gapminder-data-1"><i class="fa fa-check"></i><b>4.3.1</b> Load the Gapminder data</a></li>
<li class="chapter" data-level="4.3.2" data-path="4-functions.html"><a href="4-functions.html#restore-our-max-minus-min-function-1"><i class="fa fa-check"></i><b>4.3.2</b> Restore our max minus min function</a></li>
<li class="chapter" data-level="4.3.3" data-path="4-functions.html"><a href="4-functions.html#be-proactive-about-nas"><i class="fa fa-check"></i><b>4.3.3</b> Be proactive about <code>NA</code>s</a></li>
<li class="chapter" data-level="4.3.4" data-path="4-functions.html"><a href="4-functions.html#the-useful-but-mysterious-...-argument"><i class="fa fa-check"></i><b>4.3.4</b> The useful but mysterious <code>...</code> argument</a></li>
<li class="chapter" data-level="4.3.5" data-path="4-functions.html"><a href="4-functions.html#use-testthat-for-formal-unit-tests"><i class="fa fa-check"></i><b>4.3.5</b> Use testthat for formal unit tests</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="4-functions.html"><a href="4-functions.html#list-columns-and-map_-functions"><i class="fa fa-check"></i><b>4.4</b> List columns and <code>map_*</code> functions</a><ul>
<li class="chapter" data-level="4.4.1" data-path="4-functions.html"><a href="4-functions.html#what-are-list-columns"><i class="fa fa-check"></i><b>4.4.1</b> What are list columns?</a></li>
<li class="chapter" data-level="4.4.2" data-path="4-functions.html"><a href="4-functions.html#creating-list-columns-with-mutate"><i class="fa fa-check"></i><b>4.4.2</b> Creating list columns with <code>mutate()</code></a></li>
<li class="chapter" data-level="4.4.3" data-path="4-functions.html"><a href="4-functions.html#map_-functions"><i class="fa fa-check"></i><b>4.4.3</b> <code>map_*</code> functions</a></li>
<li class="chapter" data-level="4.4.4" data-path="4-functions.html"><a href="4-functions.html#using-map_-functions-to-create-list-columns"><i class="fa fa-check"></i><b>4.4.4</b> Using <code>map_*</code> functions to create list columns</a></li>
<li class="chapter" data-level="4.4.5" data-path="4-functions.html"><a href="4-functions.html#practice-with-map_-functions-and-list-columns"><i class="fa fa-check"></i><b>4.4.5</b> Practice with <code>map_*</code> functions and list columns</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-probability.html"><a href="5-probability.html"><i class="fa fa-check"></i><b>5</b> Probability</a><ul>
<li class="chapter" data-level="5.1" data-path="5-probability.html"><a href="5-probability.html#basicsOfProbability"><i class="fa fa-check"></i><b>5.1</b> Defining probability</a><ul>
<li class="chapter" data-level="5.1.1" data-path="5-probability.html"><a href="5-probability.html#intro-questions"><i class="fa fa-check"></i><b>5.1.1</b> Intro Questions</a></li>
<li class="chapter" data-level="5.1.2" data-path="5-probability.html"><a href="5-probability.html#probability-1"><i class="fa fa-check"></i><b>5.1.2</b> Probability</a></li>
<li class="chapter" data-level="5.1.3" data-path="5-probability.html"><a href="5-probability.html#disjoint-or-mutually-exclusive-outcomes"><i class="fa fa-check"></i><b>5.1.3</b> Disjoint or mutually exclusive outcomes</a></li>
<li class="chapter" data-level="5.1.4" data-path="5-probability.html"><a href="5-probability.html#probabilities-when-events-are-not-disjoint"><i class="fa fa-check"></i><b>5.1.4</b> Probabilities when events are not disjoint</a></li>
<li class="chapter" data-level="5.1.5" data-path="5-probability.html"><a href="5-probability.html#probability-distributions"><i class="fa fa-check"></i><b>5.1.5</b> Probability distributions</a></li>
<li class="chapter" data-level="5.1.6" data-path="5-probability.html"><a href="5-probability.html#complement-of-an-event"><i class="fa fa-check"></i><b>5.1.6</b> Complement of an event</a></li>
<li class="chapter" data-level="5.1.7" data-path="5-probability.html"><a href="5-probability.html#probabilityIndependence"><i class="fa fa-check"></i><b>5.1.7</b> Independence</a></li>
<li class="chapter" data-level="5.1.8" data-path="5-probability.html"><a href="5-probability.html#conditionalProbabilitySection"><i class="fa fa-check"></i><b>5.1.8</b> Conditional probability</a></li>
<li class="chapter" data-level="5.1.9" data-path="5-probability.html"><a href="5-probability.html#marginalAndJointProbabilities"><i class="fa fa-check"></i><b>5.1.9</b> Marginal and joint probabilities</a></li>
<li class="chapter" data-level="5.1.10" data-path="5-probability.html"><a href="5-probability.html#defining-conditional-probability"><i class="fa fa-check"></i><b>5.1.10</b> Defining conditional probability</a></li>
<li class="chapter" data-level="5.1.11" data-path="5-probability.html"><a href="5-probability.html#smallpox-in-boston-1721"><i class="fa fa-check"></i><b>5.1.11</b> Smallpox in Boston, 1721</a></li>
<li class="chapter" data-level="5.1.12" data-path="5-probability.html"><a href="5-probability.html#general-multiplication-rule"><i class="fa fa-check"></i><b>5.1.12</b> General multiplication rule</a></li>
<li class="chapter" data-level="5.1.13" data-path="5-probability.html"><a href="5-probability.html#tree-diagrams"><i class="fa fa-check"></i><b>5.1.13</b> Tree diagrams</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="5-probability.html"><a href="5-probability.html#randomVariablesSection"><i class="fa fa-check"></i><b>5.2</b> Random variables</a><ul>
<li class="chapter" data-level="5.2.1" data-path="5-probability.html"><a href="5-probability.html#expectation"><i class="fa fa-check"></i><b>5.2.1</b> Expectation</a></li>
<li class="chapter" data-level="5.2.2" data-path="5-probability.html"><a href="5-probability.html#variability-in-random-variables"><i class="fa fa-check"></i><b>5.2.2</b> Variability in random variables</a></li>
<li class="chapter" data-level="5.2.3" data-path="5-probability.html"><a href="5-probability.html#linear-combinations-of-random-variables"><i class="fa fa-check"></i><b>5.2.3</b> Linear combinations of random variables</a></li>
<li class="chapter" data-level="5.2.4" data-path="5-probability.html"><a href="5-probability.html#variability-in-linear-combinations-of-random-variables"><i class="fa fa-check"></i><b>5.2.4</b> Variability in linear combinations of random variables</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="5-probability.html"><a href="5-probability.html#appendixA"><i class="fa fa-check"></i><b>5.3</b> Statistical Background</a><ul>
<li class="chapter" data-level="5.3.1" data-path="5-probability.html"><a href="5-probability.html#appendix-stat-terms"><i class="fa fa-check"></i><b>5.3.1</b> Basic statistical terms</a></li>
<li class="chapter" data-level="5.3.2" data-path="5-probability.html"><a href="5-probability.html#appendix-normal-curve"><i class="fa fa-check"></i><b>5.3.2</b> Normal distribution</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="5-probability.html"><a href="5-probability.html#bayess-theorem"><i class="fa fa-check"></i><b>5.4</b> Bayes’s Theorem</a></li>
<li class="chapter" data-level="5.5" data-path="5-probability.html"><a href="5-probability.html#conditional-probability"><i class="fa fa-check"></i><b>5.5</b> Conditional probability</a></li>
<li class="chapter" data-level="5.6" data-path="5-probability.html"><a href="5-probability.html#conjoint-probability"><i class="fa fa-check"></i><b>5.6</b> Conjoint probability</a></li>
<li class="chapter" data-level="5.7" data-path="5-probability.html"><a href="5-probability.html#the-cookie-problem"><i class="fa fa-check"></i><b>5.7</b> The cookie problem</a></li>
<li class="chapter" data-level="5.8" data-path="5-probability.html"><a href="5-probability.html#bayess-theorem-1"><i class="fa fa-check"></i><b>5.8</b> Bayes’s Theorem</a></li>
<li class="chapter" data-level="5.9" data-path="5-probability.html"><a href="5-probability.html#the-diachronic-interpretation"><i class="fa fa-check"></i><b>5.9</b> The diachronic interpretation</a></li>
<li class="chapter" data-level="5.10" data-path="5-probability.html"><a href="5-probability.html#the-mm-problem"><i class="fa fa-check"></i><b>5.10</b> The M&amp;M problem</a></li>
<li class="chapter" data-level="5.11" data-path="5-probability.html"><a href="5-probability.html#the-monty-hall-problem"><i class="fa fa-check"></i><b>5.11</b> The Monty Hall problem</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="6-sampling.html"><a href="6-sampling.html"><i class="fa fa-check"></i><b>6</b> Sampling</a><ul>
<li class="chapter" data-level="" data-path="6-sampling.html"><a href="6-sampling.html#needed-packages-1"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="6.1" data-path="6-sampling.html"><a href="6-sampling.html#sampling-activity"><i class="fa fa-check"></i><b>6.1</b> Sampling urn activity</a><ul>
<li class="chapter" data-level="6.1.1" data-path="6-sampling.html"><a href="6-sampling.html#what-proportion-of-this-urns-balls-are-red"><i class="fa fa-check"></i><b>6.1.1</b> What proportion of this urn’s balls are red?</a></li>
<li class="chapter" data-level="6.1.2" data-path="6-sampling.html"><a href="6-sampling.html#using-the-shovel-once"><i class="fa fa-check"></i><b>6.1.2</b> Using the shovel once</a></li>
<li class="chapter" data-level="6.1.3" data-path="6-sampling.html"><a href="6-sampling.html#student-shovels"><i class="fa fa-check"></i><b>6.1.3</b> Using the shovel 33 times</a></li>
<li class="chapter" data-level="6.1.4" data-path="6-sampling.html"><a href="6-sampling.html#what-did-we-just-do"><i class="fa fa-check"></i><b>6.1.4</b> What did we just do?</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="6-sampling.html"><a href="6-sampling.html#sampling-simulation"><i class="fa fa-check"></i><b>6.2</b> Virtual sampling</a><ul>
<li class="chapter" data-level="6.2.1" data-path="6-sampling.html"><a href="6-sampling.html#using-the-virtual-shovel-once"><i class="fa fa-check"></i><b>6.2.1</b> Using the virtual shovel once</a></li>
<li class="chapter" data-level="6.2.2" data-path="6-sampling.html"><a href="6-sampling.html#using-the-virtual-shovel-33-times"><i class="fa fa-check"></i><b>6.2.2</b> Using the virtual shovel 33 times</a></li>
<li class="chapter" data-level="6.2.3" data-path="6-sampling.html"><a href="6-sampling.html#shovel-1000-times"><i class="fa fa-check"></i><b>6.2.3</b> Using the virtual shovel 1,000 times</a></li>
<li class="chapter" data-level="6.2.4" data-path="6-sampling.html"><a href="6-sampling.html#different-shovels"><i class="fa fa-check"></i><b>6.2.4</b> Using different shovels</a></li>
<li class="chapter" data-level="6.2.5" data-path="6-sampling.html"><a href="6-sampling.html#using-many-shovels-at-once"><i class="fa fa-check"></i><b>6.2.5</b> Using many shovels at once</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="6-sampling.html"><a href="6-sampling.html#sampling-framework"><i class="fa fa-check"></i><b>6.3</b> Sampling framework</a><ul>
<li class="chapter" data-level="6.3.1" data-path="6-sampling.html"><a href="6-sampling.html#terminology-and-notation"><i class="fa fa-check"></i><b>6.3.1</b> Terminology and notation</a></li>
<li class="chapter" data-level="6.3.2" data-path="6-sampling.html"><a href="6-sampling.html#sampling-definitions"><i class="fa fa-check"></i><b>6.3.2</b> Statistical definitions</a></li>
<li class="chapter" data-level="6.3.3" data-path="6-sampling.html"><a href="6-sampling.html#moral-of-the-story"><i class="fa fa-check"></i><b>6.3.3</b> The moral of the story</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="6-sampling.html"><a href="6-sampling.html#sampling-case-study"><i class="fa fa-check"></i><b>6.4</b> Case study: Polls</a><ul>
<li class="chapter" data-level="6.4.1" data-path="6-sampling.html"><a href="6-sampling.html#sampling-conclusion-central-limit-theorem"><i class="fa fa-check"></i><b>6.4.1</b> Central Limit Theorem</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="6-sampling.html"><a href="6-sampling.html#conclusion-5"><i class="fa fa-check"></i><b>6.5</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html"><i class="fa fa-check"></i><b>7</b> One Parameter</a><ul>
<li class="chapter" data-level="" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#needed-packages-2"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="7.1" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#resampling-tactile"><i class="fa fa-check"></i><b>7.1</b> Pennies activity</a><ul>
<li class="chapter" data-level="7.1.1" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#what-is-the-average-year-on-us-pennies-in-2019"><i class="fa fa-check"></i><b>7.1.1</b> What is the average year on US pennies in 2019?</a></li>
<li class="chapter" data-level="7.1.2" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#resampling-once"><i class="fa fa-check"></i><b>7.1.2</b> Resampling once</a></li>
<li class="chapter" data-level="7.1.3" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#student-resamples"><i class="fa fa-check"></i><b>7.1.3</b> Resampling 35 times</a></li>
<li class="chapter" data-level="7.1.4" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#what-did-we-just-do-1"><i class="fa fa-check"></i><b>7.1.4</b> What did we just do?</a></li>
<li class="chapter" data-level="7.1.5" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#resampling-simulation"><i class="fa fa-check"></i><b>7.1.5</b> Virtually resampling once</a></li>
<li class="chapter" data-level="7.1.6" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#bootstrap-35-replicates"><i class="fa fa-check"></i><b>7.1.6</b> Virtually resampling 35 times</a></li>
<li class="chapter" data-level="7.1.7" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#bootstrap-1000-replicates"><i class="fa fa-check"></i><b>7.1.7</b> Virtually resampling 1,000 times</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#ci-build-up"><i class="fa fa-check"></i><b>7.2</b> Measuring uncertainty with confidence intervals</a><ul>
<li class="chapter" data-level="7.2.1" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#percentile-method"><i class="fa fa-check"></i><b>7.2.1</b> Percentile method</a></li>
<li class="chapter" data-level="7.2.2" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#se-method"><i class="fa fa-check"></i><b>7.2.2</b> Standard error method</a></li>
<li class="chapter" data-level="7.2.3" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#one-prop-ci"><i class="fa fa-check"></i><b>7.2.3</b> Interpreting confidence intervals</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#ci-width"><i class="fa fa-check"></i><b>7.3</b> Width of confidence intervals</a><ul>
<li class="chapter" data-level="7.3.1" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#impact-of-confidence-level"><i class="fa fa-check"></i><b>7.3.1</b> Impact of confidence level</a></li>
<li class="chapter" data-level="7.3.2" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#fitting-multiple-models-using-map"><i class="fa fa-check"></i><b>7.3.2</b> Fitting multiple models using <code>map()</code></a></li>
<li class="chapter" data-level="7.3.3" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#impact-of-sample-size"><i class="fa fa-check"></i><b>7.3.3</b> Impact of sample size</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#using-lm-and-tidy-as-a-shortcut"><i class="fa fa-check"></i><b>7.4</b> Using <code>lm()</code> and <code>tidy()</code> as a shortcut</a></li>
<li class="chapter" data-level="7.5" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#case-study-two-prop-ci"><i class="fa fa-check"></i><b>7.5</b> Case study: Is yawning contagious?</a><ul>
<li class="chapter" data-level="7.5.1" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#mythbusters-study-data"><i class="fa fa-check"></i><b>7.5.1</b> <em>Mythbusters</em> study data</a></li>
<li class="chapter" data-level="7.5.2" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#sampling-scenario"><i class="fa fa-check"></i><b>7.5.2</b> Sampling scenario</a></li>
<li class="chapter" data-level="7.5.3" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#ci-build"><i class="fa fa-check"></i><b>7.5.3</b> Constructing the confidence interval</a></li>
<li class="chapter" data-level="7.5.4" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#using-lm-and-tidy-as-a-shortcut-1"><i class="fa fa-check"></i><b>7.5.4</b> Using <code>lm()</code> and <code>tidy()</code> as a shortcut</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#ci-conclusion"><i class="fa fa-check"></i><b>7.6</b> Conclusion</a><ul>
<li class="chapter" data-level="7.6.1" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#bootstrap-vs-sampling"><i class="fa fa-check"></i><b>7.6.1</b> Comparing bootstrap and sampling distributions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="8-two-parameters.html"><a href="8-two-parameters.html"><i class="fa fa-check"></i><b>8</b> Two Parameters</a></li>
<li class="chapter" data-level="9" data-path="9-n-parameters.html"><a href="9-n-parameters.html"><i class="fa fa-check"></i><b>9</b> N Parameters</a></li>
<li class="chapter" data-level="10" data-path="10-regression.html"><a href="10-regression.html"><i class="fa fa-check"></i><b>10</b> Continuous Response I</a><ul>
<li class="chapter" data-level="" data-path="10-regression.html"><a href="10-regression.html#needed-packages-3"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="10.1" data-path="10-regression.html"><a href="10-regression.html#model1"><i class="fa fa-check"></i><b>10.1</b> Teaching evaluations: one numerical explanatory variable</a><ul>
<li class="chapter" data-level="10.1.1" data-path="10-regression.html"><a href="10-regression.html#model1EDA"><i class="fa fa-check"></i><b>10.1.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="10.1.2" data-path="10-regression.html"><a href="10-regression.html#model1table"><i class="fa fa-check"></i><b>10.1.2</b> Simple linear regression</a></li>
<li class="chapter" data-level="10.1.3" data-path="10-regression.html"><a href="10-regression.html#interpreting-regression-coefficients"><i class="fa fa-check"></i><b>10.1.3</b> Interpreting regression coefficients</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="10-regression.html"><a href="10-regression.html#uncertainty-in-simple-linear-regressions"><i class="fa fa-check"></i><b>10.2</b> Uncertainty in simple linear regressions</a><ul>
<li class="chapter" data-level="10.2.1" data-path="10-regression.html"><a href="10-regression.html#using-lm-and-tidy-as-a-shortcut-2"><i class="fa fa-check"></i><b>10.2.1</b> Using <code>lm()</code> and <code>tidy()</code> as a shortcut</a></li>
<li class="chapter" data-level="10.2.2" data-path="10-regression.html"><a href="10-regression.html#model1points"><i class="fa fa-check"></i><b>10.2.2</b> Observed/fitted values and residuals</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="10-regression.html"><a href="10-regression.html#model2"><i class="fa fa-check"></i><b>10.3</b> Life expectancy: one categorical explanatory variable</a><ul>
<li class="chapter" data-level="10.3.1" data-path="10-regression.html"><a href="10-regression.html#model2EDA"><i class="fa fa-check"></i><b>10.3.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="10.3.2" data-path="10-regression.html"><a href="10-regression.html#model2table"><i class="fa fa-check"></i><b>10.3.2</b> Linear regression</a></li>
<li class="chapter" data-level="10.3.3" data-path="10-regression.html"><a href="10-regression.html#model2points"><i class="fa fa-check"></i><b>10.3.3</b> Observed/fitted values and residuals</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="10-regression.html"><a href="10-regression.html#case-study-2018-gubernatorial-forecasts"><i class="fa fa-check"></i><b>10.4</b> Case study: 2018 gubernatorial forecasts</a><ul>
<li class="chapter" data-level="10.4.1" data-path="10-regression.html"><a href="10-regression.html#fitting-multiple-models-using-map-1"><i class="fa fa-check"></i><b>10.4.1</b> Fitting multiple models using <code>map()</code></a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="10-regression.html"><a href="10-regression.html#leastsquares"><i class="fa fa-check"></i><b>10.5</b> Appendix: Best-fitting line</a></li>
<li class="chapter" data-level="10.6" data-path="10-regression.html"><a href="10-regression.html#conclusion-6"><i class="fa fa-check"></i><b>10.6</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html"><i class="fa fa-check"></i><b>11</b> Continuous Response II</a><ul>
<li class="chapter" data-level="" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#needed-packages-4"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="11.1" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#model4"><i class="fa fa-check"></i><b>11.1</b> Teaching evaluations revisited: one numerical and one categorical explanatory variable</a><ul>
<li class="chapter" data-level="11.1.1" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#model4EDA"><i class="fa fa-check"></i><b>11.1.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="11.1.2" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#model4interactiontable"><i class="fa fa-check"></i><b>11.1.2</b> Interaction model</a></li>
<li class="chapter" data-level="11.1.3" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#interpreting-regression-coefficients-with-interactions"><i class="fa fa-check"></i><b>11.1.3</b> Interpreting regression coefficients with interactions</a></li>
<li class="chapter" data-level="11.1.4" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#model4table"><i class="fa fa-check"></i><b>11.1.4</b> Parallel slopes model</a></li>
<li class="chapter" data-level="11.1.5" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#model4points"><i class="fa fa-check"></i><b>11.1.5</b> Observed/fitted values and residuals</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#model3"><i class="fa fa-check"></i><b>11.2</b> Credit card debt: two numerical explanatory variables</a><ul>
<li class="chapter" data-level="11.2.1" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#model3EDA"><i class="fa fa-check"></i><b>11.2.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="11.2.2" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#model3table"><i class="fa fa-check"></i><b>11.2.2</b> Regression plane</a></li>
<li class="chapter" data-level="11.2.3" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#model3points"><i class="fa fa-check"></i><b>11.2.3</b> Observed/fitted values and residuals</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#seattle-house-prices"><i class="fa fa-check"></i><b>11.3</b> Case study: Seattle house prices</a><ul>
<li class="chapter" data-level="11.3.1" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#house-prices-EDA-I"><i class="fa fa-check"></i><b>11.3.1</b> Exploratory data analysis: Part I</a></li>
<li class="chapter" data-level="11.3.2" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#house-prices-EDA-II"><i class="fa fa-check"></i><b>11.3.2</b> Exploratory data analysis: Part II</a></li>
<li class="chapter" data-level="11.3.3" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#house-prices-regression"><i class="fa fa-check"></i><b>11.3.3</b> Regression modeling</a></li>
<li class="chapter" data-level="11.3.4" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#house-prices-making-predictions"><i class="fa fa-check"></i><b>11.3.4</b> Making predictions</a></li>
<li class="chapter" data-level="11.3.5" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#fitting-many-models-using-map"><i class="fa fa-check"></i><b>11.3.5</b> Fitting many models using <code>map()</code></a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#other-topics"><i class="fa fa-check"></i><b>11.4</b> Other topics</a><ul>
<li class="chapter" data-level="11.4.1" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#model-selection"><i class="fa fa-check"></i><b>11.4.1</b> Model selection</a></li>
<li class="chapter" data-level="11.4.2" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#correlationcoefficient2"><i class="fa fa-check"></i><b>11.4.2</b> Correlation coefficient</a></li>
<li class="chapter" data-level="11.4.3" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#simpsonsparadox"><i class="fa fa-check"></i><b>11.4.3</b> Simpson’s Paradox</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="12-classification.html"><a href="12-classification.html"><i class="fa fa-check"></i><b>12</b> Discrete Response</a><ul>
<li class="chapter" data-level="" data-path="12-classification.html"><a href="12-classification.html#needed-packages-5"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="12.1" data-path="12-classification.html"><a href="12-classification.html#logistic-regression"><i class="fa fa-check"></i><b>12.1</b> Logistic regression</a><ul>
<li class="chapter" data-level="12.1.1" data-path="12-classification.html"><a href="12-classification.html#what-is-logistic-regression"><i class="fa fa-check"></i><b>12.1.1</b> What is logistic regression?</a></li>
<li class="chapter" data-level="12.1.2" data-path="12-classification.html"><a href="12-classification.html#house-elections-exploratory-data-analysis"><i class="fa fa-check"></i><b>12.1.2</b> House elections: exploratory data analysis</a></li>
<li class="chapter" data-level="12.1.3" data-path="12-classification.html"><a href="12-classification.html#one-categorical-explanatory-variable"><i class="fa fa-check"></i><b>12.1.3</b> One categorical explanatory variable</a></li>
<li class="chapter" data-level="12.1.4" data-path="12-classification.html"><a href="12-classification.html#observedfitted-values-and-residuals"><i class="fa fa-check"></i><b>12.1.4</b> Observed/fitted values and residuals</a></li>
<li class="chapter" data-level="12.1.5" data-path="12-classification.html"><a href="12-classification.html#one-numerical-explanatory-variable"><i class="fa fa-check"></i><b>12.1.5</b> One numerical explanatory variable</a></li>
<li class="chapter" data-level="12.1.6" data-path="12-classification.html"><a href="12-classification.html#one-numerical-and-one-categorical-explanatory-variable"><i class="fa fa-check"></i><b>12.1.6</b> One numerical and one categorical explanatory variable</a></li>
<li class="chapter" data-level="12.1.7" data-path="12-classification.html"><a href="12-classification.html#fitting-many-models-using-map-1"><i class="fa fa-check"></i><b>12.1.7</b> Fitting many models using <code>map()</code></a></li>
<li class="chapter" data-level="12.1.8" data-path="12-classification.html"><a href="12-classification.html#professional-models"><i class="fa fa-check"></i><b>12.1.8</b> Professional models</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="12-classification.html"><a href="12-classification.html#classification-and-regression-trees-cart"><i class="fa fa-check"></i><b>12.2</b> Classification and regression trees (CART)</a><ul>
<li class="chapter" data-level="12.2.1" data-path="12-classification.html"><a href="12-classification.html#what-is-cart"><i class="fa fa-check"></i><b>12.2.1</b> What is CART?</a></li>
<li class="chapter" data-level="12.2.2" data-path="12-classification.html"><a href="12-classification.html#one-categorical-explanatory-variable-1"><i class="fa fa-check"></i><b>12.2.2</b> One categorical explanatory variable</a></li>
<li class="chapter" data-level="12.2.3" data-path="12-classification.html"><a href="12-classification.html#one-numerical-explanatory-variable-1"><i class="fa fa-check"></i><b>12.2.3</b> One numerical explanatory variable</a></li>
<li class="chapter" data-level="12.2.4" data-path="12-classification.html"><a href="12-classification.html#multiple-explanatory-variables"><i class="fa fa-check"></i><b>12.2.4</b> Multiple explanatory variables</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="12-classification.html"><a href="12-classification.html#random-forests"><i class="fa fa-check"></i><b>12.3</b> Random forests</a><ul>
<li class="chapter" data-level="12.3.1" data-path="12-classification.html"><a href="12-classification.html#what-are-random-forests"><i class="fa fa-check"></i><b>12.3.1</b> What are random forests?</a></li>
<li class="chapter" data-level="12.3.2" data-path="12-classification.html"><a href="12-classification.html#fitting-random-forests"><i class="fa fa-check"></i><b>12.3.2</b> Fitting random forests</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="12-classification.html"><a href="12-classification.html#comparing-the-three-approaches"><i class="fa fa-check"></i><b>12.4</b> Comparing the three approaches</a><ul>
<li class="chapter" data-level="12.4.1" data-path="12-classification.html"><a href="12-classification.html#is-accuracy-the-right-measure"><i class="fa fa-check"></i><b>12.4.1</b> Is accuracy the right measure?</a></li>
<li class="chapter" data-level="12.4.2" data-path="12-classification.html"><a href="12-classification.html#modeling-for-prediction-vs.-explanation"><i class="fa fa-check"></i><b>12.4.2</b> Modeling for prediction vs. explanation</a></li>
<li class="chapter" data-level="12.4.3" data-path="12-classification.html"><a href="12-classification.html#out-of-sample-predictions"><i class="fa fa-check"></i><b>12.4.3</b> Out-of-sample predictions</a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="A-productivity.html"><a href="A-productivity.html"><i class="fa fa-check"></i><b>A</b> Productivity</a><ul>
<li class="chapter" data-level="A.1" data-path="A-productivity.html"><a href="A-productivity.html#set-up"><i class="fa fa-check"></i><b>A.1</b> Set Up</a><ul>
<li class="chapter" data-level="A.1.1" data-path="A-productivity.html"><a href="A-productivity.html#terminal-on-mac"><i class="fa fa-check"></i><b>A.1.1</b> Accessing the terminal on a Mac</a></li>
<li class="chapter" data-level="A.1.2" data-path="A-productivity.html"><a href="A-productivity.html#installing-git-on-the-mac"><i class="fa fa-check"></i><b>A.1.2</b> Installing Git on the Mac</a></li>
<li class="chapter" data-level="A.1.3" data-path="A-productivity.html"><a href="A-productivity.html#installing-git-and-git-bash-on-windows"><i class="fa fa-check"></i><b>A.1.3</b> Installing Git and Git Bash on Windows</a></li>
<li class="chapter" data-level="A.1.4" data-path="A-productivity.html"><a href="A-productivity.html#terminal-on-windows"><i class="fa fa-check"></i><b>A.1.4</b> Accessing the terminal on Windows</a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="A-productivity.html"><a href="A-productivity.html#unix"><i class="fa fa-check"></i><b>A.2</b> Organizing with Unix</a><ul>
<li class="chapter" data-level="A.2.1" data-path="A-productivity.html"><a href="A-productivity.html#naming-convention"><i class="fa fa-check"></i><b>A.2.1</b> Naming convention</a></li>
<li class="chapter" data-level="A.2.2" data-path="A-productivity.html"><a href="A-productivity.html#the-terminal"><i class="fa fa-check"></i><b>A.2.2</b> The terminal</a></li>
<li class="chapter" data-level="A.2.3" data-path="A-productivity.html"><a href="A-productivity.html#filesystem"><i class="fa fa-check"></i><b>A.2.3</b> The filesystem</a></li>
<li class="chapter" data-level="A.2.4" data-path="A-productivity.html"><a href="A-productivity.html#directories-and-subdirectories"><i class="fa fa-check"></i><b>A.2.4</b> Directories and subdirectories</a></li>
<li class="chapter" data-level="A.2.5" data-path="A-productivity.html"><a href="A-productivity.html#the-home-directory"><i class="fa fa-check"></i><b>A.2.5</b> The home directory</a></li>
<li class="chapter" data-level="A.2.6" data-path="A-productivity.html"><a href="A-productivity.html#working-directory"><i class="fa fa-check"></i><b>A.2.6</b> Working directory</a></li>
<li class="chapter" data-level="A.2.7" data-path="A-productivity.html"><a href="A-productivity.html#paths"><i class="fa fa-check"></i><b>A.2.7</b> Paths</a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="A-productivity.html"><a href="A-productivity.html#unix-commands"><i class="fa fa-check"></i><b>A.3</b> Unix commands</a><ul>
<li class="chapter" data-level="A.3.1" data-path="A-productivity.html"><a href="A-productivity.html#ls-listing-directory-content"><i class="fa fa-check"></i><b>A.3.1</b> <code>ls</code>: Listing directory content</a></li>
<li class="chapter" data-level="A.3.2" data-path="A-productivity.html"><a href="A-productivity.html#mkdir-and-rmdir-make-and-remove-a-directory"><i class="fa fa-check"></i><b>A.3.2</b> <code>mkdir</code> and <code>rmdir</code>: make and remove a directory</a></li>
<li class="chapter" data-level="A.3.3" data-path="A-productivity.html"><a href="A-productivity.html#cd-navigating-the-filesystem-by-changing-directories"><i class="fa fa-check"></i><b>A.3.3</b> <code>cd</code>: navigating the filesystem by changing directories</a></li>
<li class="chapter" data-level="A.3.4" data-path="A-productivity.html"><a href="A-productivity.html#some-examples"><i class="fa fa-check"></i><b>A.3.4</b> Some examples</a></li>
<li class="chapter" data-level="A.3.5" data-path="A-productivity.html"><a href="A-productivity.html#more-unix-commands"><i class="fa fa-check"></i><b>A.3.5</b> More Unix commands</a></li>
<li class="chapter" data-level="A.3.6" data-path="A-productivity.html"><a href="A-productivity.html#advanced-unix"><i class="fa fa-check"></i><b>A.3.6</b> Advanced Unix</a></li>
<li class="chapter" data-level="A.3.7" data-path="A-productivity.html"><a href="A-productivity.html#file-manipulation-in-r"><i class="fa fa-check"></i><b>A.3.7</b> File manipulation in R</a></li>
</ul></li>
<li class="chapter" data-level="A.4" data-path="A-productivity.html"><a href="A-productivity.html#git"><i class="fa fa-check"></i><b>A.4</b> Git and GitHub</a><ul>
<li class="chapter" data-level="A.4.1" data-path="A-productivity.html"><a href="A-productivity.html#github-accounts"><i class="fa fa-check"></i><b>A.4.1</b> GitHub accounts</a></li>
<li class="chapter" data-level="A.4.2" data-path="A-productivity.html"><a href="A-productivity.html#github-repos"><i class="fa fa-check"></i><b>A.4.2</b> GitHub repositories</a></li>
<li class="chapter" data-level="A.4.3" data-path="A-productivity.html"><a href="A-productivity.html#git-overview"><i class="fa fa-check"></i><b>A.4.3</b> Overview of Git</a></li>
<li class="chapter" data-level="A.4.4" data-path="A-productivity.html"><a href="A-productivity.html#rstudio-git"><i class="fa fa-check"></i><b>A.4.4</b> Using Git and GitHub in RStudio</a></li>
</ul></li>
<li class="chapter" data-level="A.5" data-path="A-productivity.html"><a href="A-productivity.html#r"><i class="fa fa-check"></i><b>A.5</b> R</a><ul>
<li class="chapter" data-level="A.5.1" data-path="A-productivity.html"><a href="A-productivity.html#rstudio-projects"><i class="fa fa-check"></i><b>A.5.1</b> RStudio projects</a></li>
<li class="chapter" data-level="A.5.2" data-path="A-productivity.html"><a href="A-productivity.html#r-markdown"><i class="fa fa-check"></i><b>A.5.2</b> R markdown</a></li>
<li class="chapter" data-level="A.5.3" data-path="A-productivity.html"><a href="A-productivity.html#help-for-r"><i class="fa fa-check"></i><b>A.5.3</b> Help for R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="B" data-path="B-getting-help.html"><a href="B-getting-help.html"><i class="fa fa-check"></i><b>B</b> Getting Help</a><ul>
<li class="chapter" data-level="B.1" data-path="B-getting-help.html"><a href="B-getting-help.html#searching-for-help-with-r-1"><i class="fa fa-check"></i><b>B.1</b> Searching for Help with R</a></li>
<li class="chapter" data-level="B.2" data-path="B-getting-help.html"><a href="B-getting-help.html#reproducible-examples-1"><i class="fa fa-check"></i><b>B.2</b> Reproducible Examples</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="C-shiny.html"><a href="C-shiny.html"><i class="fa fa-check"></i><b>C</b> Shiny</a><ul>
<li class="chapter" data-level="C.1" data-path="C-shiny.html"><a href="C-shiny.html#helpful-resources"><i class="fa fa-check"></i><b>C.1</b> Helpful Resources</a></li>
<li class="chapter" data-level="C.2" data-path="C-shiny.html"><a href="C-shiny.html#set-up-and-getting-started"><i class="fa fa-check"></i><b>C.2</b> Set Up and Getting Started</a></li>
<li class="chapter" data-level="C.3" data-path="C-shiny.html"><a href="C-shiny.html#building-your-basic-app"><i class="fa fa-check"></i><b>C.3</b> Building Your Basic App</a><ul>
<li class="chapter" data-level="C.3.1" data-path="C-shiny.html"><a href="C-shiny.html#setting-up-the-basic-ui"><i class="fa fa-check"></i><b>C.3.1</b> Setting Up the Basic UI</a></li>
<li class="chapter" data-level="C.3.2" data-path="C-shiny.html"><a href="C-shiny.html#setting-up-the-server"><i class="fa fa-check"></i><b>C.3.2</b> Setting up the Server</a></li>
</ul></li>
<li class="chapter" data-level="C.4" data-path="C-shiny.html"><a href="C-shiny.html#organization"><i class="fa fa-check"></i><b>C.4</b> Organization</a></li>
<li class="chapter" data-level="C.5" data-path="C-shiny.html"><a href="C-shiny.html#customizations"><i class="fa fa-check"></i><b>C.5</b> Customizations</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="D-maps.html"><a href="D-maps.html"><i class="fa fa-check"></i><b>D</b> Maps</a><ul>
<li class="chapter" data-level="D.1" data-path="D-maps.html"><a href="D-maps.html#tidycensus"><i class="fa fa-check"></i><b>D.1</b> Tidycensus</a></li>
<li class="chapter" data-level="D.2" data-path="D-maps.html"><a href="D-maps.html#conceptual-introduction-to-mapping"><i class="fa fa-check"></i><b>D.2</b> Conceptual introduction to mapping</a><ul>
<li class="chapter" data-level="D.2.1" data-path="D-maps.html"><a href="D-maps.html#vector-versus-spatial-data"><i class="fa fa-check"></i><b>D.2.1</b> Vector versus spatial data</a></li>
<li class="chapter" data-level="D.2.2" data-path="D-maps.html"><a href="D-maps.html#sf-vs-sp"><i class="fa fa-check"></i><b>D.2.2</b> <strong>sf</strong> vs <strong>sp</strong></a></li>
<li class="chapter" data-level="D.2.3" data-path="D-maps.html"><a href="D-maps.html#shapefiles"><i class="fa fa-check"></i><b>D.2.3</b> Shapefiles</a></li>
</ul></li>
<li class="chapter" data-level="D.3" data-path="D-maps.html"><a href="D-maps.html#mapping-with-tidycensus-and-geom_sf"><i class="fa fa-check"></i><b>D.3</b> Mapping with <strong>tidycensus</strong> and <code>geom_sf()</code></a><ul>
<li class="chapter" data-level="D.3.1" data-path="D-maps.html"><a href="D-maps.html#making-maps-pretty"><i class="fa fa-check"></i><b>D.3.1</b> Making maps pretty</a></li>
<li class="chapter" data-level="D.3.2" data-path="D-maps.html"><a href="D-maps.html#adding-back-alaska-and-hawaii"><i class="fa fa-check"></i><b>D.3.2</b> Adding back Alaska and Hawaii</a></li>
</ul></li>
<li class="chapter" data-level="D.4" data-path="D-maps.html"><a href="D-maps.html#faceting-maps"><i class="fa fa-check"></i><b>D.4</b> Faceting maps</a><ul>
<li class="chapter" data-level="D.4.1" data-path="D-maps.html"><a href="D-maps.html#transforming-and-mapping-the-data"><i class="fa fa-check"></i><b>D.4.1</b> Transforming and mapping the data</a></li>
</ul></li>
<li class="chapter" data-level="D.5" data-path="D-maps.html"><a href="D-maps.html#want-to-explore-further"><i class="fa fa-check"></i><b>D.5</b> Want to explore further?</a></li>
</ul></li>
<li class="chapter" data-level="E" data-path="E-animation.html"><a href="E-animation.html"><i class="fa fa-check"></i><b>E</b> Animation</a><ul>
<li class="chapter" data-level="E.1" data-path="E-animation.html"><a href="E-animation.html#gganimate-how-to-create-plots-with-beautiful-animation-in-r"><i class="fa fa-check"></i><b>E.1</b> gganimate: How to Create Plots with Beautiful Animation in R</a><ul>
<li class="chapter" data-level="E.1.1" data-path="E-animation.html"><a href="E-animation.html#prerequisites"><i class="fa fa-check"></i><b>E.1.1</b> Prerequisites</a></li>
<li class="chapter" data-level="E.1.2" data-path="E-animation.html"><a href="E-animation.html#demo-dataset"><i class="fa fa-check"></i><b>E.1.2</b> Demo dataset</a></li>
<li class="chapter" data-level="E.1.3" data-path="E-animation.html"><a href="E-animation.html#static-plot"><i class="fa fa-check"></i><b>E.1.3</b> Static plot</a></li>
<li class="chapter" data-level="E.1.4" data-path="E-animation.html"><a href="E-animation.html#transition-through-distinct-states-in-time"><i class="fa fa-check"></i><b>E.1.4</b> Transition through distinct states in time</a></li>
<li class="chapter" data-level="E.1.5" data-path="E-animation.html"><a href="E-animation.html#reveal-data-along-a-given-dimension"><i class="fa fa-check"></i><b>E.1.5</b> Reveal data along a given dimension</a></li>
<li class="chapter" data-level="E.1.6" data-path="E-animation.html"><a href="E-animation.html#transition-between-several-distinct-stages-of-the-data"><i class="fa fa-check"></i><b>E.1.6</b> Transition between several distinct stages of the data</a></li>
<li class="chapter" data-level="E.1.7" data-path="E-animation.html"><a href="E-animation.html#read-more"><i class="fa fa-check"></i><b>E.1.7</b> Read more</a></li>
</ul></li>
<li class="chapter" data-level="E.2" data-path="E-animation.html"><a href="E-animation.html#how-to-save-your-animation"><i class="fa fa-check"></i><b>E.2</b> How to save your animation</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-1.html"><a href="references-1.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Preceptor’s Primer for Bayesian Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="wrangling" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> Tidyverse</h1>
<!-- ifelse (and other similar commands?) belongs earlier in the book, like when we first use mutate(). What else might be introduced with the initial usages of mutate? -->
<!-- cover everything that comes later -->
<p>So far in our journey, we’ve seen how to look at data saved in data frames using the <code>glimpse()</code> and <code>View()</code> functions in Chapter <a href="#getting-started"><strong>??</strong></a>, and how to create data visualizations using the <code>ggplot2</code> package in Chapter <a href="1-viz.html#viz">1</a>. In particular we studied what we term the “five named graphs” (5NG):</p>
<ol style="list-style-type: decimal">
<li>scatterplots via <code>geom_point()</code></li>
<li>linegraphs via <code>geom_line()</code></li>
<li>boxplots via <code>geom_boxplot()</code></li>
<li>histograms via <code>geom_histogram()</code></li>
<li>barplots via <code>geom_bar()</code> or <code>geom_col()</code></li>
</ol>
<p>We created these visualizations using the grammar of graphics, which maps variables in a data frame to the aesthetic attributes of one of the 5 <code>geom</code>etric objects. We can also control other aesthetic attributes of the geometric objects such as the size and color as seen in the Gapminder data example in Figure <a href="1-viz.html#fig:gapminder">1.6</a>.</p>
<p>Recall however that for two of our visualizations, we first needed to transform/modify existing data frames a little. For example, recall the scatterplot in Figure <a href="1-viz.html#fig:noalpha">1.7</a> of departure and arrival delays <em>only</em> for Alaska Airlines flights. In order to create this visualization, we first needed to pare down the <code>flights</code> data frame to an <code>alaska_flights</code> data frame consisting of only <code>carrier == "AS"</code> flights. Thus, <code>alaska_flights</code> will have fewer rows than <code>flights</code>. We did this using the <code>filter()</code> function:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="2-wrangling.html#cb57-1"></a>alaska_flights &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb57-2"><a href="2-wrangling.html#cb57-2"></a><span class="st">  </span><span class="kw">filter</span>(carrier <span class="op">==</span><span class="st"> &quot;AS&quot;</span>)</span></code></pre></div>
<p>In this chapter, we’ll extend this example and we’ll introduce a series of functions from the <code>dplyr</code> package for data wrangling that will allow you to take a data frame and “wrangle” it (transform it) to suit your needs. Such functions include:</p>
<ol style="list-style-type: decimal">
<li><code>filter()</code> a data frame’s existing rows to only pick out a subset of them. For example, the <code>alaska_flights</code> data frame.</li>
<li><code>summarize()</code> one or more of its columns/variables with a <em>summary statistic</em>. Examples of summary statistics include the median and interquartile range of temperatures as we saw in Section <a href="1-viz.html#boxplots">1.11</a> on boxplots.</li>
<li><code>group_by()</code> its rows. In other words, assign different rows to be part of the same <em>group</em>. We can then combine <code>group_by()</code> with <code>summarize()</code> to report summary statistics for each group <em>separately</em>. For example, say you don’t want a single overall average departure delay <code>dep_delay</code> for all three <code>origin</code> airports combined, but rather three separate average departure delays, one computed for each of the three <code>origin</code> airports.</li>
<li><code>mutate()</code> its existing columns/variables to create new ones. For example, convert hourly temperature recordings from degrees Fahrenheit to degrees Celsius.</li>
<li><code>arrange()</code> its rows. For example, sort the rows of <code>weather</code> in ascending or descending order of <code>temp</code>.</li>
<li><code>join()</code> it with another data frame by matching along a “key” variable. In other words, merge these two data frames together.</li>
</ol>
<p>Notice how we used <code>computer_code</code> font to describe the actions we want to take on our data frames. This is because the <code>dplyr</code> package for data wrangling has intuitively verb-named functions that are easy to remember.</p>
<p>There is a further benefit to learning to use the <code>dplyr</code> package for data wrangling: its similarity to the database querying language <a href="https://en.wikipedia.org/wiki/SQL">SQL</a> (pronounced “sequel” or spelled out as “S”, “Q”, “L”). SQL (which stands for “Structured Query Language”) is used to manage large databases quickly and efficiently and is widely used by many institutions with a lot of data. While SQL is a topic left for a book or a course on database management, keep in mind that once you learn <code>dplyr</code>, you can learn SQL easily. We’ll talk more about their similarities in Subsection <a href="2-wrangling.html#normal-forms">2.9.7</a>.</p>
<p>Let’s load all the packages needed for this chapter (this assumes you’ve already installed them). If needed, read Section <a href="1-viz.html#packages">1.3</a> for information on how to install and load R packages.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="2-wrangling.html#cb58-1"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb58-2"><a href="2-wrangling.html#cb58-2"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb58-3"><a href="2-wrangling.html#cb58-3"></a><span class="kw">library</span>(nycflights13)</span></code></pre></div>
<div id="piping" class="section level2">
<h2><span class="header-section-number">2.1</span> The pipe operator: <code>%&gt;%</code></h2>
<p>Before we start data wrangling, let’s first introduce a nifty tool that gets loaded with the <code>dplyr</code> package: the  pipe operator <code>%&gt;%</code>. The pipe operator allows us to combine multiple operations in R into a single sequential <em>chain</em> of actions.</p>
<p>Let’s start with a hypothetical example. Say you would like to perform a hypothetical sequence of operations on a hypothetical data frame <code>x</code> using hypothetical functions <code>f()</code>, <code>g()</code>, and <code>h()</code>:</p>
<ol style="list-style-type: decimal">
<li>Take <code>x</code> <em>then</em></li>
<li>Use <code>x</code> as an input to a function <code>f()</code> <em>then</em></li>
<li>Use the output of <code>f(x)</code> as an input to a function <code>g()</code> <em>then</em></li>
<li>Use the output of <code>g(f(x))</code> as an input to a function <code>h()</code></li>
</ol>
<p>One way to achieve this sequence of operations is by using nesting parentheses as follows:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="2-wrangling.html#cb59-1"></a><span class="kw">h</span>(<span class="kw">g</span>(<span class="kw">f</span>(x)))</span></code></pre></div>
<p>This code isn’t so hard to read since we are applying only three functions: <code>f()</code>, then <code>g()</code>, then <code>h()</code> and each of the functions is short in its name. Further, each of these functions also only has one argument. However, you can imagine that this will get progressively harder to read as the number of functions applied in your sequence increases and the arguments in each function increase as well. This is where the pipe operator <code>%&gt;%</code> comes in handy. <code>%&gt;%</code> takes the output of one function and then “pipes” it to be the input of the next function. Furthermore, a helpful trick is to read <code>%&gt;%</code> as “then” or “and then.” For example, you can obtain the same output as the hypothetical sequence of functions as follows:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="2-wrangling.html#cb60-1"></a>x <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb60-2"><a href="2-wrangling.html#cb60-2"></a><span class="st">  </span><span class="kw">f</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb60-3"><a href="2-wrangling.html#cb60-3"></a><span class="st">  </span><span class="kw">g</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb60-4"><a href="2-wrangling.html#cb60-4"></a><span class="st">  </span><span class="kw">h</span>()</span></code></pre></div>
<p>You would read this sequence as:</p>
<ol style="list-style-type: decimal">
<li>Take <code>x</code> <em>then</em></li>
<li>Use this output as the input to the next function <code>f()</code> <em>then</em></li>
<li>Use this output as the input to the next function <code>g()</code> <em>then</em></li>
<li>Use this output as the input to the next function <code>h()</code></li>
</ol>
<p>So while both approaches achieve the same goal, the latter is much more human-readable because you can clearly read the sequence of operations line-by-line. But what are the hypothetical <code>x</code>, <code>f()</code>, <code>g()</code>, and <code>h()</code>? Throughout this chapter on data wrangling:</p>
<ol style="list-style-type: decimal">
<li>The starting value <code>x</code> will be a data frame. For example, the  <code>flights</code> data frame we explored in Section <a href="1-viz.html#nycflights13">1.4</a>.</li>
<li>The sequence of functions, here <code>f()</code>, <code>g()</code>, and <code>h()</code>, will mostly be a sequence of any number of the six data wrangling verb-named functions we listed in the introduction to this chapter. For example, the <code>filter(carrier == "AS")</code> function and argument specified we previewed earlier.</li>
<li>The result will be the transformed/modified data frame that you want. In our example, we’ll save the result in a new data frame by using the <code>&lt;-</code> assignment operator with the name <code>alaska_flights</code> via <code>alaska_flights &lt;-</code>.</li>
</ol>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="2-wrangling.html#cb61-1"></a>alaska_flights &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb61-2"><a href="2-wrangling.html#cb61-2"></a><span class="st">  </span><span class="kw">filter</span>(carrier <span class="op">==</span><span class="st"> &quot;AS&quot;</span>)</span></code></pre></div>
<p>Much like when adding layers to a <code>ggplot()</code> using the <code>+</code> sign, you form a single <em>chain</em> of data wrangling operations by combining verb-named functions into a single sequence using the pipe operator <code>%&gt;%</code>. Furthermore, much like how the <code>+</code> sign has to come at the end of lines when constructing plots, the pipe operator <code>%&gt;%</code> has to come at the end of lines as well.</p>
<p>It is worth noting that most dplyr verbs, as well as most functions in the larger tidyverse, achieve this effect by always having their first argument be an input tibble. For example, look at <code>?filter</code> to see that, for example, the first argument of <code>filter()</code> is a tibble named <code>.data</code>. So, we can rewrite the above code snippet as:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="2-wrangling.html#cb62-1"></a>alaska_flights &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb62-2"><a href="2-wrangling.html#cb62-2"></a><span class="st">  </span><span class="kw">filter</span>(<span class="dt">.data =</span> ., carrier <span class="op">==</span><span class="st"> &quot;AS&quot;</span>)</span></code></pre></div>
<p>The “.” serves as special role when using pipes. It represents the tibble which was “passed down” from the previous step in the pipe. Here, we are telling R that “.” — which is <code>flights</code> in this case — is the first argument to <code>filter()</code>. Since argument names do not have to be used, we can rewrite this as:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="2-wrangling.html#cb63-1"></a>alaska_flights &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb63-2"><a href="2-wrangling.html#cb63-2"></a><span class="st">  </span><span class="kw">filter</span>(., carrier <span class="op">==</span><span class="st"> &quot;AS&quot;</span>)</span></code></pre></div>
<p>You will almost never write code that looks like this, at least with simple dplyr verbs like <code>filter()</code>. But, behind the scenes, this is what is going on. And, in more advanced cases, we will need to use “.” to refer to the passed-in tibble.</p>
<p>Keep in mind, there are many more advanced data wrangling functions than just the six listed in the introduction to this chapter; you’ll see some examples of these in Section <a href="2-wrangling.html#other-verbs">2.10</a>. However, just with these six verb-named functions you’ll be able to perform a broad array of data wrangling tasks for the rest of this book.</p>
</div>
<div id="filter" class="section level2">
<h2><span class="header-section-number">2.2</span> <code>filter</code> rows</h2>
<div class="figure"><span id="fig:filter"></span>
<img src="images/cheatsheets/filter.png" alt="Diagram of filter() rows operation." width="613" />
<p class="caption">
FIGURE 2.1: Diagram of filter() rows operation.
</p>
</div>
<p>The  <code>filter()</code> function here works much like the “Filter” option in Microsoft Excel; it allows you to specify criteria about the values of a variable in your dataset and then filters out only the rows that match that criteria.</p>
<p>We begin by focusing only on flights from New York City to Portland, Oregon. The <code>dest</code> destination code (or airport code) for Portland, Oregon is <code>"PDX"</code>. Run the following and look at the results in RStudio’s spreadsheet viewer to ensure that only flights heading to Portland are chosen here:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="2-wrangling.html#cb64-1"></a>portland_flights &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb64-2"><a href="2-wrangling.html#cb64-2"></a><span class="st">  </span><span class="kw">filter</span>(dest <span class="op">==</span><span class="st"> &quot;PDX&quot;</span>)</span>
<span id="cb64-3"><a href="2-wrangling.html#cb64-3"></a><span class="kw">View</span>(portland_flights)</span></code></pre></div>
<p>Note the order of the code. First, take the <code>flights</code> data frame <code>flights</code> <em>then</em> <code>filter()</code> the data frame so that only those where the <code>dest</code> equals <code>"PDX"</code> are included. We test for equality using the double equal sign  <code>==</code> and not a single equal sign <code>=</code>. In other words <code>filter(dest = "PDX")</code> will yield an error. This is a convention across many programming languages. If you are new to coding, you’ll probably forget to use the double equal sign <code>==</code> a few times before you get the hang of it.</p>
<p>You can use other operators  beyond just the <code>==</code> operator that tests for equality:</p>
<ul>
<li><code>&gt;</code> corresponds to “greater than”</li>
<li><code>&lt;</code> corresponds to “less than”</li>
<li><code>&gt;=</code> corresponds to “greater than or equal to”</li>
<li><code>&lt;=</code> corresponds to “less than or equal to”</li>
<li><code>!=</code> corresponds to “not equal to.” The <code>!</code> is used in many programming languages to indicate “not.”</li>
</ul>
<p>Furthermore, you can combine multiple criteria using operators that make comparisons:</p>
<ul>
<li><code>|</code> corresponds to “or”</li>
<li><code>&amp;</code> corresponds to “and”</li>
</ul>
<p>To see many of these in action, let’s filter <code>flights</code> for all rows that departed from JFK <em>and</em> were heading to Burlington, Vermont (<code>"BTV"</code>) or Seattle, Washington (<code>"SEA"</code>) <em>and</em> departed in the months of October, November, or December. Run the following:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="2-wrangling.html#cb65-1"></a>btv_sea_flights_fall &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb65-2"><a href="2-wrangling.html#cb65-2"></a><span class="st">  </span><span class="kw">filter</span>(origin <span class="op">==</span><span class="st"> &quot;JFK&quot;</span> <span class="op">&amp;</span><span class="st"> </span>(dest <span class="op">==</span><span class="st"> &quot;BTV&quot;</span> <span class="op">|</span><span class="st"> </span>dest <span class="op">==</span><span class="st"> &quot;SEA&quot;</span>) <span class="op">&amp;</span><span class="st"> </span>month <span class="op">&gt;=</span><span class="st"> </span><span class="dv">10</span>)</span>
<span id="cb65-3"><a href="2-wrangling.html#cb65-3"></a><span class="kw">View</span>(btv_sea_flights_fall)</span></code></pre></div>
<p>Note that even though colloquially speaking one might say “all flights leaving Burlington, Vermont <em>and</em> Seattle, Washington,” in terms of computer operations, we really mean “all flights leaving Burlington, Vermont <em>or</em> leaving Seattle, Washington.” For a given row in the data, <code>dest</code> can be <code>"BTV"</code>, or <code>"SEA"</code>, or something else, but not both <code>"BTV"</code> and <code>"SEA"</code> at the same time. Furthermore, note the careful use of parentheses around <code>dest == "BTV" | dest == "SEA"</code>.</p>
<p>We can often skip the use of <code>&amp;</code> and just separate our conditions with a comma. The previous code will return the identical output <code>btv_sea_flights_fall</code> as the following code:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="2-wrangling.html#cb66-1"></a>btv_sea_flights_fall &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb66-2"><a href="2-wrangling.html#cb66-2"></a><span class="st">  </span><span class="kw">filter</span>(origin <span class="op">==</span><span class="st"> &quot;JFK&quot;</span>, (dest <span class="op">==</span><span class="st"> &quot;BTV&quot;</span> <span class="op">|</span><span class="st"> </span>dest <span class="op">==</span><span class="st"> &quot;SEA&quot;</span>), month <span class="op">&gt;=</span><span class="st"> </span><span class="dv">10</span>)</span>
<span id="cb66-3"><a href="2-wrangling.html#cb66-3"></a><span class="kw">View</span>(btv_sea_flights_fall)</span></code></pre></div>
<p>Let’s present another example that uses the  <code>!</code> “not” operator to pick rows that <em>don’t</em> match a criteria. As mentioned earlier, the <code>!</code> can be read as “not.” Here we are filtering rows corresponding to flights that didn’t go to Burlington, VT or Seattle, WA.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="2-wrangling.html#cb67-1"></a>not_BTV_SEA &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb67-2"><a href="2-wrangling.html#cb67-2"></a><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span>(dest <span class="op">==</span><span class="st"> &quot;BTV&quot;</span> <span class="op">|</span><span class="st"> </span>dest <span class="op">==</span><span class="st"> &quot;SEA&quot;</span>))</span>
<span id="cb67-3"><a href="2-wrangling.html#cb67-3"></a><span class="kw">View</span>(not_BTV_SEA)</span></code></pre></div>
<p>Again, note the careful use of parentheses around the <code>(dest == "BTV" | dest == "SEA")</code>. If we didn’t use parentheses as follows:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="2-wrangling.html#cb68-1"></a>flights <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(<span class="op">!</span>dest <span class="op">==</span><span class="st"> &quot;BTV&quot;</span> <span class="op">|</span><span class="st"> </span>dest <span class="op">==</span><span class="st"> &quot;SEA&quot;</span>)</span></code></pre></div>
<p>We would be returning all flights not headed to <code>"BTV"</code> <em>or</em> those headed to <code>"SEA"</code>, which is an entirely different resulting data frame.</p>
<p>Now say we have a larger number of airports we want to filter for, say <code>"SEA"</code>, <code>"SFO"</code>, <code>"PDX"</code>, <code>"BTV"</code>, and <code>"BDL"</code>. We could continue to use the <code>|</code> (<em>or</em>)  operator:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="2-wrangling.html#cb69-1"></a>many_airports &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb69-2"><a href="2-wrangling.html#cb69-2"></a><span class="st">  </span><span class="kw">filter</span>(dest <span class="op">==</span><span class="st"> &quot;SEA&quot;</span> <span class="op">|</span><span class="st"> </span>dest <span class="op">==</span><span class="st"> &quot;SFO&quot;</span> <span class="op">|</span><span class="st"> </span>dest <span class="op">==</span><span class="st"> &quot;PDX&quot;</span> <span class="op">|</span><span class="st"> </span></span>
<span id="cb69-3"><a href="2-wrangling.html#cb69-3"></a><span class="st">         </span>dest <span class="op">==</span><span class="st"> &quot;BTV&quot;</span> <span class="op">|</span><span class="st"> </span>dest <span class="op">==</span><span class="st"> &quot;BDL&quot;</span>)</span></code></pre></div>
<p>but as we progressively include more airports, this will get unwieldy to write. A slightly shorter approach uses the <code>%in%</code>  operator along with the <code>c()</code> function. Recall from Subsection <a href="1-viz.html#programming-concepts">1.2.1</a> that the <code>c()</code> function “combines” or “concatenates” values into a single <em>vector</em> of values. </p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="2-wrangling.html#cb70-1"></a>many_airports &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb70-2"><a href="2-wrangling.html#cb70-2"></a><span class="st">  </span><span class="kw">filter</span>(dest <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;SEA&quot;</span>, <span class="st">&quot;SFO&quot;</span>, <span class="st">&quot;PDX&quot;</span>, <span class="st">&quot;BTV&quot;</span>, <span class="st">&quot;BDL&quot;</span>))</span>
<span id="cb70-3"><a href="2-wrangling.html#cb70-3"></a><span class="kw">View</span>(many_airports)</span></code></pre></div>
<p>What this code is doing is filtering <code>flights</code> for all flights where <code>dest</code> is in the vector of airports <code>c("BTV", "SEA", "PDX", "SFO", "BDL")</code>. Both outputs of <code>many_airports</code> are the same, but as you can see the latter takes much less energy to code. The <code>%in%</code> operator is useful for looking for matches commonly in one vector/variable compared to another.</p>
<p>As a final note, we recommend that <code>filter()</code> should often be among the first verbs you consider applying to your data. This cleans your dataset to only those rows you care about, or put differently, it narrows down the scope of your data frame to just the observations you care about.</p>
</div>
<div id="summarize" class="section level2">
<h2><span class="header-section-number">2.3</span> <code>summarize</code> variables</h2>
<p>The next common task when working with data frames is to compute <em>summary statistics</em>. Summary statistics are single numerical values that summarize a large number of values. Commonly known examples of summary statistics include the mean (also called the average) and the median (the middle value). Other examples of summary statistics that might not immediately come to mind include the <em>sum</em>, the smallest value also called the <em>minimum</em>, the largest value also called the <em>maximum</em>, and the <em>standard deviation</em>. See Appendix <a href="5-probability.html#appendix-stat-terms">5.3.1</a> for a glossary of such summary statistics.</p>
<p>Let’s calculate two summary statistics of the <code>temp</code> temperature variable in the <code>weather</code> data frame: the mean and standard deviation (recall from Section <a href="1-viz.html#nycflights13">1.4</a> that the <code>weather</code> data frame is included in the <code>nycflights13</code> package). To compute these summary statistics, we need the <code>mean()</code> and <code>sd()</code> <em>summary functions</em> in R. Summary functions in R take in many values and return a single value, as illustrated in Figure <a href="2-wrangling.html#fig:summary-function">2.2</a>.</p>
<div class="figure"><span id="fig:summary-function"></span>
<img src="images/cheatsheets/summary.png" alt="Diagram illustrating a summary function in R." width="343" />
<p class="caption">
FIGURE 2.2: Diagram illustrating a summary function in R.
</p>
</div>
<p>More precisely, we’ll use the <code>mean()</code> and <code>sd()</code> summary functions within the <code>summarize()</code>  function from the <code>dplyr</code> package. Note you can also use the British English spelling of <code>summarise()</code>. As shown in Figure <a href="2-wrangling.html#fig:sum1">2.3</a>, the <code>summarize()</code> function takes in a data frame and returns a data frame with only one row corresponding to the summary statistics.</p>
<div class="figure"><span id="fig:sum1"></span>
<img src="images/cheatsheets/summarize1.png" alt="Diagram of summarize() rows." width="80%" height="80%" />
<p class="caption">
FIGURE 2.3: Diagram of summarize() rows.
</p>
</div>
<p>We’ll save the results in a new data frame called <code>summary_temp</code> that will have two columns/variables: the <code>mean</code> and the <code>std_dev</code>:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="2-wrangling.html#cb71-1"></a>summary_temp &lt;-<span class="st"> </span>weather <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb71-2"><a href="2-wrangling.html#cb71-2"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean =</span> <span class="kw">mean</span>(temp), <span class="dt">std_dev =</span> <span class="kw">sd</span>(temp))</span>
<span id="cb71-3"><a href="2-wrangling.html#cb71-3"></a>summary_temp</span></code></pre></div>
<pre><code>## # A tibble: 1 x 2
##    mean std_dev
##   &lt;dbl&gt;   &lt;dbl&gt;
## 1    NA      NA</code></pre>
<p>Why are the values returned <code>NA</code>? As we saw in Subsection <a href="1-viz.html#geompoint">1.7.1</a> when creating the scatterplot of departure and arrival delays for <code>alaska_flights</code>, <code>NA</code> is how R encodes <em>missing values</em>  where <code>NA</code> indicates “not available” or “not applicable.” If a value for a particular row and a particular column does not exist, <code>NA</code> is stored instead. Values can be missing for many reasons. Perhaps the data was collected but someone forgot to enter it? Perhaps the data was not collected at all because it was too difficult to do so? Perhaps there was an erroneous value that someone entered that has been corrected to read as missing? You’ll often encounter issues with missing values when working with real data.</p>
<p>Going back to our <code>summary_temp</code> output, by default any time you try to calculate a summary statistic of a variable that has one or more <code>NA</code> missing values in R, <code>NA</code> is returned. To work around this fact, you can set the <code>na.rm</code> argument to <code>TRUE</code>, where <code>rm</code> is short for “remove”; this will ignore any <code>NA</code> missing values and only return the summary value for all non-missing values.</p>
<p>The code that follows computes the mean and standard deviation of all non-missing values of <code>temp</code>:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="2-wrangling.html#cb73-1"></a>summary_temp &lt;-<span class="st"> </span>weather <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb73-2"><a href="2-wrangling.html#cb73-2"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean =</span> <span class="kw">mean</span>(temp, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>), </span>
<span id="cb73-3"><a href="2-wrangling.html#cb73-3"></a>            <span class="dt">std_dev =</span> <span class="kw">sd</span>(temp, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))</span>
<span id="cb73-4"><a href="2-wrangling.html#cb73-4"></a>summary_temp</span></code></pre></div>
<pre><code>## # A tibble: 1 x 2
##    mean std_dev
##   &lt;dbl&gt;   &lt;dbl&gt;
## 1  55.3    17.8</code></pre>
<p>Notice how the <code>na.rm = TRUE</code>  are used as arguments to the <code>mean()</code>  and <code>sd()</code>  summary functions individually, and not to the <code>summarize()</code> function.</p>
<p>However, one needs to be cautious whenever ignoring missing values as we’ve just done. There are possible ramifications of blindly sweeping rows with missing values “under the rug.” This is in fact why the <code>na.rm</code> argument to any summary statistic function in R is set to <code>FALSE</code> by default. In other words, R does not ignore rows with missing values by default. R is alerting you to the presence of missing data and you should be mindful of this missingness and any potential causes of this missingness throughout your analysis.</p>
<p>What are other summary functions we can use inside the <code>summarize()</code> verb to compute summary statistics? As seen in the diagram in Figure <a href="2-wrangling.html#fig:summary-function">2.2</a>, you can use any function in R that takes many values and returns just one. Here are just a few:</p>
<ul>
<li><code>mean()</code>: the average</li>
<li><code>sd()</code>: the standard deviation, which is a measure of spread</li>
<li><code>min()</code> and <code>max()</code>: the minimum and maximum values, respectively</li>
<li><code>IQR()</code>: interquartile range</li>
<li><code>sum()</code>: the total amount when adding multiple numbers</li>
<li><code>n()</code>: a count of the number of rows in each group. This particular summary function will make more sense when <code>group_by()</code> is covered in Section <a href="2-wrangling.html#groupby">2.4</a>.</li>
</ul>
</div>
<div id="groupby" class="section level2">
<h2><span class="header-section-number">2.4</span> <code>group_by</code> rows</h2>
<!-- To get `_` to work in caption title. Found at https://github.com/rstudio/bookdown/issues/209 -->

<div class="figure"><span id="fig:groupsummarize"></span>
<img src="images/cheatsheets/group_summary.png" alt="Diagram of group_by() and summarize()." width="472" />
<p class="caption">
FIGURE 2.4: Diagram of group_by() and summarize().
</p>
</div>
<p>Say instead of a single mean temperature for the whole year, you would like 12 mean temperatures, one for each of the 12 months separately. In other words, we would like to compute the mean temperature split by month. We can do this by “grouping” temperature observations by the values of another variable, in this case by the 12 values of the variable <code>month</code>. Run the following code:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="2-wrangling.html#cb75-1"></a>summary_monthly_temp &lt;-<span class="st"> </span>weather <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb75-2"><a href="2-wrangling.html#cb75-2"></a><span class="st">  </span><span class="kw">group_by</span>(month) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb75-3"><a href="2-wrangling.html#cb75-3"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean =</span> <span class="kw">mean</span>(temp, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>), </span>
<span id="cb75-4"><a href="2-wrangling.html#cb75-4"></a>            <span class="dt">std_dev =</span> <span class="kw">sd</span>(temp, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))</span>
<span id="cb75-5"><a href="2-wrangling.html#cb75-5"></a>summary_monthly_temp</span></code></pre></div>
<pre><code>## # A tibble: 12 x 3
##    month  mean std_dev
##    &lt;int&gt; &lt;dbl&gt;   &lt;dbl&gt;
##  1     1  35.6   10.2 
##  2     2  34.3    6.98
##  3     3  39.9    6.25
##  4     4  51.7    8.79
##  5     5  61.8    9.68
##  6     6  72.2    7.55
##  7     7  80.1    7.12
##  8     8  74.5    5.19
##  9     9  67.4    8.47
## 10    10  60.1    8.85
## 11    11  45.0   10.4 
## 12    12  38.4    9.98</code></pre>
<p>This code is identical to the previous code that created <code>summary_temp</code>, but with an extra <code>group_by(month)</code> added before the <code>summarize()</code>. Grouping the <code>weather</code> dataset by <code>month</code> and then applying the <code>summarize()</code> functions yields a data frame that displays the mean and standard deviation temperature split by the 12 months of the year.</p>
<p>It is important to note that the  <code>group_by()</code> function doesn’t change data frames by itself. Rather it changes the <em>meta-data</em>, or data about the data, specifically the grouping structure. It is only after we apply the <code>summarize()</code> function that the data frame changes.</p>
<p>For example, let’s consider the  <code>diamonds</code> data frame included in the <code>ggplot2</code> package. Run this code:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="2-wrangling.html#cb77-1"></a>diamonds</span></code></pre></div>
<pre><code>## # A tibble: 53,940 x 10
##    carat cut       color clarity depth table price     x     y     z
##    &lt;dbl&gt; &lt;ord&gt;     &lt;ord&gt; &lt;ord&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 0.23  Ideal     E     SI2      61.5    55   326  3.95  3.98  2.43
##  2 0.21  Premium   E     SI1      59.8    61   326  3.89  3.84  2.31
##  3 0.23  Good      E     VS1      56.9    65   327  4.05  4.07  2.31
##  4 0.290 Premium   I     VS2      62.4    58   334  4.2   4.23  2.63
##  5 0.31  Good      J     SI2      63.3    58   335  4.34  4.35  2.75
##  6 0.24  Very Good J     VVS2     62.8    57   336  3.94  3.96  2.48
##  7 0.24  Very Good I     VVS1     62.3    57   336  3.95  3.98  2.47
##  8 0.26  Very Good H     SI1      61.9    55   337  4.07  4.11  2.53
##  9 0.22  Fair      E     VS2      65.1    61   337  3.87  3.78  2.49
## 10 0.23  Very Good H     VS1      59.4    61   338  4     4.05  2.39
## # … with 53,930 more rows</code></pre>
<p>Observe that the first line of the output reads <code># A tibble: 53,940 x 10</code>. This is an example of meta-data, in this case the number of observations/rows and variables/columns in <code>diamonds</code>. The actual data itself are the subsequent table of values. Now let’s pipe the <code>diamonds</code> data frame into <code>group_by(cut)</code>:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="2-wrangling.html#cb79-1"></a>diamonds <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb79-2"><a href="2-wrangling.html#cb79-2"></a><span class="st">  </span><span class="kw">group_by</span>(cut)</span></code></pre></div>
<pre><code>## # A tibble: 53,940 x 10
## # Groups:   cut [5]
##    carat cut       color clarity depth table price     x     y     z
##    &lt;dbl&gt; &lt;ord&gt;     &lt;ord&gt; &lt;ord&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 0.23  Ideal     E     SI2      61.5    55   326  3.95  3.98  2.43
##  2 0.21  Premium   E     SI1      59.8    61   326  3.89  3.84  2.31
##  3 0.23  Good      E     VS1      56.9    65   327  4.05  4.07  2.31
##  4 0.290 Premium   I     VS2      62.4    58   334  4.2   4.23  2.63
##  5 0.31  Good      J     SI2      63.3    58   335  4.34  4.35  2.75
##  6 0.24  Very Good J     VVS2     62.8    57   336  3.94  3.96  2.48
##  7 0.24  Very Good I     VVS1     62.3    57   336  3.95  3.98  2.47
##  8 0.26  Very Good H     SI1      61.9    55   337  4.07  4.11  2.53
##  9 0.22  Fair      E     VS2      65.1    61   337  3.87  3.78  2.49
## 10 0.23  Very Good H     VS1      59.4    61   338  4     4.05  2.39
## # … with 53,930 more rows</code></pre>
<p>Observe that now there is additional meta-data: <code># Groups: cut [5]</code> indicating that the grouping structure meta-data has been set based on the 5 possible levels of the categorical variable <code>cut</code>: <code>"Fair"</code>, <code>"Good"</code>, <code>"Very Good"</code>, <code>"Premium"</code>, and <code>"Ideal"</code>. On the other hand, observe that the data has not changed: it is still a table of 53,940 <span class="math inline">\(\times\)</span> 10 values.</p>
<p>Only by combining a <code>group_by()</code> with another data wrangling operation, in this case <code>summarize()</code>, will the data actually be transformed.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="2-wrangling.html#cb81-1"></a>diamonds <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb81-2"><a href="2-wrangling.html#cb81-2"></a><span class="st">  </span><span class="kw">group_by</span>(cut) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb81-3"><a href="2-wrangling.html#cb81-3"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">avg_price =</span> <span class="kw">mean</span>(price))</span></code></pre></div>
<pre><code>## # A tibble: 5 x 2
##   cut       avg_price
##   &lt;ord&gt;         &lt;dbl&gt;
## 1 Fair          4359.
## 2 Good          3929.
## 3 Very Good     3982.
## 4 Premium       4584.
## 5 Ideal         3458.</code></pre>
<p>If you would like to remove this grouping structure meta-data, we can pipe the resulting data frame into the  <code>ungroup()</code> function:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="2-wrangling.html#cb83-1"></a>diamonds <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb83-2"><a href="2-wrangling.html#cb83-2"></a><span class="st">  </span><span class="kw">group_by</span>(cut) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb83-3"><a href="2-wrangling.html#cb83-3"></a><span class="st">  </span><span class="kw">ungroup</span>()</span></code></pre></div>
<pre><code>## # A tibble: 53,940 x 10
##    carat cut       color clarity depth table price     x     y     z
##    &lt;dbl&gt; &lt;ord&gt;     &lt;ord&gt; &lt;ord&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 0.23  Ideal     E     SI2      61.5    55   326  3.95  3.98  2.43
##  2 0.21  Premium   E     SI1      59.8    61   326  3.89  3.84  2.31
##  3 0.23  Good      E     VS1      56.9    65   327  4.05  4.07  2.31
##  4 0.290 Premium   I     VS2      62.4    58   334  4.2   4.23  2.63
##  5 0.31  Good      J     SI2      63.3    58   335  4.34  4.35  2.75
##  6 0.24  Very Good J     VVS2     62.8    57   336  3.94  3.96  2.48
##  7 0.24  Very Good I     VVS1     62.3    57   336  3.95  3.98  2.47
##  8 0.26  Very Good H     SI1      61.9    55   337  4.07  4.11  2.53
##  9 0.22  Fair      E     VS2      65.1    61   337  3.87  3.78  2.49
## 10 0.23  Very Good H     VS1      59.4    61   338  4     4.05  2.39
## # … with 53,930 more rows</code></pre>
<p>Observe how the <code># Groups: cut [5]</code> meta-data is no longer present.</p>
<p>Let’s now revisit the <code>n()</code>  counting summary function we briefly introduced previously. Recall that the <code>n()</code> function counts rows. This is opposed to the <code>sum()</code> summary function that returns the sum of a numerical variable. For example, suppose we’d like to count how many flights departed each of the three airports in New York City:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="2-wrangling.html#cb85-1"></a>by_origin &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb85-2"><a href="2-wrangling.html#cb85-2"></a><span class="st">  </span><span class="kw">group_by</span>(origin) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb85-3"><a href="2-wrangling.html#cb85-3"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">count =</span> <span class="kw">n</span>())</span>
<span id="cb85-4"><a href="2-wrangling.html#cb85-4"></a>by_origin</span></code></pre></div>
<pre><code>## # A tibble: 3 x 2
##   origin  count
##   &lt;chr&gt;   &lt;int&gt;
## 1 EWR    120835
## 2 JFK    111279
## 3 LGA    104662</code></pre>
<p>We see that Newark (<code>"EWR"</code>) had the most flights departing in 2013 followed by <code>"JFK"</code> and lastly by LaGuardia (<code>"LGA"</code>). Note there is a subtle but important difference between <code>sum()</code> and <code>n()</code>; while <code>sum()</code> returns the sum of a numerical variable, <code>n()</code> returns a count of the number of rows/observations.</p>
<div id="grouping-by-more-than-one-variable" class="section level3">
<h3><span class="header-section-number">2.4.1</span> Grouping by more than one variable</h3>
<p>You are not limited to grouping by one variable. Say you want to know the number of flights leaving each of the three New York City airports <em>for each month</em>. We can also group by a second variable <code>month</code> using <code>group_by(origin, month)</code>:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="2-wrangling.html#cb87-1"></a>by_origin_monthly &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb87-2"><a href="2-wrangling.html#cb87-2"></a><span class="st">  </span><span class="kw">group_by</span>(origin, month) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb87-3"><a href="2-wrangling.html#cb87-3"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">count =</span> <span class="kw">n</span>())</span>
<span id="cb87-4"><a href="2-wrangling.html#cb87-4"></a>by_origin_monthly</span></code></pre></div>
<pre><code>## # A tibble: 36 x 3
## # Groups:   origin [3]
##    origin month count
##    &lt;chr&gt;  &lt;int&gt; &lt;int&gt;
##  1 EWR        1  9893
##  2 EWR        2  9107
##  3 EWR        3 10420
##  4 EWR        4 10531
##  5 EWR        5 10592
##  6 EWR        6 10175
##  7 EWR        7 10475
##  8 EWR        8 10359
##  9 EWR        9  9550
## 10 EWR       10 10104
## # … with 26 more rows</code></pre>
<p>Observe that there are 36 rows to <code>by_origin_monthly</code> because there are 12 months for 3 airports (<code>EWR</code>, <code>JFK</code>, and <code>LGA</code>).</p>
<p>Why do we <code>group_by(origin, month)</code> and not <code>group_by(origin)</code> and then <code>group_by(month)</code>? Let’s investigate:</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="2-wrangling.html#cb89-1"></a>by_origin_monthly_incorrect &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb89-2"><a href="2-wrangling.html#cb89-2"></a><span class="st">  </span><span class="kw">group_by</span>(origin) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb89-3"><a href="2-wrangling.html#cb89-3"></a><span class="st">  </span><span class="kw">group_by</span>(month) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb89-4"><a href="2-wrangling.html#cb89-4"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">count =</span> <span class="kw">n</span>())</span>
<span id="cb89-5"><a href="2-wrangling.html#cb89-5"></a>by_origin_monthly_incorrect</span></code></pre></div>
<pre><code>## # A tibble: 12 x 2
##    month count
##    &lt;int&gt; &lt;int&gt;
##  1     1 27004
##  2     2 24951
##  3     3 28834
##  4     4 28330
##  5     5 28796
##  6     6 28243
##  7     7 29425
##  8     8 29327
##  9     9 27574
## 10    10 28889
## 11    11 27268
## 12    12 28135</code></pre>
<p>What happened here is that the second <code>group_by(month)</code> overwrote the grouping structure meta-data of the earlier <code>group_by(origin)</code>, so that in the end we are only grouping by <code>month</code>. The lesson here is if you want to <code>group_by()</code> two or more variables, you should include all the variables at the same time in the same <code>group_by()</code> adding a comma between the variable names.</p>
</div>
</div>
<div id="mutate" class="section level2">
<h2><span class="header-section-number">2.5</span> <code>mutate</code> existing variables</h2>
<div class="figure"><span id="fig:select"></span>
<img src="images/cheatsheets/mutate.png" alt="Diagram of mutate() columns." width="80%" height="80%" />
<p class="caption">
FIGURE 2.5: Diagram of mutate() columns.
</p>
</div>
<p>Another common transformation of data is to create/compute new variables based on existing ones. For example, say you are more comfortable thinking of temperature in degrees Celsius (°C) instead of degrees Fahrenheit (°F). The formula to convert temperatures from °F to °C is</p>
<p><span class="math display">\[
\text{temp in C} = \frac{\text{temp in F} - 32}{1.8}
\]</span></p>
<p>We can apply this formula to the <code>temp</code> variable using the <code>mutate()</code>  function from the <code>dplyr</code> package, which takes existing variables and mutates them to create new ones.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="2-wrangling.html#cb91-1"></a>weather &lt;-<span class="st"> </span>weather <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb91-2"><a href="2-wrangling.html#cb91-2"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">temp_in_C =</span> (temp <span class="op">-</span><span class="st"> </span><span class="dv">32</span>) <span class="op">/</span><span class="st"> </span><span class="fl">1.8</span>)</span></code></pre></div>
<p>In this code, we <code>mutate()</code> the <code>weather</code> data frame by creating a new variable <code>temp_in_C = (temp - 32) / 1.8</code> and then <em>overwrite</em> the original <code>weather</code> data frame. Why did we overwrite the data frame <code>weather</code>, instead of assigning the result to a new data frame like <code>weather_new</code>? As a rough rule of thumb, as long as you are not losing original information that you might need later, it’s acceptable practice to overwrite existing data frames with updated ones, as we did here. On the other hand, why did we not overwrite the variable <code>temp</code>, but instead created a new variable called <code>temp_in_C</code>? Because if we did this, we would have erased the original information contained in <code>temp</code> of temperatures in Fahrenheit that may still be valuable to us.</p>
<p>Let’s now compute monthly average temperatures in both °F and °C using the <code>group_by()</code> and <code>summarize()</code> code we saw in Section <a href="2-wrangling.html#groupby">2.4</a>:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="2-wrangling.html#cb92-1"></a>summary_monthly_temp &lt;-<span class="st"> </span>weather <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb92-2"><a href="2-wrangling.html#cb92-2"></a><span class="st">  </span><span class="kw">group_by</span>(month) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb92-3"><a href="2-wrangling.html#cb92-3"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean_temp_in_F =</span> <span class="kw">mean</span>(temp, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>), </span>
<span id="cb92-4"><a href="2-wrangling.html#cb92-4"></a>            <span class="dt">mean_temp_in_C =</span> <span class="kw">mean</span>(temp_in_C, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))</span>
<span id="cb92-5"><a href="2-wrangling.html#cb92-5"></a>summary_monthly_temp</span></code></pre></div>
<pre><code>## # A tibble: 12 x 3
##    month mean_temp_in_F mean_temp_in_C
##    &lt;int&gt;          &lt;dbl&gt;          &lt;dbl&gt;
##  1     1           35.6           2.02
##  2     2           34.3           1.26
##  3     3           39.9           4.38
##  4     4           51.7          11.0 
##  5     5           61.8          16.6 
##  6     6           72.2          22.3 
##  7     7           80.1          26.7 
##  8     8           74.5          23.6 
##  9     9           67.4          19.7 
## 10    10           60.1          15.6 
## 11    11           45.0           7.22
## 12    12           38.4           3.58</code></pre>
<p>Let’s consider another example. Passengers are often frustrated when their flight departs late, but aren’t as annoyed if, in the end, pilots can make up some time during the flight. This is known in the airline industry as <em>gain</em>, and we will create this variable using the <code>mutate()</code> function:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="2-wrangling.html#cb94-1"></a>flights &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb94-2"><a href="2-wrangling.html#cb94-2"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">gain =</span> dep_delay <span class="op">-</span><span class="st"> </span>arr_delay)</span></code></pre></div>
<p>Let’s take a look at only the <code>dep_delay</code>, <code>arr_delay</code>, and the resulting <code>gain</code> variables for the first 5 rows in our updated <code>flights</code> data frame in Table <a href="2-wrangling.html#tab:first-five-flights">2.1</a>.</p>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:first-five-flights">TABLE 2.1: </span>First five rows of departure/arrival delay and gain variables
</caption>
<thead>
<tr>
<th style="text-align:right;">
dep_delay
</th>
<th style="text-align:right;">
arr_delay
</th>
<th style="text-align:right;">
gain
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
-9
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
-16
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
33
</td>
<td style="text-align:right;">
-31
</td>
</tr>
<tr>
<td style="text-align:right;">
-1
</td>
<td style="text-align:right;">
-18
</td>
<td style="text-align:right;">
17
</td>
</tr>
<tr>
<td style="text-align:right;">
-6
</td>
<td style="text-align:right;">
-25
</td>
<td style="text-align:right;">
19
</td>
</tr>
</tbody>
</table>
<p>The flight in the first row departed 2 minutes late but arrived 11 minutes late, so its “gained time in the air” is a loss of 9 minutes, hence its <code>gain</code> is 2 - 11 = -9. On the other hand, the flight in the fourth row departed a minute early (<code>dep_delay</code> of -1) but arrived 18 minutes early (<code>arr_delay</code> of -18), so its “gained time in the air” is <span class="math inline">\(-1 - (-18) = -1 + 18 = 17\)</span> minutes, hence its <code>gain</code> is +17.</p>
<p>Let’s look at some summary statistics of the <code>gain</code> variable by considering multiple summary functions at once in the same <code>summarize()</code> code:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="2-wrangling.html#cb95-1"></a>gain_summary &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb95-2"><a href="2-wrangling.html#cb95-2"></a><span class="st">  </span><span class="kw">summarize</span>(</span>
<span id="cb95-3"><a href="2-wrangling.html#cb95-3"></a>    <span class="dt">min =</span> <span class="kw">min</span>(gain, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</span>
<span id="cb95-4"><a href="2-wrangling.html#cb95-4"></a>    <span class="dt">q1 =</span> <span class="kw">quantile</span>(gain, <span class="fl">0.25</span>, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</span>
<span id="cb95-5"><a href="2-wrangling.html#cb95-5"></a>    <span class="dt">median =</span> <span class="kw">quantile</span>(gain, <span class="fl">0.5</span>, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</span>
<span id="cb95-6"><a href="2-wrangling.html#cb95-6"></a>    <span class="dt">q3 =</span> <span class="kw">quantile</span>(gain, <span class="fl">0.75</span>, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</span>
<span id="cb95-7"><a href="2-wrangling.html#cb95-7"></a>    <span class="dt">max =</span> <span class="kw">max</span>(gain, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</span>
<span id="cb95-8"><a href="2-wrangling.html#cb95-8"></a>    <span class="dt">mean =</span> <span class="kw">mean</span>(gain, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</span>
<span id="cb95-9"><a href="2-wrangling.html#cb95-9"></a>    <span class="dt">sd =</span> <span class="kw">sd</span>(gain, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</span>
<span id="cb95-10"><a href="2-wrangling.html#cb95-10"></a>    <span class="dt">missing =</span> <span class="kw">sum</span>(<span class="kw">is.na</span>(gain))</span>
<span id="cb95-11"><a href="2-wrangling.html#cb95-11"></a>  )</span>
<span id="cb95-12"><a href="2-wrangling.html#cb95-12"></a>gain_summary</span></code></pre></div>
<pre><code>## # A tibble: 1 x 8
##     min    q1 median    q3   max  mean    sd missing
##   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;int&gt;
## 1  -196    -3      7    17   109  5.66  18.0    9430</code></pre>
<p>We see for example that the average gain is +5 minutes, while the largest is +109 minutes! However, this code would take some time to type out in practice. We’ll see later on in Subsection <a href="10-regression.html#model1EDA">10.1.1</a> that there is a much more succinct way to compute a variety of common summary statistics: using the <code>skim()</code> function from the <code>skimr</code> package.</p>
<p>Recall from Section <a href="1-viz.html#histograms">1.9</a> that since <code>gain</code> is a numerical variable, we can visualize its distribution using a histogram.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="2-wrangling.html#cb97-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> flights, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> gain)) <span class="op">+</span></span>
<span id="cb97-2"><a href="2-wrangling.html#cb97-2"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">color =</span> <span class="st">&quot;white&quot;</span>, <span class="dt">bins =</span> <span class="dv">20</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 9430 rows containing non-finite values (stat_bin).</code></pre>
<div class="figure"><span id="fig:gain-hist"></span>
<img src="Preceptor%E2%80%99s-Primer-for-Bayesian-Data-Science_files/figure-html/gain-hist-1.png" alt="Histogram of gain variable." width="672" />
<p class="caption">
FIGURE 2.6: Histogram of gain variable.
</p>
</div>
<p>The resulting histogram in Figure <a href="2-wrangling.html#fig:gain-hist">2.6</a> provides a different perspective on the <code>gain</code> variable than the summary statistics we computed earlier. For example, note that most values of <code>gain</code> are right around 0.</p>
<p>To close out our discussion on the <code>mutate()</code> function to create new variables, note that we can create multiple new variables at once in the same <code>mutate()</code> code. Furthermore, within the same <code>mutate()</code> code we can refer to new variables we just created. As an example, consider the <code>mutate()</code> code Hadley Wickham  and Garrett Grolemund  show in Chapter 5 of <em>R for Data Science</em> <span class="citation">(Grolemund and Wickham <a href="#ref-rds2016" role="doc-biblioref">2017</a>)</span>:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="2-wrangling.html#cb99-1"></a>flights &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb99-2"><a href="2-wrangling.html#cb99-2"></a><span class="st">  </span><span class="kw">mutate</span>(</span>
<span id="cb99-3"><a href="2-wrangling.html#cb99-3"></a>    <span class="dt">gain =</span> dep_delay <span class="op">-</span><span class="st"> </span>arr_delay,</span>
<span id="cb99-4"><a href="2-wrangling.html#cb99-4"></a>    <span class="dt">hours =</span> air_time <span class="op">/</span><span class="st"> </span><span class="dv">60</span>,</span>
<span id="cb99-5"><a href="2-wrangling.html#cb99-5"></a>    <span class="dt">gain_per_hour =</span> gain <span class="op">/</span><span class="st"> </span>hours</span>
<span id="cb99-6"><a href="2-wrangling.html#cb99-6"></a>  )</span></code></pre></div>
</div>
<div id="arrange" class="section level2">
<h2><span class="header-section-number">2.6</span> <code>arrange</code> and sort rows</h2>
<p>One of the most commonly performed data wrangling tasks is to sort a data frame’s rows in the alphanumeric order of one of the variables. The <code>dplyr</code> package’s <code>arrange()</code> function  allows us to sort/reorder a data frame’s rows according to the values of the specified variable.</p>
<p>Suppose we are interested in determining the most frequent destination airports for all domestic flights departing from New York City in 2013:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="2-wrangling.html#cb100-1"></a>freq_dest &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb100-2"><a href="2-wrangling.html#cb100-2"></a><span class="st">  </span><span class="kw">group_by</span>(dest) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb100-3"><a href="2-wrangling.html#cb100-3"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">num_flights =</span> <span class="kw">n</span>())</span>
<span id="cb100-4"><a href="2-wrangling.html#cb100-4"></a>freq_dest</span></code></pre></div>
<pre><code>## # A tibble: 105 x 2
##    dest  num_flights
##    &lt;chr&gt;       &lt;int&gt;
##  1 ABQ           254
##  2 ACK           265
##  3 ALB           439
##  4 ANC             8
##  5 ATL         17215
##  6 AUS          2439
##  7 AVL           275
##  8 BDL           443
##  9 BGR           375
## 10 BHM           297
## # … with 95 more rows</code></pre>
<p>Observe that by default the rows of the resulting <code>freq_dest</code> data frame are sorted in alphabetical order of <code>dest</code>ination. Say instead we would like to see the same data, but sorted from the most to the least number of flights (<code>num_flights</code>) instead:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="2-wrangling.html#cb102-1"></a>freq_dest <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb102-2"><a href="2-wrangling.html#cb102-2"></a><span class="st">  </span><span class="kw">arrange</span>(num_flights)</span></code></pre></div>
<pre><code>## # A tibble: 105 x 2
##    dest  num_flights
##    &lt;chr&gt;       &lt;int&gt;
##  1 LEX             1
##  2 LGA             1
##  3 ANC             8
##  4 SBN            10
##  5 HDN            15
##  6 MTJ            15
##  7 EYW            17
##  8 PSP            19
##  9 JAC            25
## 10 BZN            36
## # … with 95 more rows</code></pre>
<p>This is, however, the opposite of what we want. The rows are sorted with the least frequent destination airports displayed first. This is because <code>arrange()</code> always returns rows sorted in ascending order by default. To switch the ordering to be in “descending” order instead, we use the <code>desc()</code>  function as so:</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="2-wrangling.html#cb104-1"></a>freq_dest <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb104-2"><a href="2-wrangling.html#cb104-2"></a><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(num_flights))</span></code></pre></div>
<pre><code>## # A tibble: 105 x 2
##    dest  num_flights
##    &lt;chr&gt;       &lt;int&gt;
##  1 ORD         17283
##  2 ATL         17215
##  3 LAX         16174
##  4 BOS         15508
##  5 MCO         14082
##  6 CLT         14064
##  7 SFO         13331
##  8 FLL         12055
##  9 MIA         11728
## 10 DCA          9705
## # … with 95 more rows</code></pre>
</div>
<div id="factors" class="section level2">
<h2><span class="header-section-number">2.7</span> Factors</h2>
<p>We’ve spent a lot of time working with big, beautiful data frames, like the Gapminder data. But we also need to manage the individual variables housed within.</p>
<p>Factors are the variable type that useRs love to hate. It is how we store truly categorical information in R. The values a factor can take on are called the <strong>levels</strong>. For example, the levels of the factor <code>continent</code> in Gapminder are are “Africa”, “Americas”, etc. and this is what’s usually presented to your eyeballs by R. In general, the levels are friendly human-readable character strings, like “male/female” and “control/treated”. But <em>never ever ever</em> forget that, under the hood, R is really storing integer codes 1, 2, 3, etc.</p>
<p>This [Janus][wiki-janus]-like nature of factors means they are rich with booby traps for the unsuspecting but they are a necessary evil. I recommend you learn how to be the boss of your factors. The pros far outweigh the cons. Specifically in modelling and figure-making, factors are anticipated and accommodated by the functions and packages you will want to exploit.</p>
<p><strong>The worst kind of factor is the stealth factor.</strong> The variable that you think of as character, but that is actually a factor (numeric!!). This is a classic R gotcha. Check your variable types explicitly when things seem weird. It happens to the best of us.</p>
<p>Where do stealth factors come from? Base R has a burning desire to turn character information into factor. The happens most commonly at data import via <code>read.table()</code> and friends. But <code>data.frame()</code> and other functions are also eager to convert character to factor. To shut this down, use <code>stringsAsFactors = FALSE</code> in <code>read.table()</code> and <code>data.frame()</code> or – even better – <strong>use the tidyverse</strong>! For data import, use <code>readr::read_csv()</code>, <code>readr::read_tsv()</code>, etc. For data frame creation, use <code>tibble::tibble()</code>. And so on.</p>
<p>Good articles about how the factor fiasco came to be:</p>
<ul>
<li>[stringsAsFactors: An unauthorized biography][bio-strings-as-factors] by Roger Peng</li>
<li>[stringsAsFactors = &lt;sigh&gt;][blog-strings-as-factors] by Thomas Lumley</li>
</ul>
<div id="the-forcats-package" class="section level3">
<h3><span class="header-section-number">2.7.1</span> The <strong>forcats</strong> package</h3>
<p>[forcats][forcats-web] is a core package in the tidyverse. It is installed via <code>install.packages("tidyverse")</code>, and loaded with <code>library(tidyverse)</code>. You can also install via <code>install.packages("forcats")</code>and load it yourself separately as needed via <code>library(forcats)</code>. Main functions start with <code>fct_</code>. There really is no coherent family of base functions that forcats replaces – that’s why it’s such a welcome addition.</p>
<p>Load tidyverse (which include forcats) and gapminder.</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="2-wrangling.html#cb106-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb106-2"><a href="2-wrangling.html#cb106-2"></a><span class="kw">library</span>(gapminder)</span></code></pre></div>
<p>Get to know your factor before you start touching it! It’s polite. Let’s use <code>gapminder$continent</code> as our example.</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="2-wrangling.html#cb107-1"></a><span class="kw">str</span>(gapminder<span class="op">$</span>continent)</span></code></pre></div>
<pre><code>##  Factor w/ 5 levels &quot;Africa&quot;,&quot;Americas&quot;,..: 3 3 3 3 3 3 3 3 3 3 ...</code></pre>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="2-wrangling.html#cb109-1"></a><span class="kw">levels</span>(gapminder<span class="op">$</span>continent)</span></code></pre></div>
<pre><code>## [1] &quot;Africa&quot;   &quot;Americas&quot; &quot;Asia&quot;     &quot;Europe&quot;   &quot;Oceania&quot;</code></pre>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="2-wrangling.html#cb111-1"></a><span class="kw">nlevels</span>(gapminder<span class="op">$</span>continent)</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="2-wrangling.html#cb113-1"></a><span class="kw">class</span>(gapminder<span class="op">$</span>continent)</span></code></pre></div>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<p>To get a frequency table as a tibble, from a tibble, use <code>dplyr::count()</code>. To get similar from a free-range factor, use <code>forcats::fct_count()</code>.</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="2-wrangling.html#cb115-1"></a>gapminder <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb115-2"><a href="2-wrangling.html#cb115-2"></a><span class="st">  </span><span class="kw">count</span>(continent)</span></code></pre></div>
<pre><code>## # A tibble: 5 x 2
##   continent     n
##   &lt;fct&gt;     &lt;int&gt;
## 1 Africa      624
## 2 Americas    300
## 3 Asia        396
## 4 Europe      360
## 5 Oceania      24</code></pre>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="2-wrangling.html#cb117-1"></a><span class="kw">fct_count</span>(gapminder<span class="op">$</span>continent)</span></code></pre></div>
<pre><code>## # A tibble: 5 x 2
##   f            n
##   &lt;fct&gt;    &lt;int&gt;
## 1 Africa     624
## 2 Americas   300
## 3 Asia       396
## 4 Europe     360
## 5 Oceania     24</code></pre>
</div>
<div id="dropping-unused-levels" class="section level3">
<h3><span class="header-section-number">2.7.2</span> Dropping unused levels</h3>
<p>Just because you drop all the rows corresponding to a specific factor level, the levels of the factor itself do not change. Sometimes all these unused levels can come back to haunt you later, e.g., in figure legends.</p>
<p>Watch what happens to the levels of <code>country</code> (= nothing) when we filter Gapminder to a handful of countries.</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="2-wrangling.html#cb119-1"></a><span class="kw">nlevels</span>(gapminder<span class="op">$</span>country)</span></code></pre></div>
<pre><code>## [1] 142</code></pre>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="2-wrangling.html#cb121-1"></a>h_countries &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Egypt&quot;</span>, <span class="st">&quot;Haiti&quot;</span>, <span class="st">&quot;Romania&quot;</span>, <span class="st">&quot;Thailand&quot;</span>, <span class="st">&quot;Venezuela&quot;</span>)</span>
<span id="cb121-2"><a href="2-wrangling.html#cb121-2"></a>h_gap &lt;-<span class="st"> </span>gapminder <span class="op">%&gt;%</span></span>
<span id="cb121-3"><a href="2-wrangling.html#cb121-3"></a><span class="st">  </span><span class="kw">filter</span>(country <span class="op">%in%</span><span class="st"> </span>h_countries)</span>
<span id="cb121-4"><a href="2-wrangling.html#cb121-4"></a><span class="kw">nlevels</span>(h_gap<span class="op">$</span>country)</span></code></pre></div>
<pre><code>## [1] 142</code></pre>
<p>Even though <code>h_gap</code> only has data for a handful of countries, we are still schlepping around all 142 levels from the original <code>gapminder</code> tibble.</p>
<p>How can you get rid of them? The base function <code>droplevels()</code> operates on all the factors in a data frame or on a single factor. The function <code>forcats::fct_drop()</code> operates on a factor.</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="2-wrangling.html#cb123-1"></a>h_gap_dropped &lt;-<span class="st"> </span>h_gap <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb123-2"><a href="2-wrangling.html#cb123-2"></a><span class="st">  </span><span class="kw">droplevels</span>()</span>
<span id="cb123-3"><a href="2-wrangling.html#cb123-3"></a><span class="kw">nlevels</span>(h_gap_dropped<span class="op">$</span>country)</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="2-wrangling.html#cb125-1"></a><span class="co"># Use forcats::fct_drop() on a free-range factor</span></span>
<span id="cb125-2"><a href="2-wrangling.html#cb125-2"></a></span>
<span id="cb125-3"><a href="2-wrangling.html#cb125-3"></a>h_gap<span class="op">$</span>country <span class="op">%&gt;%</span></span>
<span id="cb125-4"><a href="2-wrangling.html#cb125-4"></a><span class="st">  </span><span class="kw">fct_drop</span>() <span class="op">%&gt;%</span></span>
<span id="cb125-5"><a href="2-wrangling.html#cb125-5"></a><span class="st">  </span><span class="kw">levels</span>()</span></code></pre></div>
<pre><code>## [1] &quot;Egypt&quot;     &quot;Haiti&quot;     &quot;Romania&quot;   &quot;Thailand&quot;  &quot;Venezuela&quot;</code></pre>
</div>
<div id="reorder-factors" class="section level3">
<h3><span class="header-section-number">2.7.3</span> Change order of the levels, principled</h3>
<p>By default, factor levels are ordered alphabetically. Which might as well be random, when you think about it! It is preferable to order the levels according to some principle:</p>
<ul>
<li>Frequency. Make the most common level the first and so on.</li>
<li>Another variable. Order factor levels according to a summary statistic for another variable. <strong>Example:</strong> order Gapminder countries by life expectancy.</li>
</ul>
<p>First, let’s order continent by frequency, forwards and backwards. This is often a great idea for tables and figures, esp. frequency barplots.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="2-wrangling.html#cb127-1"></a><span class="co"># Default order is alphabetical</span></span>
<span id="cb127-2"><a href="2-wrangling.html#cb127-2"></a></span>
<span id="cb127-3"><a href="2-wrangling.html#cb127-3"></a>gapminder<span class="op">$</span>continent <span class="op">%&gt;%</span></span>
<span id="cb127-4"><a href="2-wrangling.html#cb127-4"></a><span class="st">  </span><span class="kw">levels</span>()</span></code></pre></div>
<pre><code>## [1] &quot;Africa&quot;   &quot;Americas&quot; &quot;Asia&quot;     &quot;Europe&quot;   &quot;Oceania&quot;</code></pre>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="2-wrangling.html#cb129-1"></a><span class="co"># Order by frequency</span></span>
<span id="cb129-2"><a href="2-wrangling.html#cb129-2"></a></span>
<span id="cb129-3"><a href="2-wrangling.html#cb129-3"></a>gapminder<span class="op">$</span>continent <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb129-4"><a href="2-wrangling.html#cb129-4"></a><span class="st">  </span><span class="kw">fct_infreq</span>() <span class="op">%&gt;%</span></span>
<span id="cb129-5"><a href="2-wrangling.html#cb129-5"></a><span class="st">  </span><span class="kw">levels</span>()</span></code></pre></div>
<pre><code>## [1] &quot;Africa&quot;   &quot;Asia&quot;     &quot;Europe&quot;   &quot;Americas&quot; &quot;Oceania&quot;</code></pre>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="2-wrangling.html#cb131-1"></a><span class="co"># Backwards!</span></span>
<span id="cb131-2"><a href="2-wrangling.html#cb131-2"></a></span>
<span id="cb131-3"><a href="2-wrangling.html#cb131-3"></a>gapminder<span class="op">$</span>continent <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb131-4"><a href="2-wrangling.html#cb131-4"></a><span class="st">  </span><span class="kw">fct_infreq</span>() <span class="op">%&gt;%</span></span>
<span id="cb131-5"><a href="2-wrangling.html#cb131-5"></a><span class="st">  </span><span class="kw">fct_rev</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb131-6"><a href="2-wrangling.html#cb131-6"></a><span class="st">  </span><span class="kw">levels</span>()</span></code></pre></div>
<pre><code>## [1] &quot;Oceania&quot;  &quot;Americas&quot; &quot;Europe&quot;   &quot;Asia&quot;     &quot;Africa&quot;</code></pre>
<p>These two barcharts of frequency by continent differ only in the order of the continents. Which do you prefer?</p>
<p><img src="Preceptor%E2%80%99s-Primer-for-Bayesian-Data-Science_files/figure-html/unnamed-chunk-72-1.png" width="49%" /><img src="Preceptor%E2%80%99s-Primer-for-Bayesian-Data-Science_files/figure-html/unnamed-chunk-72-2.png" width="49%" /></p>
<p>Now we order <code>country</code> by another variable, forwards and backwards. This other variable is usually quantitative and you will order the factor according to a grouped summary. The factor is the grouping variable and the default summarizing function is <code>median()</code> but you can specify something else.</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="2-wrangling.html#cb133-1"></a><span class="co"># Order countries by median life expectancy</span></span>
<span id="cb133-2"><a href="2-wrangling.html#cb133-2"></a></span>
<span id="cb133-3"><a href="2-wrangling.html#cb133-3"></a><span class="kw">fct_reorder</span>(gapminder<span class="op">$</span>country, gapminder<span class="op">$</span>lifeExp) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb133-4"><a href="2-wrangling.html#cb133-4"></a><span class="st">  </span><span class="kw">levels</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()</span></code></pre></div>
<pre><code>## [1] &quot;Sierra Leone&quot;  &quot;Guinea-Bissau&quot; &quot;Afghanistan&quot;   &quot;Angola&quot;       
## [5] &quot;Somalia&quot;       &quot;Guinea&quot;</code></pre>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="2-wrangling.html#cb135-1"></a><span class="co"># Order accoring to minimum life exp instead of median</span></span>
<span id="cb135-2"><a href="2-wrangling.html#cb135-2"></a></span>
<span id="cb135-3"><a href="2-wrangling.html#cb135-3"></a><span class="kw">fct_reorder</span>(gapminder<span class="op">$</span>country, gapminder<span class="op">$</span>lifeExp, min) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb135-4"><a href="2-wrangling.html#cb135-4"></a><span class="st">  </span><span class="kw">levels</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()</span></code></pre></div>
<pre><code>## [1] &quot;Rwanda&quot;       &quot;Afghanistan&quot;  &quot;Gambia&quot;       &quot;Angola&quot;       &quot;Sierra Leone&quot;
## [6] &quot;Cambodia&quot;</code></pre>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="2-wrangling.html#cb137-1"></a><span class="co"># Backwards!</span></span>
<span id="cb137-2"><a href="2-wrangling.html#cb137-2"></a></span>
<span id="cb137-3"><a href="2-wrangling.html#cb137-3"></a><span class="kw">fct_reorder</span>(gapminder<span class="op">$</span>country, gapminder<span class="op">$</span>lifeExp, <span class="dt">.desc =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb137-4"><a href="2-wrangling.html#cb137-4"></a><span class="st">  </span><span class="kw">levels</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()</span></code></pre></div>
<pre><code>## [1] &quot;Iceland&quot;     &quot;Japan&quot;       &quot;Sweden&quot;      &quot;Switzerland&quot; &quot;Netherlands&quot;
## [6] &quot;Norway&quot;</code></pre>
<p>Example of why we reorder factor levels: often makes plots much better! When a factor is mapped to x or y, it should almost always be reordered by the quantitative variable you are mapping to the other one.</p>
<p>Compare the interpretability of these two plots of life expectancy in Asian countries in 2007. The <em>only difference</em> is the order of the <code>country</code> factor. Which one do you find easier to learn from?</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="2-wrangling.html#cb139-1"></a>gap_asia_<span class="dv">2007</span> &lt;-<span class="st"> </span>gapminder <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="dv">2007</span>, continent <span class="op">==</span><span class="st"> &quot;Asia&quot;</span>)</span>
<span id="cb139-2"><a href="2-wrangling.html#cb139-2"></a><span class="kw">ggplot</span>(gap_asia_<span class="dv">2007</span>, <span class="kw">aes</span>(<span class="dt">x =</span> lifeExp, <span class="dt">y =</span> country)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>()</span>
<span id="cb139-3"><a href="2-wrangling.html#cb139-3"></a><span class="kw">ggplot</span>(gap_asia_<span class="dv">2007</span>, <span class="kw">aes</span>(<span class="dt">x =</span> lifeExp, <span class="dt">y =</span> <span class="kw">fct_reorder</span>(country, lifeExp))) <span class="op">+</span></span>
<span id="cb139-4"><a href="2-wrangling.html#cb139-4"></a><span class="st">  </span><span class="kw">geom_point</span>()</span></code></pre></div>
<p><img src="Preceptor%E2%80%99s-Primer-for-Bayesian-Data-Science_files/figure-html/alpha-order-silly-1.png" width="49%" /><img src="Preceptor%E2%80%99s-Primer-for-Bayesian-Data-Science_files/figure-html/alpha-order-silly-2.png" width="49%" /></p>
<p>Use <code>fct_reorder2()</code> when you have a line chart of a quantitative x against another quantitative y and your factor provides the color. This way the legend appears in some order as the data! Contrast the legend on the left with the one on the right.</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="2-wrangling.html#cb140-1"></a>h_countries &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Egypt&quot;</span>, <span class="st">&quot;Haiti&quot;</span>, <span class="st">&quot;Romania&quot;</span>, <span class="st">&quot;Thailand&quot;</span>, <span class="st">&quot;Venezuela&quot;</span>)</span>
<span id="cb140-2"><a href="2-wrangling.html#cb140-2"></a>h_gap &lt;-<span class="st"> </span>gapminder <span class="op">%&gt;%</span></span>
<span id="cb140-3"><a href="2-wrangling.html#cb140-3"></a><span class="st">  </span><span class="kw">filter</span>(country <span class="op">%in%</span><span class="st"> </span>h_countries) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb140-4"><a href="2-wrangling.html#cb140-4"></a><span class="st">  </span><span class="kw">droplevels</span>()</span>
<span id="cb140-5"><a href="2-wrangling.html#cb140-5"></a><span class="kw">ggplot</span>(h_gap, <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> lifeExp, <span class="dt">color =</span> country)) <span class="op">+</span></span>
<span id="cb140-6"><a href="2-wrangling.html#cb140-6"></a><span class="st">  </span><span class="kw">geom_line</span>()</span>
<span id="cb140-7"><a href="2-wrangling.html#cb140-7"></a><span class="kw">ggplot</span>(h_gap, <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> lifeExp,</span>
<span id="cb140-8"><a href="2-wrangling.html#cb140-8"></a>                  <span class="dt">color =</span> <span class="kw">fct_reorder2</span>(country, year, lifeExp))) <span class="op">+</span></span>
<span id="cb140-9"><a href="2-wrangling.html#cb140-9"></a><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb140-10"><a href="2-wrangling.html#cb140-10"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">color =</span> <span class="st">&quot;country&quot;</span>)</span></code></pre></div>
<p><img src="Preceptor%E2%80%99s-Primer-for-Bayesian-Data-Science_files/figure-html/legends-made-for-humans-1.png" width="49%" /><img src="Preceptor%E2%80%99s-Primer-for-Bayesian-Data-Science_files/figure-html/legends-made-for-humans-2.png" width="49%" /></p>
</div>
<div id="change-order-of-the-levels-because-i-said-so" class="section level3">
<h3><span class="header-section-number">2.7.4</span> Change order of the levels, “because I said so”</h3>
<p>Sometimes you just want to hoist one or more levels to the front. Why? Because I said so. This resembles what we do when we move variables to the front with <code>dplyr::select(special_var, everything())</code>.</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="2-wrangling.html#cb141-1"></a>h_gap<span class="op">$</span>country <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">levels</span>()</span></code></pre></div>
<pre><code>## [1] &quot;Egypt&quot;     &quot;Haiti&quot;     &quot;Romania&quot;   &quot;Thailand&quot;  &quot;Venezuela&quot;</code></pre>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="2-wrangling.html#cb143-1"></a>h_gap<span class="op">$</span>country <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">fct_relevel</span>(<span class="st">&quot;Romania&quot;</span>, <span class="st">&quot;Haiti&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">levels</span>()</span></code></pre></div>
<pre><code>## [1] &quot;Romania&quot;   &quot;Haiti&quot;     &quot;Egypt&quot;     &quot;Thailand&quot;  &quot;Venezuela&quot;</code></pre>
<p>This might be useful if you are preparing a report for, say, the Romanian government. The reason for always putting Romania first has nothing to do with the <em>data</em>, it is important for external reasons and you need a way to express this.</p>
</div>
<div id="recode-the-levels" class="section level3">
<h3><span class="header-section-number">2.7.5</span> Recode the levels</h3>
<p>Sometimes you have better ideas about what certain levels should be. This is called recoding.</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="2-wrangling.html#cb145-1"></a>i_gap &lt;-<span class="st"> </span>gapminder <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb145-2"><a href="2-wrangling.html#cb145-2"></a><span class="st">  </span><span class="kw">filter</span>(country <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;United States&quot;</span>, <span class="st">&quot;Sweden&quot;</span>, <span class="st">&quot;Australia&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb145-3"><a href="2-wrangling.html#cb145-3"></a><span class="st">  </span><span class="kw">droplevels</span>()</span>
<span id="cb145-4"><a href="2-wrangling.html#cb145-4"></a>i_gap<span class="op">$</span>country <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">levels</span>()</span></code></pre></div>
<pre><code>## [1] &quot;Australia&quot;     &quot;Sweden&quot;        &quot;United States&quot;</code></pre>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="2-wrangling.html#cb147-1"></a>i_gap<span class="op">$</span>country <span class="op">%&gt;%</span></span>
<span id="cb147-2"><a href="2-wrangling.html#cb147-2"></a><span class="st">  </span><span class="kw">fct_recode</span>(<span class="st">&quot;USA&quot;</span> =<span class="st"> &quot;United States&quot;</span>, <span class="st">&quot;Oz&quot;</span> =<span class="st"> &quot;Australia&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">levels</span>()</span></code></pre></div>
<pre><code>## [1] &quot;Oz&quot;     &quot;Sweden&quot; &quot;USA&quot;</code></pre>
</div>
<div id="grow-a-factor" class="section level3">
<h3><span class="header-section-number">2.7.6</span> Grow a factor</h3>
<p>Let’s create two data frames, each with data from two countries, dropping unused factor levels.</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="2-wrangling.html#cb149-1"></a>df1 &lt;-<span class="st"> </span>gapminder <span class="op">%&gt;%</span></span>
<span id="cb149-2"><a href="2-wrangling.html#cb149-2"></a><span class="st">  </span><span class="kw">filter</span>(country <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;United States&quot;</span>, <span class="st">&quot;Mexico&quot;</span>), year <span class="op">&gt;</span><span class="st"> </span><span class="dv">2000</span>) <span class="op">%&gt;%</span></span>
<span id="cb149-3"><a href="2-wrangling.html#cb149-3"></a><span class="st">  </span><span class="kw">droplevels</span>()</span>
<span id="cb149-4"><a href="2-wrangling.html#cb149-4"></a>df2 &lt;-<span class="st"> </span>gapminder <span class="op">%&gt;%</span></span>
<span id="cb149-5"><a href="2-wrangling.html#cb149-5"></a><span class="st">  </span><span class="kw">filter</span>(country <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;France&quot;</span>, <span class="st">&quot;Germany&quot;</span>), year <span class="op">&gt;</span><span class="st"> </span><span class="dv">2000</span>) <span class="op">%&gt;%</span></span>
<span id="cb149-6"><a href="2-wrangling.html#cb149-6"></a><span class="st">  </span><span class="kw">droplevels</span>()</span></code></pre></div>
<p>The <code>country</code> factors in <code>df1</code> and <code>df2</code> have different levels.</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="2-wrangling.html#cb150-1"></a><span class="kw">levels</span>(df1<span class="op">$</span>country)</span></code></pre></div>
<pre><code>## [1] &quot;Mexico&quot;        &quot;United States&quot;</code></pre>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="2-wrangling.html#cb152-1"></a><span class="kw">levels</span>(df2<span class="op">$</span>country)</span></code></pre></div>
<pre><code>## [1] &quot;France&quot;  &quot;Germany&quot;</code></pre>
<p>Can you just combine them?</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="2-wrangling.html#cb154-1"></a><span class="kw">c</span>(df1<span class="op">$</span>country, df2<span class="op">$</span>country)</span></code></pre></div>
<pre><code>## [1] 1 1 2 2 1 1 2 2</code></pre>
<p>Umm, no. That is wrong on many levels! Use <code>fct_c()</code> to do this.</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="2-wrangling.html#cb156-1"></a><span class="kw">fct_c</span>(df1<span class="op">$</span>country, df2<span class="op">$</span>country)</span></code></pre></div>
<pre><code>## [1] Mexico        Mexico        United States United States France       
## [6] France        Germany       Germany      
## Levels: Mexico United States France Germany</code></pre>
</div>
</div>
<div id="character-vectors" class="section level2">
<h2><span class="header-section-number">2.8</span> Character Vectors</h2>
<p>We’ve spent a lot of time working with big, beautiful data frames. That are clean and wholesome, like the Gapminder data.</p>
<p>But real life will be much nastier. You will bring data into R from the outside world and discover there are problems. You might think: how hard can it be to deal with character data? And the answer is: it can be very hard!</p>
<ul>
<li>[Stack Exchange outage][stackexchange-outage]</li>
<li>[Regexes to validate/match email addresses][email-regex]</li>
<li>[Fixing an Atom bug][fix-atom-bug]</li>
</ul>
<p>Here we discuss common remedial tasks for cleaning and transforming character data, also known as “strings”. A data frame or tibble will consist of one or more <em>atomic vectors</em> of a certain class. This lesson deals with things you can do with vectors of class <code>character</code>.</p>
<p>Here are some resources:</p>
<div id="manipulating-character-vectors" class="section level3">
<h3><span class="header-section-number">2.8.1</span> Manipulating character vectors</h3>
<ul>
<li>[stringr package][stringr-web].
<ul>
<li>A core package in the <code>tidyverse.</code> It is installed via <code>install.packages("tidyverse")</code> and also loaded via <code>library(tidyverse)</code>. Of course, you can also install or load it individually.</li>
<li>Main functions start with <code>str_</code>. Auto-complete is your friend.</li>
<li>Replacements for base functions re: string manipulation and regular expressions (see below).</li>
<li>Main advantages over base functions: greater consistency about inputs and outputs. Outputs are more ready for your next analytical task.</li>
</ul></li>
<li>[tidyr package][tidyr-web].
<ul>
<li>Especially useful for functions that split one character vector into many and <em>vice versa</em>: <code>separate()</code>, <code>unite()</code>, <code>extract()</code>.</li>
</ul></li>
<li>The [glue package][glue-web] is fantastic for string interpolation. If <code>stringr::str_interp()</code> doesn’t get your job done, check out the glue package.</li>
</ul>
</div>
<div id="regular-expressions-resources" class="section level3">
<h3><span class="header-section-number">2.8.2</span> Regular expressions resources</h3>
<p>A God-awful and powerful language for expressing patterns to match in text or for search-and-replace. Frequently described as “write only”, because regular expressions are easier to write than to read/understand. And they are not particularly easy to write.</p>
<ul>
<li>We again prefer the [stringr package][stringr-cran] over base functions. Why?
<ul>
<li>Wraps [stringi][stringi-cran], which is a great place to look if stringr isn’t powerful enough.</li>
<li>Standardized on [ICU regular expressions][icu-regex], so you can stop toggling <code>perl = TRUE/FALSE</code> at random.</li>
<li>Results come back in a form that is much friendlier for downstream work.</li>
</ul></li>
<li>The [Strings chapter][r4ds-strings] of [R for Data Science][r4ds] <span class="citation">(<span class="citeproc-not-found" data-reference-id="wickham2016"><strong>???</strong></span>)</span> is a great resource.</li>
<li>RStudio Cheat Sheet on [Regular Expressions in R][rstudio-regex-cheatsheet].</li>
<li>Regex testers:
<ul>
<li>[regex101.com][regex101]</li>
<li>[regexr.com][regexr]</li>
</ul></li>
</ul>
</div>
<div id="character-encoding-resources" class="section level3">
<h3><span class="header-section-number">2.8.3</span> Character encoding resources</h3>
<ul>
<li>[Strings subsection of data import chapter][r4ds-readr-strings] in [R for Data Science][r4ds] <span class="citation">(<span class="citeproc-not-found" data-reference-id="wickham2016"><strong>???</strong></span>)</span>.</li>
<li>Screeds on the Minimum Everyone Needs to Know about encoding:
<ul>
<li>[The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)][unicode-no-excuses]</li>
<li>[What Every Programmer Absolutely, Positively Needs To Know About Encodings And Character Sets To Work With Text][programmers-encoding]</li>
</ul></li>
<li>Chapter <a href="#character-encoding"><strong>??</strong></a> - I’ve translated this blog post [Guide to fixing encoding problems in Ruby][encoding-probs-ruby] into R as the first step to developing a lesson.</li>
</ul>
</div>
<div id="character-vectors-that-live-in-a-data-frame" class="section level3">
<h3><span class="header-section-number">2.8.4</span> Character vectors that live in a data frame</h3>
<ul>
<li>Certain operations are facilitated by tidyr. These are described below.<br />
</li>
<li>For a general discussion of how to work on variables that live in a data frame, see <a href="#oldies">Vectors versus tibbles</a> (Appendix <a href="#oldies"><strong>??</strong></a>).</li>
</ul>
<p>Load the tidyverse, which includes stringr</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="2-wrangling.html#cb158-1"></a><span class="kw">library</span>(tidyverse)</span></code></pre></div>
</div>
<div id="regex-free-string-manipulation-with-stringr-and-tidyr" class="section level3">
<h3><span class="header-section-number">2.8.5</span> Regex-free string manipulation with stringr and tidyr</h3>
<p>Basic string manipulation tasks:</p>
<ul>
<li>Study a single character vector
<ul>
<li>How long are the strings?</li>
<li>Presence/absence of a literal string</li>
</ul></li>
<li>Operate on a single character vector
<ul>
<li>Keep/discard elements that contain a literal string</li>
<li>Split into two or more character vectors using a fixed delimiter<br />
</li>
<li>Snip out pieces of the strings based on character position</li>
<li>Collapse into a single string</li>
</ul></li>
<li>Operate on two or more character vectors
<ul>
<li>Glue them together element-wise to get a new character vector.</li>
</ul></li>
</ul>
<p><em><code>fruit</code>, <code>words</code>, and <code>sentences</code> are character vectors that ship with stringr for practicing.</em></p>
</div>
<div id="detect-or-filter-on-a-target-string" class="section level3">
<h3><span class="header-section-number">2.8.6</span> Detect or filter on a target string</h3>
<p>Determine presence/absence of a literal string with <code>str_detect()</code>. Spoiler: later we see <code>str_detect()</code> also detects regular expressions.</p>
<p>Which fruits actually use the word “fruit”?</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="2-wrangling.html#cb159-1"></a><span class="kw">str_detect</span>(fruit, <span class="dt">pattern =</span> <span class="st">&quot;fruit&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE
## [13] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
## [25] FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE
## [37] FALSE FALSE  TRUE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE
## [49] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE
## [61] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
## [73] FALSE FALSE  TRUE FALSE FALSE FALSE  TRUE FALSE</code></pre>
<p>What’s the easiest way to get the actual fruits that match? Use <code>str_subset()</code> to keep only the matching elements. Note we are storing this new vector <code>my_fruit</code> to use in later examples!</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="2-wrangling.html#cb161-1"></a>(my_fruit &lt;-<span class="st"> </span><span class="kw">str_subset</span>(fruit, <span class="dt">pattern =</span> <span class="st">&quot;fruit&quot;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;breadfruit&quot;   &quot;dragonfruit&quot;  &quot;grapefruit&quot;   &quot;jackfruit&quot;    &quot;kiwi fruit&quot;  
## [6] &quot;passionfruit&quot; &quot;star fruit&quot;   &quot;ugli fruit&quot;</code></pre>
</div>
<div id="string-splitting-by-delimiter" class="section level3">
<h3><span class="header-section-number">2.8.7</span> String splitting by delimiter</h3>
<p>Use <code>stringr::str_split()</code> to split strings on a delimiter. Some of our fruits are compound words, like “grapefruit”, but some have two words, like “ugli fruit”. Here we split on a single space <code>" "</code>, but show use of a regular expression later.</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="2-wrangling.html#cb163-1"></a><span class="kw">str_split</span>(my_fruit, <span class="dt">pattern =</span> <span class="st">&quot; &quot;</span>)</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;breadfruit&quot;
## 
## [[2]]
## [1] &quot;dragonfruit&quot;
## 
## [[3]]
## [1] &quot;grapefruit&quot;
## 
## [[4]]
## [1] &quot;jackfruit&quot;
## 
## [[5]]
## [1] &quot;kiwi&quot;  &quot;fruit&quot;
## 
## [[6]]
## [1] &quot;passionfruit&quot;
## 
## [[7]]
## [1] &quot;star&quot;  &quot;fruit&quot;
## 
## [[8]]
## [1] &quot;ugli&quot;  &quot;fruit&quot;</code></pre>
<p>It’s bummer that we get a <em>list</em> back. But it must be so! In full generality, split strings must return list, because who knows how many pieces there will be?</p>
<p>If you are willing to commit to the number of pieces, you can use <code>str_split_fixed()</code> and get a character matrix. You’re welcome!</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="2-wrangling.html#cb165-1"></a><span class="kw">str_split_fixed</span>(my_fruit, <span class="dt">pattern =</span> <span class="st">&quot; &quot;</span>, <span class="dt">n =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##      [,1]           [,2]   
## [1,] &quot;breadfruit&quot;   &quot;&quot;     
## [2,] &quot;dragonfruit&quot;  &quot;&quot;     
## [3,] &quot;grapefruit&quot;   &quot;&quot;     
## [4,] &quot;jackfruit&quot;    &quot;&quot;     
## [5,] &quot;kiwi&quot;         &quot;fruit&quot;
## [6,] &quot;passionfruit&quot; &quot;&quot;     
## [7,] &quot;star&quot;         &quot;fruit&quot;
## [8,] &quot;ugli&quot;         &quot;fruit&quot;</code></pre>
<p>If the to-be-split variable lives in a data frame, <code>tidyr::separate()</code> will split it into 2 or more variables.</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="2-wrangling.html#cb167-1"></a>my_fruit_df &lt;-<span class="st"> </span><span class="kw">tibble</span>(my_fruit)</span>
<span id="cb167-2"><a href="2-wrangling.html#cb167-2"></a>my_fruit_df <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb167-3"><a href="2-wrangling.html#cb167-3"></a><span class="st">  </span><span class="kw">separate</span>(my_fruit, <span class="dt">into =</span> <span class="kw">c</span>(<span class="st">&quot;pre&quot;</span>, <span class="st">&quot;post&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Expected 2 pieces. Missing pieces filled with `NA` in 5 rows [1, 2, 3,
## 4, 6].</code></pre>
<pre><code>## # A tibble: 8 x 2
##   pre          post 
##   &lt;chr&gt;        &lt;chr&gt;
## 1 breadfruit   &lt;NA&gt; 
## 2 dragonfruit  &lt;NA&gt; 
## 3 grapefruit   &lt;NA&gt; 
## 4 jackfruit    &lt;NA&gt; 
## 5 kiwi         fruit
## 6 passionfruit &lt;NA&gt; 
## 7 star         fruit
## 8 ugli         fruit</code></pre>
</div>
<div id="substring-extraction-and-replacement-by-position" class="section level3">
<h3><span class="header-section-number">2.8.8</span> Substring extraction (and replacement) by position</h3>
<p>Count characters in your strings with <code>str_length()</code>. Note this is different from the length of the character vector itself.</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="2-wrangling.html#cb170-1"></a><span class="kw">length</span>(my_fruit)</span></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="2-wrangling.html#cb172-1"></a><span class="kw">str_length</span>(my_fruit)</span></code></pre></div>
<pre><code>## [1] 10 11 10  9 10 12 10 10</code></pre>
<p>You can snip out substrings based on character position with <code>str_sub()</code>.</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="2-wrangling.html#cb174-1"></a><span class="kw">head</span>(fruit) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb174-2"><a href="2-wrangling.html#cb174-2"></a><span class="st">  </span><span class="kw">str_sub</span>(<span class="dv">1</span>, <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] &quot;app&quot; &quot;apr&quot; &quot;avo&quot; &quot;ban&quot; &quot;bel&quot; &quot;bil&quot;</code></pre>
<p>The <code>start</code> and <code>end</code> arguments are vectorised. <strong>Example:</strong> a sliding 3-character window.</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="2-wrangling.html#cb176-1"></a><span class="kw">tibble</span>(fruit) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb176-2"><a href="2-wrangling.html#cb176-2"></a><span class="st">  </span><span class="kw">head</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb176-3"><a href="2-wrangling.html#cb176-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">snip =</span> <span class="kw">str_sub</span>(fruit, <span class="dv">1</span><span class="op">:</span><span class="dv">6</span>, <span class="dv">3</span><span class="op">:</span><span class="dv">8</span>))</span></code></pre></div>
<pre><code>## # A tibble: 6 x 2
##   fruit       snip 
##   &lt;chr&gt;       &lt;chr&gt;
## 1 apple       &quot;app&quot;
## 2 apricot     &quot;pri&quot;
## 3 avocado     &quot;oca&quot;
## 4 banana      &quot;ana&quot;
## 5 bell pepper &quot; pe&quot;
## 6 bilberry    &quot;rry&quot;</code></pre>
<p>Finally, <code>str_sub()</code> also works for assignment, i.e. on the left hand side of <code>&lt;-</code>.</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="2-wrangling.html#cb178-1"></a>(x &lt;-<span class="st"> </span><span class="kw">head</span>(fruit, <span class="dv">3</span>))</span></code></pre></div>
<pre><code>## [1] &quot;apple&quot;   &quot;apricot&quot; &quot;avocado&quot;</code></pre>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="2-wrangling.html#cb180-1"></a><span class="kw">str_sub</span>(x, <span class="dv">1</span>, <span class="dv">3</span>) &lt;-<span class="st"> &quot;AAA&quot;</span></span>
<span id="cb180-2"><a href="2-wrangling.html#cb180-2"></a>x</span></code></pre></div>
<pre><code>## [1] &quot;AAAle&quot;   &quot;AAAicot&quot; &quot;AAAcado&quot;</code></pre>
</div>
<div id="collapse-a-vector" class="section level3">
<h3><span class="header-section-number">2.8.9</span> Collapse a vector</h3>
<p>You can collapse a character vector of length <code>n &gt; 1</code> to a single string with <code>str_c()</code>, which also has other uses (see the <a href="2-wrangling.html#catenate-vectors">next section</a>).</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="2-wrangling.html#cb182-1"></a><span class="kw">head</span>(fruit) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb182-2"><a href="2-wrangling.html#cb182-2"></a><span class="st">  </span><span class="kw">str_c</span>(<span class="dt">collapse =</span> <span class="st">&quot;, &quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;apple, apricot, avocado, banana, bell pepper, bilberry&quot;</code></pre>
</div>
<div id="catenate-vectors" class="section level3">
<h3><span class="header-section-number">2.8.10</span> Create a character vector by catenating multiple vectors</h3>
<p>If you have two or more character vectors of the same length, you can glue them together element-wise, to get a new vector of that length. Here are some … awful smoothie flavors?</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="2-wrangling.html#cb184-1"></a><span class="kw">str_c</span>(fruit[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>], fruit[<span class="dv">5</span><span class="op">:</span><span class="dv">8</span>], <span class="dt">sep =</span> <span class="st">&quot; &amp; &quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;apple &amp; bell pepper&quot;   &quot;apricot &amp; bilberry&quot;    &quot;avocado &amp; blackberry&quot; 
## [4] &quot;banana &amp; blackcurrant&quot;</code></pre>
<p>Element-wise catenation can be combined with collapsing.</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="2-wrangling.html#cb186-1"></a><span class="kw">str_c</span>(fruit[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>], fruit[<span class="dv">5</span><span class="op">:</span><span class="dv">8</span>], <span class="dt">sep =</span> <span class="st">&quot; &amp; &quot;</span>, <span class="dt">collapse =</span> <span class="st">&quot;, &quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;apple &amp; bell pepper, apricot &amp; bilberry, avocado &amp; blackberry, banana &amp; blackcurrant&quot;</code></pre>
<p>If the to-be-combined vectors are variables in a data frame, you can use <code>tidyr::unite()</code> to make a single new variable from them.</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="2-wrangling.html#cb188-1"></a>fruit_df &lt;-<span class="st"> </span><span class="kw">tibble</span>(</span>
<span id="cb188-2"><a href="2-wrangling.html#cb188-2"></a>  <span class="dt">fruit1 =</span> fruit[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>],</span>
<span id="cb188-3"><a href="2-wrangling.html#cb188-3"></a>  <span class="dt">fruit2 =</span> fruit[<span class="dv">5</span><span class="op">:</span><span class="dv">8</span>]</span>
<span id="cb188-4"><a href="2-wrangling.html#cb188-4"></a>)</span>
<span id="cb188-5"><a href="2-wrangling.html#cb188-5"></a>fruit_df <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb188-6"><a href="2-wrangling.html#cb188-6"></a><span class="st">  </span><span class="kw">unite</span>(<span class="st">&quot;flavor_combo&quot;</span>, fruit1, fruit2, <span class="dt">sep =</span> <span class="st">&quot; &amp; &quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 4 x 1
##   flavor_combo         
##   &lt;chr&gt;                
## 1 apple &amp; bell pepper  
## 2 apricot &amp; bilberry   
## 3 avocado &amp; blackberry 
## 4 banana &amp; blackcurrant</code></pre>
</div>
<div id="substring-replacement" class="section level3">
<h3><span class="header-section-number">2.8.11</span> Substring replacement</h3>
<p>You can replace a pattern with <code>str_replace()</code>. Here we use an explicit string-to-replace, but later we revisit with a regular expression.</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="2-wrangling.html#cb190-1"></a><span class="kw">str_replace</span>(my_fruit, <span class="dt">pattern =</span> <span class="st">&quot;fruit&quot;</span>, <span class="dt">replacement =</span> <span class="st">&quot;THINGY&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;breadTHINGY&quot;   &quot;dragonTHINGY&quot;  &quot;grapeTHINGY&quot;   &quot;jackTHINGY&quot;   
## [5] &quot;kiwi THINGY&quot;   &quot;passionTHINGY&quot; &quot;star THINGY&quot;   &quot;ugli THINGY&quot;</code></pre>
<p>A special case that comes up a lot is replacing <code>NA</code>, for which there is <code>str_replace_na()</code>.</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="2-wrangling.html#cb192-1"></a>melons &lt;-<span class="st"> </span><span class="kw">str_subset</span>(fruit, <span class="dt">pattern =</span> <span class="st">&quot;melon&quot;</span>)</span>
<span id="cb192-2"><a href="2-wrangling.html#cb192-2"></a>melons[<span class="dv">2</span>] &lt;-<span class="st"> </span><span class="ot">NA</span></span>
<span id="cb192-3"><a href="2-wrangling.html#cb192-3"></a>melons</span></code></pre></div>
<pre><code>## [1] &quot;canary melon&quot; NA             &quot;watermelon&quot;</code></pre>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="2-wrangling.html#cb194-1"></a><span class="kw">str_replace_na</span>(melons, <span class="st">&quot;UNKNOWN MELON&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;canary melon&quot;  &quot;UNKNOWN MELON&quot; &quot;watermelon&quot;</code></pre>
<p>If the <code>NA</code>-afflicted variable lives in a data frame, you can use <code>tidyr::replace_na()</code>.</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="2-wrangling.html#cb196-1"></a><span class="kw">tibble</span>(melons) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb196-2"><a href="2-wrangling.html#cb196-2"></a><span class="st">  </span><span class="kw">replace_na</span>(<span class="dt">replace =</span> <span class="kw">list</span>(<span class="dt">melons =</span> <span class="st">&quot;UNKNOWN MELON&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 3 x 1
##   melons       
##   &lt;chr&gt;        
## 1 canary melon 
## 2 UNKNOWN MELON
## 3 watermelon</code></pre>
<p>And that concludes our treatment of regex-free manipulations of character data!</p>
</div>
<div id="regular-expressions-with-stringr" class="section level3">
<h3><span class="header-section-number">2.8.12</span> Regular expressions with stringr</h3>
<div class="figure"><span id="fig:unnamed-chunk-97"></span>
<img src="img/regexbytrialanderror-big-smaller.png" alt="From [\@ThePracticalDev](https://twitter.com/ThePracticalDev/status/774309983467016193)" width="50%" />
<p class="caption">
FIGURE 2.7: From <a href="https://twitter.com/ThePracticalDev/status/774309983467016193">@ThePracticalDev</a>
</p>
</div>
<p>The country names in the <code>gapminder</code> dataset are convenient for examples. Load it now and store the 142 unique country names in the object <code>countries</code>.</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="2-wrangling.html#cb198-1"></a><span class="kw">library</span>(gapminder)</span>
<span id="cb198-2"><a href="2-wrangling.html#cb198-2"></a>countries &lt;-<span class="st"> </span><span class="kw">levels</span>(gapminder<span class="op">$</span>country)</span></code></pre></div>
</div>
<div id="characters-with-special-meaning" class="section level3">
<h3><span class="header-section-number">2.8.13</span> Characters with special meaning</h3>
<p>Frequently your string tasks cannot be expressed in terms of a fixed string, but can be described in terms of a <strong>pattern</strong>. Regular expressions, aka “regexes”, are the standard way to specify these patterns. In regexes, specific characters and constructs take on special meaning in order to match multiple strings.</p>
<p>The first metacharacter is the period <code>.</code>, which stands for any single character, except a newline (which by the way, is represented by <code>\n</code>). The regex <code>a.b</code> will match all countries that have an <code>a</code>, followed by any single character, followed by <code>b</code>. Yes, regexes are case sensitive, i.e. “Italy” does not match.</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="2-wrangling.html#cb199-1"></a><span class="kw">str_subset</span>(countries, <span class="dt">pattern =</span> <span class="st">&quot;i.a&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;Argentina&quot;                &quot;Bosnia and Herzegovina&quot;  
##  [3] &quot;Burkina Faso&quot;             &quot;Central African Republic&quot;
##  [5] &quot;China&quot;                    &quot;Costa Rica&quot;              
##  [7] &quot;Dominican Republic&quot;       &quot;Hong Kong, China&quot;        
##  [9] &quot;Jamaica&quot;                  &quot;Mauritania&quot;              
## [11] &quot;Nicaragua&quot;                &quot;South Africa&quot;            
## [13] &quot;Swaziland&quot;                &quot;Taiwan&quot;                  
## [15] &quot;Thailand&quot;                 &quot;Trinidad and Tobago&quot;</code></pre>
<p>Notice that <code>i.a</code> matches “ina”, “ica”, “ita”, and more.</p>
<p><strong>Anchors</strong> can be included to express where the expression must occur within the string. The <code>^</code> indicates the beginning of string and <code>$</code> indicates the end.</p>
<p>Note how the regex <code>i.a$</code> matches many fewer countries than <code>i.a</code> alone. Likewise, more elements of <code>my_fruit</code> match <code>d</code> than <code>^d</code>, which requires “d” at string start.</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="2-wrangling.html#cb201-1"></a><span class="kw">str_subset</span>(countries, <span class="dt">pattern =</span> <span class="st">&quot;i.a$&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Argentina&quot;              &quot;Bosnia and Herzegovina&quot; &quot;China&quot;                 
## [4] &quot;Costa Rica&quot;             &quot;Hong Kong, China&quot;       &quot;Jamaica&quot;               
## [7] &quot;South Africa&quot;</code></pre>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="2-wrangling.html#cb203-1"></a><span class="kw">str_subset</span>(my_fruit, <span class="dt">pattern =</span> <span class="st">&quot;d&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;breadfruit&quot;  &quot;dragonfruit&quot;</code></pre>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="2-wrangling.html#cb205-1"></a><span class="kw">str_subset</span>(my_fruit, <span class="dt">pattern =</span> <span class="st">&quot;^d&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;dragonfruit&quot;</code></pre>
<p>The metacharacter <code>\b</code> indicates a <strong>word boundary</strong> and <code>\B</code> indicates NOT a word boundary. This is our first encounter with something called “escaping” and right now I just want you at accept that we need to prepend a second backslash to use these sequences in regexes in R. We’ll come back to this tedious point later.</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="2-wrangling.html#cb207-1"></a><span class="kw">str_subset</span>(fruit, <span class="dt">pattern =</span> <span class="st">&quot;melon&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;canary melon&quot; &quot;rock melon&quot;   &quot;watermelon&quot;</code></pre>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="2-wrangling.html#cb209-1"></a><span class="kw">str_subset</span>(fruit, <span class="dt">pattern =</span> <span class="st">&quot;</span><span class="ch">\\</span><span class="st">bmelon&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;canary melon&quot; &quot;rock melon&quot;</code></pre>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="2-wrangling.html#cb211-1"></a><span class="kw">str_subset</span>(fruit, <span class="dt">pattern =</span> <span class="st">&quot;</span><span class="ch">\\</span><span class="st">Bmelon&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;watermelon&quot;</code></pre>
</div>
<div id="character-classes" class="section level3">
<h3><span class="header-section-number">2.8.14</span> Character classes</h3>
<p>Characters can be specified via classes. You can make them explicitly “by hand” or use some pre-existing ones. Character classes are usually given inside square brackets, <code>[]</code> but a few come up so often that we have a metacharacter for them, such as <code>\d</code> for a single digit.</p>
<p>Here we match <code>ia</code> at the end of the country name, preceded by one of the characters in the class. Or, in the negated class, preceded by anything but one of those characters.</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="2-wrangling.html#cb213-1"></a><span class="co"># Make a class &quot;by hand&quot;</span></span>
<span id="cb213-2"><a href="2-wrangling.html#cb213-2"></a></span>
<span id="cb213-3"><a href="2-wrangling.html#cb213-3"></a><span class="kw">str_subset</span>(countries, <span class="dt">pattern =</span> <span class="st">&quot;[nls]ia$&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;Albania&quot;    &quot;Australia&quot;  &quot;Indonesia&quot;  &quot;Malaysia&quot;   &quot;Mauritania&quot;
##  [6] &quot;Mongolia&quot;   &quot;Romania&quot;    &quot;Slovenia&quot;   &quot;Somalia&quot;    &quot;Tanzania&quot;  
## [11] &quot;Tunisia&quot;</code></pre>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="2-wrangling.html#cb215-1"></a><span class="co"># Use ^ to negate the class</span></span>
<span id="cb215-2"><a href="2-wrangling.html#cb215-2"></a></span>
<span id="cb215-3"><a href="2-wrangling.html#cb215-3"></a><span class="kw">str_subset</span>(countries, <span class="dt">pattern =</span> <span class="st">&quot;[^nls]ia$&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;Algeria&quot;      &quot;Austria&quot;      &quot;Bolivia&quot;      &quot;Bulgaria&quot;     &quot;Cambodia&quot;    
##  [6] &quot;Colombia&quot;     &quot;Croatia&quot;      &quot;Ethiopia&quot;     &quot;Gambia&quot;       &quot;India&quot;       
## [11] &quot;Liberia&quot;      &quot;Namibia&quot;      &quot;Nigeria&quot;      &quot;Saudi Arabia&quot; &quot;Serbia&quot;      
## [16] &quot;Syria&quot;        &quot;Zambia&quot;</code></pre>
<p>Here we revisit splitting <code>my_fruit</code> with two more general ways to match whitespace: the <code>\s</code> metacharacter and the POSIX class <code>[:space:]</code>. Notice that we must prepend an extra backslash <code>\</code> to escape <code>\s</code> and the POSIX class has to be surrounded by two sets of square brackets.</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="2-wrangling.html#cb217-1"></a><span class="co"># Remember this?</span></span>
<span id="cb217-2"><a href="2-wrangling.html#cb217-2"></a><span class="co"># str_split_fixed(fruit, pattern = &quot; &quot;, n = 2)</span></span>
<span id="cb217-3"><a href="2-wrangling.html#cb217-3"></a><span class="co"># Alternatives:</span></span>
<span id="cb217-4"><a href="2-wrangling.html#cb217-4"></a></span>
<span id="cb217-5"><a href="2-wrangling.html#cb217-5"></a><span class="kw">str_split_fixed</span>(my_fruit, <span class="dt">pattern =</span> <span class="st">&quot;</span><span class="ch">\\</span><span class="st">s&quot;</span>, <span class="dt">n =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##      [,1]           [,2]   
## [1,] &quot;breadfruit&quot;   &quot;&quot;     
## [2,] &quot;dragonfruit&quot;  &quot;&quot;     
## [3,] &quot;grapefruit&quot;   &quot;&quot;     
## [4,] &quot;jackfruit&quot;    &quot;&quot;     
## [5,] &quot;kiwi&quot;         &quot;fruit&quot;
## [6,] &quot;passionfruit&quot; &quot;&quot;     
## [7,] &quot;star&quot;         &quot;fruit&quot;
## [8,] &quot;ugli&quot;         &quot;fruit&quot;</code></pre>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="2-wrangling.html#cb219-1"></a><span class="kw">str_split_fixed</span>(my_fruit, <span class="dt">pattern =</span> <span class="st">&quot;[[:space:]]&quot;</span>, <span class="dt">n =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##      [,1]           [,2]   
## [1,] &quot;breadfruit&quot;   &quot;&quot;     
## [2,] &quot;dragonfruit&quot;  &quot;&quot;     
## [3,] &quot;grapefruit&quot;   &quot;&quot;     
## [4,] &quot;jackfruit&quot;    &quot;&quot;     
## [5,] &quot;kiwi&quot;         &quot;fruit&quot;
## [6,] &quot;passionfruit&quot; &quot;&quot;     
## [7,] &quot;star&quot;         &quot;fruit&quot;
## [8,] &quot;ugli&quot;         &quot;fruit&quot;</code></pre>
<p>Let’s see the country names that contain punctuation.</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="2-wrangling.html#cb221-1"></a><span class="kw">str_subset</span>(countries, <span class="st">&quot;[[:punct:]]&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Congo, Dem. Rep.&quot; &quot;Congo, Rep.&quot;      &quot;Cote d&#39;Ivoire&quot;    &quot;Guinea-Bissau&quot;   
## [5] &quot;Hong Kong, China&quot; &quot;Korea, Dem. Rep.&quot; &quot;Korea, Rep.&quot;      &quot;Yemen, Rep.&quot;</code></pre>
</div>
<div id="quantifiers" class="section level3">
<h3><span class="header-section-number">2.8.15</span> Quantifiers</h3>
<p>You can decorate characters (and other constructs, like metacharacters and classes) with information about how many characters they are allowed to match.</p>
<table>
<thead>
<tr class="header">
<th>quantifier</th>
<th>meaning</th>
<th>quantifier</th>
<th>meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>*</td>
<td>0 or more</td>
<td>{n}</td>
<td>exactly n</td>
</tr>
<tr class="even">
<td>+</td>
<td>1 or more</td>
<td>{n,}</td>
<td>at least n</td>
</tr>
<tr class="odd">
<td>?</td>
<td>0 or 1</td>
<td>{,m}</td>
<td>at most m</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td>{n,m}</td>
<td>between n and m, inclusive</td>
</tr>
</tbody>
</table>
<p>Explore these by inspecting matches for <code>l</code> followed by <code>e</code>, allowing for various numbers of characters in between.</p>
<p><code>l.*e</code> will match strings with 0 or more characters in between, i.e. any string with an <code>l</code> eventually followed by an <code>e</code>. This is the most inclusive regex for this example, so we store the result as <code>matches</code> to use as a baseline for comparison.</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="2-wrangling.html#cb223-1"></a>(matches &lt;-<span class="st"> </span><span class="kw">str_subset</span>(fruit, <span class="dt">pattern =</span> <span class="st">&quot;l.*e&quot;</span>))</span></code></pre></div>
<pre><code>##  [1] &quot;apple&quot;             &quot;bell pepper&quot;       &quot;bilberry&quot;         
##  [4] &quot;blackberry&quot;        &quot;blood orange&quot;      &quot;blueberry&quot;        
##  [7] &quot;cantaloupe&quot;        &quot;chili pepper&quot;      &quot;clementine&quot;       
## [10] &quot;cloudberry&quot;        &quot;elderberry&quot;        &quot;huckleberry&quot;      
## [13] &quot;lemon&quot;             &quot;lime&quot;              &quot;lychee&quot;           
## [16] &quot;mulberry&quot;          &quot;olive&quot;             &quot;pineapple&quot;        
## [19] &quot;purple mangosteen&quot; &quot;salal berry&quot;</code></pre>
<p>Change the quantifier from <code>*</code> to <code>+</code> to require at least one intervening character. The strings that no longer match: all have a literal <code>le</code> with no preceding <code>l</code> and no following <code>e</code>.</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="2-wrangling.html#cb225-1"></a><span class="kw">list</span>(<span class="dt">match =</span> <span class="kw">intersect</span>(matches, <span class="kw">str_subset</span>(fruit, <span class="dt">pattern =</span> <span class="st">&quot;l.+e&quot;</span>)),</span>
<span id="cb225-2"><a href="2-wrangling.html#cb225-2"></a>     <span class="dt">no_match =</span> <span class="kw">setdiff</span>(matches, <span class="kw">str_subset</span>(fruit, <span class="dt">pattern =</span> <span class="st">&quot;l.+e&quot;</span>)))</span></code></pre></div>
<pre><code>## $match
##  [1] &quot;bell pepper&quot;       &quot;bilberry&quot;          &quot;blackberry&quot;       
##  [4] &quot;blood orange&quot;      &quot;blueberry&quot;         &quot;cantaloupe&quot;       
##  [7] &quot;chili pepper&quot;      &quot;clementine&quot;        &quot;cloudberry&quot;       
## [10] &quot;elderberry&quot;        &quot;huckleberry&quot;       &quot;lime&quot;             
## [13] &quot;lychee&quot;            &quot;mulberry&quot;          &quot;olive&quot;            
## [16] &quot;purple mangosteen&quot; &quot;salal berry&quot;      
## 
## $no_match
## [1] &quot;apple&quot;     &quot;lemon&quot;     &quot;pineapple&quot;</code></pre>
<p>Change the quantifier from <code>*</code> to <code>?</code> to require at most one intervening character. In the strings that no longer match, the shortest gap between <code>l</code> and following <code>e</code> is at least two characters.</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="2-wrangling.html#cb227-1"></a><span class="kw">list</span>(<span class="dt">match =</span> <span class="kw">intersect</span>(matches, <span class="kw">str_subset</span>(fruit, <span class="dt">pattern =</span> <span class="st">&quot;l.?e&quot;</span>)),</span>
<span id="cb227-2"><a href="2-wrangling.html#cb227-2"></a>     <span class="dt">no_match =</span> <span class="kw">setdiff</span>(matches, <span class="kw">str_subset</span>(fruit, <span class="dt">pattern =</span> <span class="st">&quot;l.?e&quot;</span>)))</span></code></pre></div>
<pre><code>## $match
##  [1] &quot;apple&quot;             &quot;bilberry&quot;          &quot;blueberry&quot;        
##  [4] &quot;clementine&quot;        &quot;elderberry&quot;        &quot;huckleberry&quot;      
##  [7] &quot;lemon&quot;             &quot;mulberry&quot;          &quot;pineapple&quot;        
## [10] &quot;purple mangosteen&quot;
## 
## $no_match
##  [1] &quot;bell pepper&quot;  &quot;blackberry&quot;   &quot;blood orange&quot; &quot;cantaloupe&quot;   &quot;chili pepper&quot;
##  [6] &quot;cloudberry&quot;   &quot;lime&quot;         &quot;lychee&quot;       &quot;olive&quot;        &quot;salal berry&quot;</code></pre>
<p>Finally, we remove the quantifier and allow for no intervening characters. The strings that no longer match lack a literal <code>le</code>.</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="2-wrangling.html#cb229-1"></a><span class="kw">list</span>(<span class="dt">match =</span> <span class="kw">intersect</span>(matches, <span class="kw">str_subset</span>(fruit, <span class="dt">pattern =</span> <span class="st">&quot;le&quot;</span>)),</span>
<span id="cb229-2"><a href="2-wrangling.html#cb229-2"></a>     <span class="dt">no_match =</span> <span class="kw">setdiff</span>(matches, <span class="kw">str_subset</span>(fruit, <span class="dt">pattern =</span> <span class="st">&quot;le&quot;</span>)))</span></code></pre></div>
<pre><code>## $match
## [1] &quot;apple&quot;             &quot;clementine&quot;        &quot;huckleberry&quot;      
## [4] &quot;lemon&quot;             &quot;pineapple&quot;         &quot;purple mangosteen&quot;
## 
## $no_match
##  [1] &quot;bell pepper&quot;  &quot;bilberry&quot;     &quot;blackberry&quot;   &quot;blood orange&quot; &quot;blueberry&quot;   
##  [6] &quot;cantaloupe&quot;   &quot;chili pepper&quot; &quot;cloudberry&quot;   &quot;elderberry&quot;   &quot;lime&quot;        
## [11] &quot;lychee&quot;       &quot;mulberry&quot;     &quot;olive&quot;        &quot;salal berry&quot;</code></pre>
</div>
<div id="escaping" class="section level3">
<h3><span class="header-section-number">2.8.16</span> Escaping</h3>
<p>You’ve probably caught on by now that there are certain characters with special meaning in regexes, including <code>$ * + . ? [ ] ^ { } | ( ) \</code>.</p>
<p>What if you really need the plus sign to be a literal plus sign and not a regex quantifier? You will need to <em>escape</em> it by prepending a backslash. But wait … there’s more! Before a regex is interpreted as a regular expression, it is also interpreted by R as a string. And backslash is used to escape there as well. So, in the end, you need to preprend two backslashes in order to match a literal plus sign in a regex.</p>
<p>This will be more clear with examples!</p>
<div id="escapes-in-plain-old-strings" class="section level4">
<h4><span class="header-section-number">2.8.16.1</span> Escapes in plain old strings</h4>
<p>Here is routine, non-regex use of backslash <code>\</code> escapes in plain vanilla R strings. We intentionally use <code>cat()</code> instead of <code>print()</code> here.</p>
<ul>
<li><p>To escape quotes inside quotes:</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="2-wrangling.html#cb231-1"></a><span class="kw">cat</span>(<span class="st">&quot;Do you use </span><span class="ch">\&quot;</span><span class="st">airquotes</span><span class="ch">\&quot;</span><span class="st"> much?&quot;</span>)</span></code></pre></div>
<pre><code>## Do you use &quot;airquotes&quot; much?</code></pre>
<p>Sidebar: eliminating the need for these escapes is exactly why people use double quotes inside single quotes and <em>vice versa</em>.</p></li>
<li><p>To insert newline (<code>\n</code>) or tab (<code>\t</code>):</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="2-wrangling.html#cb233-1"></a><span class="kw">cat</span>(<span class="st">&quot;before the newline</span><span class="ch">\n</span><span class="st">after the newline&quot;</span>)</span></code></pre></div>
<pre><code>## before the newline
## after the newline</code></pre>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="2-wrangling.html#cb235-1"></a><span class="kw">cat</span>(<span class="st">&quot;before the tab</span><span class="ch">\t</span><span class="st">after the tab&quot;</span>)</span></code></pre></div>
<pre><code>## before the tab   after the tab</code></pre></li>
</ul>
</div>
<div id="escapes-in-regular-expressions" class="section level4">
<h4><span class="header-section-number">2.8.16.2</span> Escapes in regular expressions</h4>
<p>Examples of using escapes in regexes to match characters that would otherwise have a special interpretation.</p>
<p>We know several <code>gapminder</code> country names contain a period. How do we isolate them? Although it’s tempting, this command <code>str_subset(countries, pattern = ".")</code> won’t work!</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="2-wrangling.html#cb237-1"></a><span class="co"># Cheating using a POSIX class ;)</span></span>
<span id="cb237-2"><a href="2-wrangling.html#cb237-2"></a></span>
<span id="cb237-3"><a href="2-wrangling.html#cb237-3"></a><span class="kw">str_subset</span>(countries, <span class="dt">pattern =</span> <span class="st">&quot;[[:punct:]]&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Congo, Dem. Rep.&quot; &quot;Congo, Rep.&quot;      &quot;Cote d&#39;Ivoire&quot;    &quot;Guinea-Bissau&quot;   
## [5] &quot;Hong Kong, China&quot; &quot;Korea, Dem. Rep.&quot; &quot;Korea, Rep.&quot;      &quot;Yemen, Rep.&quot;</code></pre>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="2-wrangling.html#cb239-1"></a><span class="co"># Using two backslashes to escape the period</span></span>
<span id="cb239-2"><a href="2-wrangling.html#cb239-2"></a></span>
<span id="cb239-3"><a href="2-wrangling.html#cb239-3"></a><span class="kw">str_subset</span>(countries, <span class="dt">pattern =</span> <span class="st">&quot;</span><span class="ch">\\</span><span class="st">.&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Congo, Dem. Rep.&quot; &quot;Congo, Rep.&quot;      &quot;Korea, Dem. Rep.&quot; &quot;Korea, Rep.&quot;     
## [5] &quot;Yemen, Rep.&quot;</code></pre>
<p>A last example that matches an actual square bracket.</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="2-wrangling.html#cb241-1"></a>(x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;whatever&quot;</span>, <span class="st">&quot;X is distributed U[0,1]&quot;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;whatever&quot;                &quot;X is distributed U[0,1]&quot;</code></pre>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="2-wrangling.html#cb243-1"></a><span class="kw">str_subset</span>(x, <span class="dt">pattern =</span> <span class="st">&quot;</span><span class="ch">\\</span><span class="st">[&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;X is distributed U[0,1]&quot;</code></pre>
</div>
</div>
<div id="groups-and-backreferences" class="section level3">
<h3><span class="header-section-number">2.8.17</span> Groups and backreferences</h3>
<p>Your first use of regex is likely to be simple matching: detecting or isolating strings that match a pattern.</p>
<p>But soon you will want to use regexes to transform the strings in character vectors. That means you need a way to address specific parts of the matching strings and to operate on them.</p>
<p>You can use parentheses inside regexes to define <em>groups</em> and you can refer to those groups later with <em>backreferences</em>.</p>
<p>For now, this lesson will refer you to other place to read up on this:</p>
<ul>
<li>STAT 545 <a href="#oldies">2014 Intro to regular expressions</a> by TA Gloria Li (Appendix <a href="#oldies"><strong>??</strong></a>).</li>
<li>The [Strings chapter][r4ds-strings] of [R for Data Science][r4ds] <span class="citation">(<span class="citeproc-not-found" data-reference-id="wickham2016"><strong>???</strong></span>)</span>.</li>
</ul>
</div>
</div>
<div id="combining-data" class="section level2">
<h2><span class="header-section-number">2.9</span> Combining Data</h2>
<p>There are many ways to bring data together.</p>
<p><strong>Bind</strong> - This is basically smashing <del>rocks</del> tibbles together. You can smash things together row-wise (“row binding”) or column-wise (“column binding”). Why do I characterize this as rock-smashing? They’re often fairly crude operations, with lots of responsibility falling on the analyst for making sure that the whole enterprise even makes sense.</p>
<p>When row binding, you need to consider the variables in the two tibbles. Do the same variables exist in each? Are they of the same type? Different approaches for row binding have different combinations of flexibility vs rigidity around these matters.</p>
<p>When column binding, the onus is entirely on the analyst to make sure that the rows are aligned. I would avoid column binding whenever possible. If you can introduce new variables through any other, safer means, do so! By safer, I mean: use a mechanism where the row alignment is correct <strong>by definition</strong>. A proper join is the gold standard. In addition to joins, functions like <code>dplyr::mutate()</code> and <code>tidyr::separate()</code> can be very useful for forcing yourself to work inside the constraint of a tibble.</p>
<p><strong>Join</strong> - Here you designate a variable (or a combination of variables) as a <strong>key</strong>. A row in one data frame gets matched with a row in another data frame because they have the same key. You can then bring information from variables in a secondary data frame into a primary data frame based on this key-based lookup. That description is incredibly oversimplified, but that’s the basic idea.</p>
<p>A variety of row- and column-wise operations fit into this framework, which implies there are many different flavors of join. The concepts and vocabulary around joins come from the database world. The relevant functions in dplyr follow this convention and all mention <code>join</code>. The most relevant base R function is <code>merge()</code>.</p>
<p>Let’s explore each type of operation with a few examples.</p>
<div id="bind" class="section level3">
<h3><span class="header-section-number">2.9.1</span> Bind</h3>
<div id="row-binding" class="section level4">
<h4><span class="header-section-number">2.9.1.1</span> Row binding</h4>
<p>We used word count data from the Lord of the Rings trilogy to explore the concept of tidy data. That kicked off with a quiet, successful row bind. Let’s revisit that.</p>
<p>Here’s what a perfect row bind of three (untidy!) data frames looks like.</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="2-wrangling.html#cb245-1"></a>fship &lt;-<span class="st"> </span><span class="kw">tribble</span>(</span>
<span id="cb245-2"><a href="2-wrangling.html#cb245-2"></a>                         <span class="op">~</span>Film,    <span class="op">~</span>Race, <span class="op">~</span>Female, <span class="op">~</span>Male,</span>
<span id="cb245-3"><a href="2-wrangling.html#cb245-3"></a>  <span class="st">&quot;The Fellowship Of The Ring&quot;</span>,    <span class="st">&quot;Elf&quot;</span>,    <span class="dv">1229</span>,   <span class="dv">971</span>,</span>
<span id="cb245-4"><a href="2-wrangling.html#cb245-4"></a>  <span class="st">&quot;The Fellowship Of The Ring&quot;</span>, <span class="st">&quot;Hobbit&quot;</span>,      <span class="dv">14</span>,  <span class="dv">3644</span>,</span>
<span id="cb245-5"><a href="2-wrangling.html#cb245-5"></a>  <span class="st">&quot;The Fellowship Of The Ring&quot;</span>,    <span class="st">&quot;Man&quot;</span>,       <span class="dv">0</span>,  <span class="dv">1995</span></span>
<span id="cb245-6"><a href="2-wrangling.html#cb245-6"></a>)</span>
<span id="cb245-7"><a href="2-wrangling.html#cb245-7"></a>rking &lt;-<span class="st"> </span><span class="kw">tribble</span>(</span>
<span id="cb245-8"><a href="2-wrangling.html#cb245-8"></a>                         <span class="op">~</span>Film,    <span class="op">~</span>Race, <span class="op">~</span>Female, <span class="op">~</span>Male,</span>
<span id="cb245-9"><a href="2-wrangling.html#cb245-9"></a>      <span class="st">&quot;The Return Of The King&quot;</span>,    <span class="st">&quot;Elf&quot;</span>,     <span class="dv">183</span>,   <span class="dv">510</span>,</span>
<span id="cb245-10"><a href="2-wrangling.html#cb245-10"></a>      <span class="st">&quot;The Return Of The King&quot;</span>, <span class="st">&quot;Hobbit&quot;</span>,       <span class="dv">2</span>,  <span class="dv">2673</span>,</span>
<span id="cb245-11"><a href="2-wrangling.html#cb245-11"></a>      <span class="st">&quot;The Return Of The King&quot;</span>,    <span class="st">&quot;Man&quot;</span>,     <span class="dv">268</span>,  <span class="dv">2459</span></span>
<span id="cb245-12"><a href="2-wrangling.html#cb245-12"></a>)</span>
<span id="cb245-13"><a href="2-wrangling.html#cb245-13"></a>ttow &lt;-<span class="st"> </span><span class="kw">tribble</span>(</span>
<span id="cb245-14"><a href="2-wrangling.html#cb245-14"></a>                         <span class="op">~</span>Film,    <span class="op">~</span>Race, <span class="op">~</span>Female, <span class="op">~</span>Male,</span>
<span id="cb245-15"><a href="2-wrangling.html#cb245-15"></a>              <span class="st">&quot;The Two Towers&quot;</span>,    <span class="st">&quot;Elf&quot;</span>,     <span class="dv">331</span>,   <span class="dv">513</span>,</span>
<span id="cb245-16"><a href="2-wrangling.html#cb245-16"></a>              <span class="st">&quot;The Two Towers&quot;</span>, <span class="st">&quot;Hobbit&quot;</span>,       <span class="dv">0</span>,  <span class="dv">2463</span>,</span>
<span id="cb245-17"><a href="2-wrangling.html#cb245-17"></a>              <span class="st">&quot;The Two Towers&quot;</span>,    <span class="st">&quot;Man&quot;</span>,     <span class="dv">401</span>,  <span class="dv">3589</span></span>
<span id="cb245-18"><a href="2-wrangling.html#cb245-18"></a>)</span>
<span id="cb245-19"><a href="2-wrangling.html#cb245-19"></a>(lotr_untidy &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(fship, ttow, rking))</span></code></pre></div>
<pre><code>## # A tibble: 9 x 4
##   Film                       Race   Female  Male
##   &lt;chr&gt;                      &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;
## 1 The Fellowship Of The Ring Elf      1229   971
## 2 The Fellowship Of The Ring Hobbit     14  3644
## 3 The Fellowship Of The Ring Man         0  1995
## 4 The Two Towers             Elf       331   513
## 5 The Two Towers             Hobbit      0  2463
## 6 The Two Towers             Man       401  3589
## 7 The Return Of The King     Elf       183   510
## 8 The Return Of The King     Hobbit      2  2673
## 9 The Return Of The King     Man       268  2459</code></pre>
<p><code>dplyr::bind_rows()</code> works like a charm with these very row-bindable data frames! So does base <code>rbind()</code> (try it!).</p>
<p>But what if one of the data frames is somehow missing a variable? Let’s mangle one and find out.</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="2-wrangling.html#cb247-1"></a>ttow_no_Female &lt;-<span class="st"> </span>ttow <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">Female =</span> <span class="ot">NULL</span>)</span>
<span id="cb247-2"><a href="2-wrangling.html#cb247-2"></a><span class="kw">bind_rows</span>(fship, ttow_no_Female, rking)</span></code></pre></div>
<pre><code>## # A tibble: 9 x 4
##   Film                       Race   Female  Male
##   &lt;chr&gt;                      &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;
## 1 The Fellowship Of The Ring Elf      1229   971
## 2 The Fellowship Of The Ring Hobbit     14  3644
## 3 The Fellowship Of The Ring Man         0  1995
## 4 The Two Towers             Elf        NA   513
## 5 The Two Towers             Hobbit     NA  2463
## 6 The Two Towers             Man        NA  3589
## 7 The Return Of The King     Elf       183   510
## 8 The Return Of The King     Hobbit      2  2673
## 9 The Return Of The King     Man       268  2459</code></pre>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="2-wrangling.html#cb249-1"></a><span class="kw">rbind</span>(fship, ttow_no_Female, rking)</span></code></pre></div>
<pre><code>## Error in rbind(deparse.level, ...): numbers of columns of arguments do not match</code></pre>
<p>We see that <code>dplyr::bind_rows()</code> does the row bind and puts <code>NA</code> in for the missing values caused by the lack of <code>Female</code> data from The Two Towers. Base <code>rbind()</code> refuses to row bind in this situation.</p>
<p>I invite you to experiment with other realistic, challenging scenarios, e.g.:</p>
<ul>
<li>Change the order of variables. Does row binding match variables by name or position?</li>
<li>Row bind data frames where the variable <code>x</code> is of one type in one data frame and another type in the other. Try combinations that you think should work and some that should not. What actually happens?</li>
<li>Row bind data frames in which the factor <code>x</code> has different levels in one data frame and different levels in the other. What happens?</li>
</ul>
<p>In conclusion, row binding usually works when it should (especially with <code>dplyr::bind_rows()</code>) and usually doesn’t when it shouldn’t. The biggest risk is being aggravated.</p>
</div>
<div id="column-binding" class="section level4">
<h4><span class="header-section-number">2.9.1.2</span> Column binding</h4>
<p>Column binding is much more dangerous because it often “works” when it should not. It’s <strong>your job</strong> to make sure the rows are aligned and it’s all too easy to screw this up.</p>
<p>The data in <code>gapminder</code> was originally excavated from 3 messy Excel spreadsheets: one each for life expectancy, population, and GDP per capital. Let’s relive some of the data wrangling joy and show a column bind gone wrong.</p>
<p>I create 3 separate data frames, do some evil row sorting, then column bind. There are no errors. The result <code>gapminder_garbage</code> sort of looks OK. Univariate summary statistics and exploratory plots will look OK. But I’ve created complete nonsense!</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="2-wrangling.html#cb251-1"></a><span class="kw">library</span>(gapminder)</span>
<span id="cb251-2"><a href="2-wrangling.html#cb251-2"></a></span>
<span id="cb251-3"><a href="2-wrangling.html#cb251-3"></a>life_exp &lt;-<span class="st"> </span>gapminder <span class="op">%&gt;%</span></span>
<span id="cb251-4"><a href="2-wrangling.html#cb251-4"></a><span class="st">  </span><span class="kw">select</span>(country, year, lifeExp)</span>
<span id="cb251-5"><a href="2-wrangling.html#cb251-5"></a></span>
<span id="cb251-6"><a href="2-wrangling.html#cb251-6"></a>pop &lt;-<span class="st"> </span>gapminder <span class="op">%&gt;%</span></span>
<span id="cb251-7"><a href="2-wrangling.html#cb251-7"></a><span class="st">  </span><span class="kw">arrange</span>(year) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb251-8"><a href="2-wrangling.html#cb251-8"></a><span class="st">  </span><span class="kw">select</span>(pop)</span>
<span id="cb251-9"><a href="2-wrangling.html#cb251-9"></a>  </span>
<span id="cb251-10"><a href="2-wrangling.html#cb251-10"></a>gdp_percap &lt;-<span class="st"> </span>gapminder <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb251-11"><a href="2-wrangling.html#cb251-11"></a><span class="st">  </span><span class="kw">arrange</span>(pop) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb251-12"><a href="2-wrangling.html#cb251-12"></a><span class="st">  </span><span class="kw">select</span>(gdpPercap)</span>
<span id="cb251-13"><a href="2-wrangling.html#cb251-13"></a></span>
<span id="cb251-14"><a href="2-wrangling.html#cb251-14"></a>(gapminder_garbage &lt;-<span class="st"> </span><span class="kw">bind_cols</span>(life_exp, pop, gdp_percap))</span></code></pre></div>
<pre><code>## # A tibble: 1,704 x 5
##    country      year lifeExp      pop gdpPercap
##    &lt;fct&gt;       &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
##  1 Afghanistan  1952    28.8  8425333      880.
##  2 Afghanistan  1957    30.3  1282697      861.
##  3 Afghanistan  1962    32.0  9279525     2670.
##  4 Afghanistan  1967    34.0  4232095     1072.
##  5 Afghanistan  1972    36.1 17876956     1385.
##  6 Afghanistan  1977    38.4  8691212     2865.
##  7 Afghanistan  1982    39.9  6927772     1533.
##  8 Afghanistan  1987    40.8   120447     1738.
##  9 Afghanistan  1992    41.7 46886859     3021.
## 10 Afghanistan  1997    41.8  8730405     1890.
## # … with 1,694 more rows</code></pre>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="2-wrangling.html#cb253-1"></a><span class="kw">summary</span>(gapminder<span class="op">$</span>lifeExp)</span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   23.60   48.20   60.71   59.47   70.85   82.60</code></pre>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="2-wrangling.html#cb255-1"></a><span class="kw">summary</span>(gapminder_garbage<span class="op">$</span>lifeExp)</span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   23.60   48.20   60.71   59.47   70.85   82.60</code></pre>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="2-wrangling.html#cb257-1"></a><span class="kw">range</span>(gapminder<span class="op">$</span>gdpPercap)</span></code></pre></div>
<pre><code>## [1]    241.1659 113523.1329</code></pre>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="2-wrangling.html#cb259-1"></a><span class="kw">range</span>(gapminder_garbage<span class="op">$</span>gdpPercap)</span></code></pre></div>
<pre><code>## [1]    241.1659 113523.1329</code></pre>
<p>One last cautionary tale about column binding. This one requires the use of <code>cbind()</code> and it’s why the tidyverse is generally unwilling to recycle when combining things of different length.</p>
<p>I create a tibble with most of the <code>gapminder</code> columns. I create another with the remainder, but filtered down to just one country. I am able to <code>cbind()</code> these objects! Why? Because the 12 rows for Canada divide evenly into the 1704 rows of <code>gapminder</code>. Note that <code>dplyr::bind_cols()</code> refuses to column bind here.</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="2-wrangling.html#cb261-1"></a>gapminder_mostly &lt;-<span class="st"> </span>gapminder <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="op">-</span>pop, <span class="op">-</span>gdpPercap)</span>
<span id="cb261-2"><a href="2-wrangling.html#cb261-2"></a>gapminder_leftovers_filtered &lt;-<span class="st"> </span>gapminder <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb261-3"><a href="2-wrangling.html#cb261-3"></a><span class="st">  </span><span class="kw">filter</span>(country <span class="op">==</span><span class="st"> &quot;Canada&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb261-4"><a href="2-wrangling.html#cb261-4"></a><span class="st">  </span><span class="kw">select</span>(pop, gdpPercap)</span>
<span id="cb261-5"><a href="2-wrangling.html#cb261-5"></a></span>
<span id="cb261-6"><a href="2-wrangling.html#cb261-6"></a>gapminder_nonsense &lt;-<span class="st"> </span><span class="kw">cbind</span>(gapminder_mostly, gapminder_leftovers_filtered)</span>
<span id="cb261-7"><a href="2-wrangling.html#cb261-7"></a><span class="kw">head</span>(gapminder_nonsense, <span class="dv">14</span>)</span></code></pre></div>
<pre><code>##        country continent year lifeExp      pop gdpPercap
## 1  Afghanistan      Asia 1952  28.801 14785584  11367.16
## 2  Afghanistan      Asia 1957  30.332 17010154  12489.95
## 3  Afghanistan      Asia 1962  31.997 18985849  13462.49
## 4  Afghanistan      Asia 1967  34.020 20819767  16076.59
## 5  Afghanistan      Asia 1972  36.088 22284500  18970.57
## 6  Afghanistan      Asia 1977  38.438 23796400  22090.88
## 7  Afghanistan      Asia 1982  39.854 25201900  22898.79
## 8  Afghanistan      Asia 1987  40.822 26549700  26626.52
## 9  Afghanistan      Asia 1992  41.674 28523502  26342.88
## 10 Afghanistan      Asia 1997  41.763 30305843  28954.93
## 11 Afghanistan      Asia 2002  42.129 31902268  33328.97
## 12 Afghanistan      Asia 2007  43.828 33390141  36319.24
## 13     Albania    Europe 1952  55.230 14785584  11367.16
## 14     Albania    Europe 1957  59.280 17010154  12489.95</code></pre>
<p>This data frame isn’t obviously wrong, but it is wrong. See how the Canada’s population and GDP per capita repeat for each country?</p>
<p>Bottom line: Row bind when you need to, but inspect the results re: coercion. Column bind only if you must and be extremely paranoid.</p>
</div>
</div>
<div id="joins-in-dplyr" class="section level3">
<h3><span class="header-section-number">2.9.2</span> Joins in dplyr</h3>
<p>Visit Chapter <a href="#join-cheatsheet"><strong>??</strong></a> to see concrete examples of all the joins implemented in dplyr, based on comic characters and publishers.</p>
<p>The most recent release of gapminder includes a new data frame, <code>country_codes</code>, with country names and ISO codes. Therefore you can also use it to practice joins.</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="2-wrangling.html#cb263-1"></a>gapminder <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb263-2"><a href="2-wrangling.html#cb263-2"></a><span class="st">  </span><span class="kw">select</span>(country, continent) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb263-3"><a href="2-wrangling.html#cb263-3"></a><span class="st">  </span><span class="kw">group_by</span>(country) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb263-4"><a href="2-wrangling.html#cb263-4"></a><span class="st">  </span><span class="kw">slice</span>(<span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb263-5"><a href="2-wrangling.html#cb263-5"></a><span class="st">  </span><span class="kw">left_join</span>(country_codes)</span></code></pre></div>
<pre><code>## Joining, by = &quot;country&quot;</code></pre>
<pre><code>## Warning: Column `country` joining factor and character vector, coercing into
## character vector</code></pre>
<pre><code>## # A tibble: 142 x 4
## # Groups:   country [142]
##    country     continent iso_alpha iso_num
##    &lt;chr&gt;       &lt;fct&gt;     &lt;chr&gt;       &lt;int&gt;
##  1 Afghanistan Asia      AFG             4
##  2 Albania     Europe    ALB             8
##  3 Algeria     Africa    DZA            12
##  4 Angola      Africa    AGO            24
##  5 Argentina   Americas  ARG            32
##  6 Australia   Oceania   AUS            36
##  7 Austria     Europe    AUT            40
##  8 Bahrain     Asia      BHR            48
##  9 Bangladesh  Asia      BGD            50
## 10 Belgium     Europe    BEL            56
## # … with 132 more rows</code></pre>
</div>
<div id="joining" class="section level3">
<h3><span class="header-section-number">2.9.3</span> Joining</h3>
<p>Join (a.k.a. merge) two tables: dplyr join cheatsheet with comic characters and publishers.</p>
<p>Other great places to read about joins:</p>
<ul>
<li>The dplyr vignette on [Two-table verbs][dplyr-vignette-two-table].</li>
<li>The [Relational data chapter][r4ds-relational-data] in [R for Data Science][r4ds] <span class="citation">(<span class="citeproc-not-found" data-reference-id="wickham2016"><strong>???</strong></span>)</span>. Excellent diagrams.</li>
</ul>
<div id="the-data" class="section level4">
<h4><span class="header-section-number">2.9.3.1</span> The data</h4>
<p>Working with two small data frames: <code>superheroes</code> and <code>publishers</code>.</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="2-wrangling.html#cb267-1"></a><span class="co"># dplyr provides the join functions</span></span>
<span id="cb267-2"><a href="2-wrangling.html#cb267-2"></a></span>
<span id="cb267-3"><a href="2-wrangling.html#cb267-3"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb267-4"><a href="2-wrangling.html#cb267-4"></a></span>
<span id="cb267-5"><a href="2-wrangling.html#cb267-5"></a>superheroes &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw">tribble</span>(</span>
<span id="cb267-6"><a href="2-wrangling.html#cb267-6"></a>       <span class="op">~</span>name, <span class="op">~</span>alignment,  <span class="op">~</span>gender,          <span class="op">~</span>publisher,</span>
<span id="cb267-7"><a href="2-wrangling.html#cb267-7"></a>   <span class="st">&quot;Magneto&quot;</span>,      <span class="st">&quot;bad&quot;</span>,   <span class="st">&quot;male&quot;</span>,            <span class="st">&quot;Marvel&quot;</span>,</span>
<span id="cb267-8"><a href="2-wrangling.html#cb267-8"></a>     <span class="st">&quot;Storm&quot;</span>,     <span class="st">&quot;good&quot;</span>, <span class="st">&quot;female&quot;</span>,            <span class="st">&quot;Marvel&quot;</span>,</span>
<span id="cb267-9"><a href="2-wrangling.html#cb267-9"></a>  <span class="st">&quot;Mystique&quot;</span>,      <span class="st">&quot;bad&quot;</span>, <span class="st">&quot;female&quot;</span>,            <span class="st">&quot;Marvel&quot;</span>,</span>
<span id="cb267-10"><a href="2-wrangling.html#cb267-10"></a>    <span class="st">&quot;Batman&quot;</span>,     <span class="st">&quot;good&quot;</span>,   <span class="st">&quot;male&quot;</span>,                <span class="st">&quot;DC&quot;</span>,</span>
<span id="cb267-11"><a href="2-wrangling.html#cb267-11"></a>     <span class="st">&quot;Joker&quot;</span>,      <span class="st">&quot;bad&quot;</span>,   <span class="st">&quot;male&quot;</span>,                <span class="st">&quot;DC&quot;</span>,</span>
<span id="cb267-12"><a href="2-wrangling.html#cb267-12"></a>  <span class="st">&quot;Catwoman&quot;</span>,      <span class="st">&quot;bad&quot;</span>, <span class="st">&quot;female&quot;</span>,                <span class="st">&quot;DC&quot;</span>,</span>
<span id="cb267-13"><a href="2-wrangling.html#cb267-13"></a>   <span class="st">&quot;Hellboy&quot;</span>,     <span class="st">&quot;good&quot;</span>,   <span class="st">&quot;male&quot;</span>, <span class="st">&quot;Dark Horse Comics&quot;</span></span>
<span id="cb267-14"><a href="2-wrangling.html#cb267-14"></a>  )</span>
<span id="cb267-15"><a href="2-wrangling.html#cb267-15"></a></span>
<span id="cb267-16"><a href="2-wrangling.html#cb267-16"></a>publishers &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw">tribble</span>(</span>
<span id="cb267-17"><a href="2-wrangling.html#cb267-17"></a>  <span class="op">~</span>publisher, <span class="op">~</span>yr_founded,</span>
<span id="cb267-18"><a href="2-wrangling.html#cb267-18"></a>        <span class="st">&quot;DC&quot;</span>,       1934L,</span>
<span id="cb267-19"><a href="2-wrangling.html#cb267-19"></a>    <span class="st">&quot;Marvel&quot;</span>,       1939L,</span>
<span id="cb267-20"><a href="2-wrangling.html#cb267-20"></a>     <span class="st">&quot;Image&quot;</span>,       1992L</span>
<span id="cb267-21"><a href="2-wrangling.html#cb267-21"></a>  )</span></code></pre></div>
<p>Sorry, cheat sheet does not illustrate “multiple match” situations terribly well.</p>
<p>Sub-plot: watch the row and variable order of the join results for a healthy reminder of why it’s dangerous to rely on any of that in an analysis.</p>
</div>
<div id="inner_joinsuperheroes-publishers" class="section level4">
<h4><span class="header-section-number">2.9.3.2</span> <code>inner_join(superheroes, publishers)</code></h4>
<blockquote>
<p><code>inner_join(x, y)</code>: Return all rows from <code>x</code> where there are matching values in <code>y</code>, and all columns from <code>x</code> and <code>y</code>. If there are multiple matches between <code>x</code> and <code>y</code>, all combination of the matches are returned. This is a mutating join.</p>
</blockquote>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb268-1"><a href="2-wrangling.html#cb268-1"></a>(ijsp &lt;-<span class="st"> </span><span class="kw">inner_join</span>(superheroes, publishers))</span></code></pre></div>
<pre><code>## Joining, by = &quot;publisher&quot;</code></pre>
<pre><code>## # A tibble: 6 x 5
##   name     alignment gender publisher yr_founded
##   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt;          &lt;int&gt;
## 1 Magneto  bad       male   Marvel          1939
## 2 Storm    good      female Marvel          1939
## 3 Mystique bad       female Marvel          1939
## 4 Batman   good      male   DC              1934
## 5 Joker    bad       male   DC              1934
## 6 Catwoman bad       female DC              1934</code></pre>
<p>We lose Hellboy in the join because, although he appears in <code>x = superheroes</code>, his publisher Dark Horse Comics does not appear in <code>y = publishers</code>. The join result has all variables from <code>x = superheroes</code> plus <code>yr_founded</code>, from <code>y</code>.</p>
<table style="width: 100%; border: 0px;">
<tr>
<td style="width: 38%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#apngzomirs .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #edc7fc;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#apngzomirs .gt_heading {
  background-color: #edc7fc;
  text-align: center;
  border-bottom-color: #edc7fc;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#apngzomirs .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #edc7fc;
  border-bottom-width: 0;
}

#apngzomirs .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #edc7fc;
  border-top-width: 0;
}

#apngzomirs .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#apngzomirs .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#apngzomirs .gt_col_heading {
  color: #333333;
  background-color: #edc7fc;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#apngzomirs .gt_column_spanner_outer {
  color: #333333;
  background-color: #edc7fc;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#apngzomirs .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#apngzomirs .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#apngzomirs .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#apngzomirs .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#apngzomirs .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#apngzomirs .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#apngzomirs .gt_from_md > :first-child {
  margin-top: 0;
}

#apngzomirs .gt_from_md > :last-child {
  margin-bottom: 0;
}

#apngzomirs .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#apngzomirs .gt_stub {
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#apngzomirs .gt_summary_row {
  color: #333333;
  background-color: #edc7fc;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#apngzomirs .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#apngzomirs .gt_grand_summary_row {
  color: #333333;
  background-color: #edc7fc;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#apngzomirs .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#apngzomirs .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#apngzomirs .gt_footnotes {
  color: #333333;
  background-color: #edc7fc;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#apngzomirs .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#apngzomirs .gt_sourcenotes {
  color: #333333;
  background-color: #edc7fc;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#apngzomirs .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#apngzomirs .gt_left {
  text-align: left;
}

#apngzomirs .gt_center {
  text-align: center;
}

#apngzomirs .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#apngzomirs .gt_font_normal {
  font-weight: normal;
}

#apngzomirs .gt_font_bold {
  font-weight: bold;
}

#apngzomirs .gt_font_italic {
  font-style: italic;
}

#apngzomirs .gt_super {
  font-size: 65%;
}

#apngzomirs .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="apngzomirs" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="4" class="gt_heading gt_title gt_font_normal" style>superheroes</th>
    </tr>
    <tr>
      <th colspan="4" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">alignment</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">gender</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">Magneto</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Storm</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Mystique</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">female</td>
      <td class="gt_row gt_left">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Batman</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">male</td>
      <td class="gt_row gt_left gt_striped">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Joker</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Catwoman</td>
      <td class="gt_row gt_left gt_striped">bad</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Hellboy</td>
      <td class="gt_row gt_left">good</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">Dark Horse Comics</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
<td style="width: 18%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#ywpappohae .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #cce6f6;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ywpappohae .gt_heading {
  background-color: #cce6f6;
  text-align: center;
  border-bottom-color: #cce6f6;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ywpappohae .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #cce6f6;
  border-bottom-width: 0;
}

#ywpappohae .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #cce6f6;
  border-top-width: 0;
}

#ywpappohae .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ywpappohae .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ywpappohae .gt_col_heading {
  color: #333333;
  background-color: #cce6f6;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ywpappohae .gt_column_spanner_outer {
  color: #333333;
  background-color: #cce6f6;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ywpappohae .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ywpappohae .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ywpappohae .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ywpappohae .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#ywpappohae .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ywpappohae .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ywpappohae .gt_from_md > :first-child {
  margin-top: 0;
}

#ywpappohae .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ywpappohae .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ywpappohae .gt_stub {
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#ywpappohae .gt_summary_row {
  color: #333333;
  background-color: #cce6f6;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ywpappohae .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#ywpappohae .gt_grand_summary_row {
  color: #333333;
  background-color: #cce6f6;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ywpappohae .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ywpappohae .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ywpappohae .gt_footnotes {
  color: #333333;
  background-color: #cce6f6;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ywpappohae .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#ywpappohae .gt_sourcenotes {
  color: #333333;
  background-color: #cce6f6;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ywpappohae .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#ywpappohae .gt_left {
  text-align: left;
}

#ywpappohae .gt_center {
  text-align: center;
}

#ywpappohae .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ywpappohae .gt_font_normal {
  font-weight: normal;
}

#ywpappohae .gt_font_bold {
  font-weight: bold;
}

#ywpappohae .gt_font_italic {
  font-style: italic;
}

#ywpappohae .gt_super {
  font-size: 65%;
}

#ywpappohae .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="ywpappohae" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="2" class="gt_heading gt_title gt_font_normal" style>publishers</th>
    </tr>
    <tr>
      <th colspan="2" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">yr_founded</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">DC</td>
      <td class="gt_row gt_center">1934</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Marvel</td>
      <td class="gt_row gt_center gt_striped">1939</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Image</td>
      <td class="gt_row gt_center">1992</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
<td style="width: 44%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#zyctqvkfnf .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #FFFFFF;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zyctqvkfnf .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zyctqvkfnf .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zyctqvkfnf .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zyctqvkfnf .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zyctqvkfnf .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zyctqvkfnf .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zyctqvkfnf .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zyctqvkfnf .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zyctqvkfnf .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zyctqvkfnf .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zyctqvkfnf .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#zyctqvkfnf .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zyctqvkfnf .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zyctqvkfnf .gt_from_md > :first-child {
  margin-top: 0;
}

#zyctqvkfnf .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zyctqvkfnf .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zyctqvkfnf .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#zyctqvkfnf .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zyctqvkfnf .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#zyctqvkfnf .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zyctqvkfnf .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zyctqvkfnf .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zyctqvkfnf .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zyctqvkfnf .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#zyctqvkfnf .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zyctqvkfnf .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#zyctqvkfnf .gt_left {
  text-align: left;
}

#zyctqvkfnf .gt_center {
  text-align: center;
}

#zyctqvkfnf .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zyctqvkfnf .gt_font_normal {
  font-weight: normal;
}

#zyctqvkfnf .gt_font_bold {
  font-weight: bold;
}

#zyctqvkfnf .gt_font_italic {
  font-style: italic;
}

#zyctqvkfnf .gt_super {
  font-size: 65%;
}

#zyctqvkfnf .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="zyctqvkfnf" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="5" class="gt_heading gt_title gt_font_normal" style>inner_join(x = superheroes, y = publishers)</th>
    </tr>
    <tr>
      <th colspan="5" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">alignment</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">gender</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">yr_founded</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">Magneto</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">Marvel</td>
      <td class="gt_row gt_center">1939</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Storm</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">Marvel</td>
      <td class="gt_row gt_center gt_striped">1939</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Mystique</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">female</td>
      <td class="gt_row gt_left">Marvel</td>
      <td class="gt_row gt_center">1939</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Batman</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">male</td>
      <td class="gt_row gt_left gt_striped">DC</td>
      <td class="gt_row gt_center gt_striped">1934</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Joker</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">DC</td>
      <td class="gt_row gt_center">1934</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Catwoman</td>
      <td class="gt_row gt_left gt_striped">bad</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">DC</td>
      <td class="gt_row gt_center gt_striped">1934</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
</tr>
</table>
</div>
<div id="semi_joinsuperheroes-publishers" class="section level4">
<h4><span class="header-section-number">2.9.3.3</span> <code>semi_join(superheroes, publishers)</code></h4>
<blockquote>
<p><code>semi_join(x, y)</code>: Return all rows from <code>x</code> where there are matching values in <code>y</code>, keeping just columns from <code>x</code>. A semi join differs from an inner join because an inner join will return one row of <code>x</code> for each matching row of <code>y</code>, where a semi join will never duplicate rows of <code>x</code>. This is a filtering join.</p>
</blockquote>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="2-wrangling.html#cb271-1"></a>(sjsp &lt;-<span class="st"> </span><span class="kw">semi_join</span>(superheroes, publishers))</span></code></pre></div>
<pre><code>## Joining, by = &quot;publisher&quot;</code></pre>
<pre><code>## # A tibble: 6 x 4
##   name     alignment gender publisher
##   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt;    
## 1 Magneto  bad       male   Marvel   
## 2 Storm    good      female Marvel   
## 3 Mystique bad       female Marvel   
## 4 Batman   good      male   DC       
## 5 Joker    bad       male   DC       
## 6 Catwoman bad       female DC</code></pre>
<p>We get a similar result as with <code>inner_join()</code> but the join result contains only the variables originally found in <code>x = superheroes</code>.</p>
<table style="width: 100%; border: 0px;">
<tr>
<td style="width: 38%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#hxoqtkgkrl .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #edc7fc;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#hxoqtkgkrl .gt_heading {
  background-color: #edc7fc;
  text-align: center;
  border-bottom-color: #edc7fc;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hxoqtkgkrl .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #edc7fc;
  border-bottom-width: 0;
}

#hxoqtkgkrl .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #edc7fc;
  border-top-width: 0;
}

#hxoqtkgkrl .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hxoqtkgkrl .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hxoqtkgkrl .gt_col_heading {
  color: #333333;
  background-color: #edc7fc;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#hxoqtkgkrl .gt_column_spanner_outer {
  color: #333333;
  background-color: #edc7fc;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#hxoqtkgkrl .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#hxoqtkgkrl .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#hxoqtkgkrl .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#hxoqtkgkrl .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#hxoqtkgkrl .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#hxoqtkgkrl .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#hxoqtkgkrl .gt_from_md > :first-child {
  margin-top: 0;
}

#hxoqtkgkrl .gt_from_md > :last-child {
  margin-bottom: 0;
}

#hxoqtkgkrl .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#hxoqtkgkrl .gt_stub {
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#hxoqtkgkrl .gt_summary_row {
  color: #333333;
  background-color: #edc7fc;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hxoqtkgkrl .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#hxoqtkgkrl .gt_grand_summary_row {
  color: #333333;
  background-color: #edc7fc;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hxoqtkgkrl .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#hxoqtkgkrl .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hxoqtkgkrl .gt_footnotes {
  color: #333333;
  background-color: #edc7fc;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hxoqtkgkrl .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#hxoqtkgkrl .gt_sourcenotes {
  color: #333333;
  background-color: #edc7fc;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hxoqtkgkrl .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#hxoqtkgkrl .gt_left {
  text-align: left;
}

#hxoqtkgkrl .gt_center {
  text-align: center;
}

#hxoqtkgkrl .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#hxoqtkgkrl .gt_font_normal {
  font-weight: normal;
}

#hxoqtkgkrl .gt_font_bold {
  font-weight: bold;
}

#hxoqtkgkrl .gt_font_italic {
  font-style: italic;
}

#hxoqtkgkrl .gt_super {
  font-size: 65%;
}

#hxoqtkgkrl .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="hxoqtkgkrl" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="4" class="gt_heading gt_title gt_font_normal" style>superheroes</th>
    </tr>
    <tr>
      <th colspan="4" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">alignment</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">gender</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">Magneto</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Storm</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Mystique</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">female</td>
      <td class="gt_row gt_left">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Batman</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">male</td>
      <td class="gt_row gt_left gt_striped">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Joker</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Catwoman</td>
      <td class="gt_row gt_left gt_striped">bad</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Hellboy</td>
      <td class="gt_row gt_left">good</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">Dark Horse Comics</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
<td style="width: 18%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#acfmcucihp .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #cce6f6;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#acfmcucihp .gt_heading {
  background-color: #cce6f6;
  text-align: center;
  border-bottom-color: #cce6f6;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#acfmcucihp .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #cce6f6;
  border-bottom-width: 0;
}

#acfmcucihp .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #cce6f6;
  border-top-width: 0;
}

#acfmcucihp .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#acfmcucihp .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#acfmcucihp .gt_col_heading {
  color: #333333;
  background-color: #cce6f6;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#acfmcucihp .gt_column_spanner_outer {
  color: #333333;
  background-color: #cce6f6;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#acfmcucihp .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#acfmcucihp .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#acfmcucihp .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#acfmcucihp .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#acfmcucihp .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#acfmcucihp .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#acfmcucihp .gt_from_md > :first-child {
  margin-top: 0;
}

#acfmcucihp .gt_from_md > :last-child {
  margin-bottom: 0;
}

#acfmcucihp .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#acfmcucihp .gt_stub {
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#acfmcucihp .gt_summary_row {
  color: #333333;
  background-color: #cce6f6;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#acfmcucihp .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#acfmcucihp .gt_grand_summary_row {
  color: #333333;
  background-color: #cce6f6;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#acfmcucihp .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#acfmcucihp .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#acfmcucihp .gt_footnotes {
  color: #333333;
  background-color: #cce6f6;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#acfmcucihp .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#acfmcucihp .gt_sourcenotes {
  color: #333333;
  background-color: #cce6f6;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#acfmcucihp .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#acfmcucihp .gt_left {
  text-align: left;
}

#acfmcucihp .gt_center {
  text-align: center;
}

#acfmcucihp .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#acfmcucihp .gt_font_normal {
  font-weight: normal;
}

#acfmcucihp .gt_font_bold {
  font-weight: bold;
}

#acfmcucihp .gt_font_italic {
  font-style: italic;
}

#acfmcucihp .gt_super {
  font-size: 65%;
}

#acfmcucihp .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="acfmcucihp" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="2" class="gt_heading gt_title gt_font_normal" style>publishers</th>
    </tr>
    <tr>
      <th colspan="2" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">yr_founded</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">DC</td>
      <td class="gt_row gt_center">1934</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Marvel</td>
      <td class="gt_row gt_center gt_striped">1939</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Image</td>
      <td class="gt_row gt_center">1992</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
<td style="width: 44%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#nfaxghruha .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #FFFFFF;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#nfaxghruha .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nfaxghruha .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#nfaxghruha .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#nfaxghruha .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nfaxghruha .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nfaxghruha .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#nfaxghruha .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#nfaxghruha .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#nfaxghruha .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#nfaxghruha .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#nfaxghruha .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#nfaxghruha .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#nfaxghruha .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#nfaxghruha .gt_from_md > :first-child {
  margin-top: 0;
}

#nfaxghruha .gt_from_md > :last-child {
  margin-bottom: 0;
}

#nfaxghruha .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#nfaxghruha .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#nfaxghruha .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nfaxghruha .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#nfaxghruha .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nfaxghruha .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#nfaxghruha .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nfaxghruha .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nfaxghruha .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#nfaxghruha .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nfaxghruha .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#nfaxghruha .gt_left {
  text-align: left;
}

#nfaxghruha .gt_center {
  text-align: center;
}

#nfaxghruha .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#nfaxghruha .gt_font_normal {
  font-weight: normal;
}

#nfaxghruha .gt_font_bold {
  font-weight: bold;
}

#nfaxghruha .gt_font_italic {
  font-style: italic;
}

#nfaxghruha .gt_super {
  font-size: 65%;
}

#nfaxghruha .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="nfaxghruha" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="4" class="gt_heading gt_title gt_font_normal" style>semi_join(x = superheroes, y = publishers)</th>
    </tr>
    <tr>
      <th colspan="4" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">alignment</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">gender</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">Magneto</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Storm</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Mystique</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">female</td>
      <td class="gt_row gt_left">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Batman</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">male</td>
      <td class="gt_row gt_left gt_striped">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Joker</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Catwoman</td>
      <td class="gt_row gt_left gt_striped">bad</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">DC</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
</tr>
</table>
</div>
<div id="left_joinsuperheroes-publishers" class="section level4">
<h4><span class="header-section-number">2.9.3.4</span> <code>left_join(superheroes, publishers)</code></h4>
<blockquote>
<p><code>left_join(x, y)</code>: Return all rows from <code>x</code>, and all columns from <code>x</code> and <code>y</code>. If there are multiple matches between <code>x</code> and <code>y</code>, all combination of the matches are returned. This is a mutating join.</p>
</blockquote>
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb274-1"><a href="2-wrangling.html#cb274-1"></a>(ljsp &lt;-<span class="st"> </span><span class="kw">left_join</span>(superheroes, publishers))</span></code></pre></div>
<pre><code>## Joining, by = &quot;publisher&quot;</code></pre>
<pre><code>## # A tibble: 7 x 5
##   name     alignment gender publisher         yr_founded
##   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt;                  &lt;int&gt;
## 1 Magneto  bad       male   Marvel                  1939
## 2 Storm    good      female Marvel                  1939
## 3 Mystique bad       female Marvel                  1939
## 4 Batman   good      male   DC                      1934
## 5 Joker    bad       male   DC                      1934
## 6 Catwoman bad       female DC                      1934
## 7 Hellboy  good      male   Dark Horse Comics         NA</code></pre>
<p>We basically get <code>x = superheroes</code> back, but with the addition of variable <code>yr_founded</code>, which is unique to <code>y = publishers</code>. Hellboy, whose publisher does not appear in <code>y = publishers</code>, has an <code>NA</code> for <code>yr_founded</code>.</p>
<table style="width: 100%; border: 0px;">
<tr>
<td style="width: 38%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#jhfgvsvcdo .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #edc7fc;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jhfgvsvcdo .gt_heading {
  background-color: #edc7fc;
  text-align: center;
  border-bottom-color: #edc7fc;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jhfgvsvcdo .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #edc7fc;
  border-bottom-width: 0;
}

#jhfgvsvcdo .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #edc7fc;
  border-top-width: 0;
}

#jhfgvsvcdo .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jhfgvsvcdo .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jhfgvsvcdo .gt_col_heading {
  color: #333333;
  background-color: #edc7fc;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jhfgvsvcdo .gt_column_spanner_outer {
  color: #333333;
  background-color: #edc7fc;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jhfgvsvcdo .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jhfgvsvcdo .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jhfgvsvcdo .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jhfgvsvcdo .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#jhfgvsvcdo .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jhfgvsvcdo .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#jhfgvsvcdo .gt_from_md > :first-child {
  margin-top: 0;
}

#jhfgvsvcdo .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jhfgvsvcdo .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jhfgvsvcdo .gt_stub {
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#jhfgvsvcdo .gt_summary_row {
  color: #333333;
  background-color: #edc7fc;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jhfgvsvcdo .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#jhfgvsvcdo .gt_grand_summary_row {
  color: #333333;
  background-color: #edc7fc;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jhfgvsvcdo .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jhfgvsvcdo .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jhfgvsvcdo .gt_footnotes {
  color: #333333;
  background-color: #edc7fc;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jhfgvsvcdo .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#jhfgvsvcdo .gt_sourcenotes {
  color: #333333;
  background-color: #edc7fc;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jhfgvsvcdo .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#jhfgvsvcdo .gt_left {
  text-align: left;
}

#jhfgvsvcdo .gt_center {
  text-align: center;
}

#jhfgvsvcdo .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jhfgvsvcdo .gt_font_normal {
  font-weight: normal;
}

#jhfgvsvcdo .gt_font_bold {
  font-weight: bold;
}

#jhfgvsvcdo .gt_font_italic {
  font-style: italic;
}

#jhfgvsvcdo .gt_super {
  font-size: 65%;
}

#jhfgvsvcdo .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="jhfgvsvcdo" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="4" class="gt_heading gt_title gt_font_normal" style>superheroes</th>
    </tr>
    <tr>
      <th colspan="4" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">alignment</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">gender</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">Magneto</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Storm</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Mystique</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">female</td>
      <td class="gt_row gt_left">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Batman</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">male</td>
      <td class="gt_row gt_left gt_striped">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Joker</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Catwoman</td>
      <td class="gt_row gt_left gt_striped">bad</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Hellboy</td>
      <td class="gt_row gt_left">good</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">Dark Horse Comics</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
<td style="width: 18%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#wzwakkirth .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #cce6f6;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#wzwakkirth .gt_heading {
  background-color: #cce6f6;
  text-align: center;
  border-bottom-color: #cce6f6;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wzwakkirth .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #cce6f6;
  border-bottom-width: 0;
}

#wzwakkirth .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #cce6f6;
  border-top-width: 0;
}

#wzwakkirth .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wzwakkirth .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wzwakkirth .gt_col_heading {
  color: #333333;
  background-color: #cce6f6;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#wzwakkirth .gt_column_spanner_outer {
  color: #333333;
  background-color: #cce6f6;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#wzwakkirth .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#wzwakkirth .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#wzwakkirth .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#wzwakkirth .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#wzwakkirth .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#wzwakkirth .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#wzwakkirth .gt_from_md > :first-child {
  margin-top: 0;
}

#wzwakkirth .gt_from_md > :last-child {
  margin-bottom: 0;
}

#wzwakkirth .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#wzwakkirth .gt_stub {
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#wzwakkirth .gt_summary_row {
  color: #333333;
  background-color: #cce6f6;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wzwakkirth .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#wzwakkirth .gt_grand_summary_row {
  color: #333333;
  background-color: #cce6f6;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wzwakkirth .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#wzwakkirth .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wzwakkirth .gt_footnotes {
  color: #333333;
  background-color: #cce6f6;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wzwakkirth .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#wzwakkirth .gt_sourcenotes {
  color: #333333;
  background-color: #cce6f6;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wzwakkirth .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#wzwakkirth .gt_left {
  text-align: left;
}

#wzwakkirth .gt_center {
  text-align: center;
}

#wzwakkirth .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#wzwakkirth .gt_font_normal {
  font-weight: normal;
}

#wzwakkirth .gt_font_bold {
  font-weight: bold;
}

#wzwakkirth .gt_font_italic {
  font-style: italic;
}

#wzwakkirth .gt_super {
  font-size: 65%;
}

#wzwakkirth .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="wzwakkirth" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="2" class="gt_heading gt_title gt_font_normal" style>publishers</th>
    </tr>
    <tr>
      <th colspan="2" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">yr_founded</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">DC</td>
      <td class="gt_row gt_center">1934</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Marvel</td>
      <td class="gt_row gt_center gt_striped">1939</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Image</td>
      <td class="gt_row gt_center">1992</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
<td style="width: 44%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#ccfzxqqown .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #FFFFFF;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ccfzxqqown .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ccfzxqqown .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ccfzxqqown .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ccfzxqqown .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ccfzxqqown .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ccfzxqqown .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ccfzxqqown .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ccfzxqqown .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ccfzxqqown .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ccfzxqqown .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ccfzxqqown .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#ccfzxqqown .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ccfzxqqown .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ccfzxqqown .gt_from_md > :first-child {
  margin-top: 0;
}

#ccfzxqqown .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ccfzxqqown .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ccfzxqqown .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#ccfzxqqown .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ccfzxqqown .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#ccfzxqqown .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ccfzxqqown .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ccfzxqqown .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ccfzxqqown .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ccfzxqqown .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#ccfzxqqown .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ccfzxqqown .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#ccfzxqqown .gt_left {
  text-align: left;
}

#ccfzxqqown .gt_center {
  text-align: center;
}

#ccfzxqqown .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ccfzxqqown .gt_font_normal {
  font-weight: normal;
}

#ccfzxqqown .gt_font_bold {
  font-weight: bold;
}

#ccfzxqqown .gt_font_italic {
  font-style: italic;
}

#ccfzxqqown .gt_super {
  font-size: 65%;
}

#ccfzxqqown .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="ccfzxqqown" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="5" class="gt_heading gt_title gt_font_normal" style>left_join(x = superheroes, y = publishers)</th>
    </tr>
    <tr>
      <th colspan="5" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">alignment</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">gender</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">yr_founded</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">Magneto</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">Marvel</td>
      <td class="gt_row gt_center">1939</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Storm</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">Marvel</td>
      <td class="gt_row gt_center gt_striped">1939</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Mystique</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">female</td>
      <td class="gt_row gt_left">Marvel</td>
      <td class="gt_row gt_center">1939</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Batman</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">male</td>
      <td class="gt_row gt_left gt_striped">DC</td>
      <td class="gt_row gt_center gt_striped">1934</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Joker</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">DC</td>
      <td class="gt_row gt_center">1934</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Catwoman</td>
      <td class="gt_row gt_left gt_striped">bad</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">DC</td>
      <td class="gt_row gt_center gt_striped">1934</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Hellboy</td>
      <td class="gt_row gt_left">good</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">Dark Horse Comics</td>
      <td class="gt_row gt_center">NA</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
</tr>
</table>
</div>
<div id="anti_joinsuperheroes-publishers" class="section level4">
<h4><span class="header-section-number">2.9.3.5</span> <code>anti_join(superheroes, publishers)</code></h4>
<blockquote>
<p><code>anti_join(x, y)</code>: Return all rows from <code>x</code> where there are not matching values in <code>y</code>, keeping just columns from <code>x</code>. This is a filtering join.</p>
</blockquote>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="2-wrangling.html#cb277-1"></a>(ajsp &lt;-<span class="st"> </span><span class="kw">anti_join</span>(superheroes, publishers))</span></code></pre></div>
<pre><code>## Joining, by = &quot;publisher&quot;</code></pre>
<pre><code>## # A tibble: 1 x 4
##   name    alignment gender publisher        
##   &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt;            
## 1 Hellboy good      male   Dark Horse Comics</code></pre>
<p>We keep <strong>only</strong> Hellboy now (and do not get <code>yr_founded</code>).</p>
<table style="width: 100%; border: 0px;">
<tr>
<td style="width: 38%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#xpfvpelnhz .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #edc7fc;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#xpfvpelnhz .gt_heading {
  background-color: #edc7fc;
  text-align: center;
  border-bottom-color: #edc7fc;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xpfvpelnhz .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #edc7fc;
  border-bottom-width: 0;
}

#xpfvpelnhz .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #edc7fc;
  border-top-width: 0;
}

#xpfvpelnhz .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xpfvpelnhz .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xpfvpelnhz .gt_col_heading {
  color: #333333;
  background-color: #edc7fc;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#xpfvpelnhz .gt_column_spanner_outer {
  color: #333333;
  background-color: #edc7fc;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#xpfvpelnhz .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#xpfvpelnhz .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#xpfvpelnhz .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#xpfvpelnhz .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#xpfvpelnhz .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#xpfvpelnhz .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#xpfvpelnhz .gt_from_md > :first-child {
  margin-top: 0;
}

#xpfvpelnhz .gt_from_md > :last-child {
  margin-bottom: 0;
}

#xpfvpelnhz .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#xpfvpelnhz .gt_stub {
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#xpfvpelnhz .gt_summary_row {
  color: #333333;
  background-color: #edc7fc;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xpfvpelnhz .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#xpfvpelnhz .gt_grand_summary_row {
  color: #333333;
  background-color: #edc7fc;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xpfvpelnhz .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#xpfvpelnhz .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xpfvpelnhz .gt_footnotes {
  color: #333333;
  background-color: #edc7fc;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xpfvpelnhz .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#xpfvpelnhz .gt_sourcenotes {
  color: #333333;
  background-color: #edc7fc;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xpfvpelnhz .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#xpfvpelnhz .gt_left {
  text-align: left;
}

#xpfvpelnhz .gt_center {
  text-align: center;
}

#xpfvpelnhz .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#xpfvpelnhz .gt_font_normal {
  font-weight: normal;
}

#xpfvpelnhz .gt_font_bold {
  font-weight: bold;
}

#xpfvpelnhz .gt_font_italic {
  font-style: italic;
}

#xpfvpelnhz .gt_super {
  font-size: 65%;
}

#xpfvpelnhz .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="xpfvpelnhz" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="4" class="gt_heading gt_title gt_font_normal" style>superheroes</th>
    </tr>
    <tr>
      <th colspan="4" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">alignment</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">gender</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">Magneto</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Storm</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Mystique</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">female</td>
      <td class="gt_row gt_left">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Batman</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">male</td>
      <td class="gt_row gt_left gt_striped">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Joker</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Catwoman</td>
      <td class="gt_row gt_left gt_striped">bad</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Hellboy</td>
      <td class="gt_row gt_left">good</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">Dark Horse Comics</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
<td style="width: 18%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#xcvmetgumx .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #cce6f6;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#xcvmetgumx .gt_heading {
  background-color: #cce6f6;
  text-align: center;
  border-bottom-color: #cce6f6;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xcvmetgumx .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #cce6f6;
  border-bottom-width: 0;
}

#xcvmetgumx .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #cce6f6;
  border-top-width: 0;
}

#xcvmetgumx .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xcvmetgumx .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xcvmetgumx .gt_col_heading {
  color: #333333;
  background-color: #cce6f6;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#xcvmetgumx .gt_column_spanner_outer {
  color: #333333;
  background-color: #cce6f6;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#xcvmetgumx .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#xcvmetgumx .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#xcvmetgumx .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#xcvmetgumx .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#xcvmetgumx .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#xcvmetgumx .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#xcvmetgumx .gt_from_md > :first-child {
  margin-top: 0;
}

#xcvmetgumx .gt_from_md > :last-child {
  margin-bottom: 0;
}

#xcvmetgumx .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#xcvmetgumx .gt_stub {
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#xcvmetgumx .gt_summary_row {
  color: #333333;
  background-color: #cce6f6;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xcvmetgumx .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#xcvmetgumx .gt_grand_summary_row {
  color: #333333;
  background-color: #cce6f6;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xcvmetgumx .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#xcvmetgumx .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xcvmetgumx .gt_footnotes {
  color: #333333;
  background-color: #cce6f6;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xcvmetgumx .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#xcvmetgumx .gt_sourcenotes {
  color: #333333;
  background-color: #cce6f6;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xcvmetgumx .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#xcvmetgumx .gt_left {
  text-align: left;
}

#xcvmetgumx .gt_center {
  text-align: center;
}

#xcvmetgumx .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#xcvmetgumx .gt_font_normal {
  font-weight: normal;
}

#xcvmetgumx .gt_font_bold {
  font-weight: bold;
}

#xcvmetgumx .gt_font_italic {
  font-style: italic;
}

#xcvmetgumx .gt_super {
  font-size: 65%;
}

#xcvmetgumx .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="xcvmetgumx" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="2" class="gt_heading gt_title gt_font_normal" style>publishers</th>
    </tr>
    <tr>
      <th colspan="2" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">yr_founded</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">DC</td>
      <td class="gt_row gt_center">1934</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Marvel</td>
      <td class="gt_row gt_center gt_striped">1939</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Image</td>
      <td class="gt_row gt_center">1992</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
<td style="width: 44%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#vyifdscidq .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #FFFFFF;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#vyifdscidq .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vyifdscidq .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#vyifdscidq .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#vyifdscidq .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vyifdscidq .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vyifdscidq .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#vyifdscidq .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#vyifdscidq .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#vyifdscidq .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#vyifdscidq .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#vyifdscidq .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#vyifdscidq .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#vyifdscidq .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#vyifdscidq .gt_from_md > :first-child {
  margin-top: 0;
}

#vyifdscidq .gt_from_md > :last-child {
  margin-bottom: 0;
}

#vyifdscidq .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#vyifdscidq .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#vyifdscidq .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vyifdscidq .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#vyifdscidq .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vyifdscidq .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#vyifdscidq .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vyifdscidq .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vyifdscidq .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#vyifdscidq .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vyifdscidq .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#vyifdscidq .gt_left {
  text-align: left;
}

#vyifdscidq .gt_center {
  text-align: center;
}

#vyifdscidq .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#vyifdscidq .gt_font_normal {
  font-weight: normal;
}

#vyifdscidq .gt_font_bold {
  font-weight: bold;
}

#vyifdscidq .gt_font_italic {
  font-style: italic;
}

#vyifdscidq .gt_super {
  font-size: 65%;
}

#vyifdscidq .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="vyifdscidq" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="4" class="gt_heading gt_title gt_font_normal" style>anti_join(x = superheroes, y = publishers)</th>
    </tr>
    <tr>
      <th colspan="4" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">alignment</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">gender</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">Hellboy</td>
      <td class="gt_row gt_left">good</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">Dark Horse Comics</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
</tr>
</table>
</div>
<div id="inner_joinpublishers-superheroes" class="section level4">
<h4><span class="header-section-number">2.9.3.6</span> <code>inner_join(publishers, superheroes)</code></h4>
<blockquote>
<p><code>inner_join(x, y)</code>: Return all rows from <code>x</code> where there are matching values in <code>y</code>, and all columns from <code>x</code> and <code>y</code>. If there are multiple matches between <code>x</code> and <code>y</code>, all combination of the matches are returned. This is a mutating join.</p>
</blockquote>
<div class="sourceCode" id="cb280"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb280-1"><a href="2-wrangling.html#cb280-1"></a>(ijps &lt;-<span class="st"> </span><span class="kw">inner_join</span>(publishers, superheroes))</span></code></pre></div>
<pre><code>## Joining, by = &quot;publisher&quot;</code></pre>
<pre><code>## # A tibble: 6 x 5
##   publisher yr_founded name     alignment gender
##   &lt;chr&gt;          &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt; 
## 1 DC              1934 Batman   good      male  
## 2 DC              1934 Joker    bad       male  
## 3 DC              1934 Catwoman bad       female
## 4 Marvel          1939 Magneto  bad       male  
## 5 Marvel          1939 Storm    good      female
## 6 Marvel          1939 Mystique bad       female</code></pre>
<p>In a way, this does illustrate multiple matches, if you think about it from the <code>x = publishers</code> direction. Every publisher that has a match in <code>y = superheroes</code> appears multiple times in the result, once for each match. In fact, we’re getting the same result as with <code>inner_join(superheroes, publishers)</code>, up to variable order (which you should also never rely on in an analysis).</p>
<table style="width: 100%; border: 0px;">
<tr>
<td style="width: 18%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#bxczridjgr .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #cce6f6;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#bxczridjgr .gt_heading {
  background-color: #cce6f6;
  text-align: center;
  border-bottom-color: #cce6f6;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bxczridjgr .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #cce6f6;
  border-bottom-width: 0;
}

#bxczridjgr .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #cce6f6;
  border-top-width: 0;
}

#bxczridjgr .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bxczridjgr .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bxczridjgr .gt_col_heading {
  color: #333333;
  background-color: #cce6f6;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#bxczridjgr .gt_column_spanner_outer {
  color: #333333;
  background-color: #cce6f6;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#bxczridjgr .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#bxczridjgr .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#bxczridjgr .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#bxczridjgr .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#bxczridjgr .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#bxczridjgr .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#bxczridjgr .gt_from_md > :first-child {
  margin-top: 0;
}

#bxczridjgr .gt_from_md > :last-child {
  margin-bottom: 0;
}

#bxczridjgr .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#bxczridjgr .gt_stub {
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#bxczridjgr .gt_summary_row {
  color: #333333;
  background-color: #cce6f6;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bxczridjgr .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#bxczridjgr .gt_grand_summary_row {
  color: #333333;
  background-color: #cce6f6;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bxczridjgr .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#bxczridjgr .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bxczridjgr .gt_footnotes {
  color: #333333;
  background-color: #cce6f6;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bxczridjgr .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#bxczridjgr .gt_sourcenotes {
  color: #333333;
  background-color: #cce6f6;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bxczridjgr .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#bxczridjgr .gt_left {
  text-align: left;
}

#bxczridjgr .gt_center {
  text-align: center;
}

#bxczridjgr .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#bxczridjgr .gt_font_normal {
  font-weight: normal;
}

#bxczridjgr .gt_font_bold {
  font-weight: bold;
}

#bxczridjgr .gt_font_italic {
  font-style: italic;
}

#bxczridjgr .gt_super {
  font-size: 65%;
}

#bxczridjgr .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="bxczridjgr" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="2" class="gt_heading gt_title gt_font_normal" style>publishers</th>
    </tr>
    <tr>
      <th colspan="2" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">yr_founded</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">DC</td>
      <td class="gt_row gt_center">1934</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Marvel</td>
      <td class="gt_row gt_center gt_striped">1939</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Image</td>
      <td class="gt_row gt_center">1992</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
<td style="width: 38%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#vwqnwzymtl .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #edc7fc;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#vwqnwzymtl .gt_heading {
  background-color: #edc7fc;
  text-align: center;
  border-bottom-color: #edc7fc;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vwqnwzymtl .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #edc7fc;
  border-bottom-width: 0;
}

#vwqnwzymtl .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #edc7fc;
  border-top-width: 0;
}

#vwqnwzymtl .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vwqnwzymtl .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vwqnwzymtl .gt_col_heading {
  color: #333333;
  background-color: #edc7fc;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#vwqnwzymtl .gt_column_spanner_outer {
  color: #333333;
  background-color: #edc7fc;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#vwqnwzymtl .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#vwqnwzymtl .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#vwqnwzymtl .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#vwqnwzymtl .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#vwqnwzymtl .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#vwqnwzymtl .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#vwqnwzymtl .gt_from_md > :first-child {
  margin-top: 0;
}

#vwqnwzymtl .gt_from_md > :last-child {
  margin-bottom: 0;
}

#vwqnwzymtl .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#vwqnwzymtl .gt_stub {
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#vwqnwzymtl .gt_summary_row {
  color: #333333;
  background-color: #edc7fc;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vwqnwzymtl .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#vwqnwzymtl .gt_grand_summary_row {
  color: #333333;
  background-color: #edc7fc;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vwqnwzymtl .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#vwqnwzymtl .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vwqnwzymtl .gt_footnotes {
  color: #333333;
  background-color: #edc7fc;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vwqnwzymtl .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#vwqnwzymtl .gt_sourcenotes {
  color: #333333;
  background-color: #edc7fc;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vwqnwzymtl .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#vwqnwzymtl .gt_left {
  text-align: left;
}

#vwqnwzymtl .gt_center {
  text-align: center;
}

#vwqnwzymtl .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#vwqnwzymtl .gt_font_normal {
  font-weight: normal;
}

#vwqnwzymtl .gt_font_bold {
  font-weight: bold;
}

#vwqnwzymtl .gt_font_italic {
  font-style: italic;
}

#vwqnwzymtl .gt_super {
  font-size: 65%;
}

#vwqnwzymtl .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="vwqnwzymtl" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="4" class="gt_heading gt_title gt_font_normal" style>superheroes</th>
    </tr>
    <tr>
      <th colspan="4" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">alignment</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">gender</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">Magneto</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Storm</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Mystique</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">female</td>
      <td class="gt_row gt_left">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Batman</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">male</td>
      <td class="gt_row gt_left gt_striped">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Joker</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Catwoman</td>
      <td class="gt_row gt_left gt_striped">bad</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Hellboy</td>
      <td class="gt_row gt_left">good</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">Dark Horse Comics</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
<td style="width: 44%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#hdochorzda .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #FFFFFF;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#hdochorzda .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hdochorzda .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#hdochorzda .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#hdochorzda .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hdochorzda .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hdochorzda .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#hdochorzda .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#hdochorzda .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#hdochorzda .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#hdochorzda .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#hdochorzda .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#hdochorzda .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#hdochorzda .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#hdochorzda .gt_from_md > :first-child {
  margin-top: 0;
}

#hdochorzda .gt_from_md > :last-child {
  margin-bottom: 0;
}

#hdochorzda .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#hdochorzda .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#hdochorzda .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hdochorzda .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#hdochorzda .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hdochorzda .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#hdochorzda .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hdochorzda .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hdochorzda .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#hdochorzda .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hdochorzda .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#hdochorzda .gt_left {
  text-align: left;
}

#hdochorzda .gt_center {
  text-align: center;
}

#hdochorzda .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#hdochorzda .gt_font_normal {
  font-weight: normal;
}

#hdochorzda .gt_font_bold {
  font-weight: bold;
}

#hdochorzda .gt_font_italic {
  font-style: italic;
}

#hdochorzda .gt_super {
  font-size: 65%;
}

#hdochorzda .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="hdochorzda" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="5" class="gt_heading gt_title gt_font_normal" style>inner_join(x = publishers, y = superheroes)</th>
    </tr>
    <tr>
      <th colspan="5" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">yr_founded</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">alignment</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">gender</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">DC</td>
      <td class="gt_row gt_center">1934</td>
      <td class="gt_row gt_left">Batman</td>
      <td class="gt_row gt_left">good</td>
      <td class="gt_row gt_left">male</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">DC</td>
      <td class="gt_row gt_center gt_striped">1934</td>
      <td class="gt_row gt_left gt_striped">Joker</td>
      <td class="gt_row gt_left gt_striped">bad</td>
      <td class="gt_row gt_left gt_striped">male</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">DC</td>
      <td class="gt_row gt_center">1934</td>
      <td class="gt_row gt_left">Catwoman</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">female</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Marvel</td>
      <td class="gt_row gt_center gt_striped">1939</td>
      <td class="gt_row gt_left gt_striped">Magneto</td>
      <td class="gt_row gt_left gt_striped">bad</td>
      <td class="gt_row gt_left gt_striped">male</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Marvel</td>
      <td class="gt_row gt_center">1939</td>
      <td class="gt_row gt_left">Storm</td>
      <td class="gt_row gt_left">good</td>
      <td class="gt_row gt_left">female</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Marvel</td>
      <td class="gt_row gt_center gt_striped">1939</td>
      <td class="gt_row gt_left gt_striped">Mystique</td>
      <td class="gt_row gt_left gt_striped">bad</td>
      <td class="gt_row gt_left gt_striped">female</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
</tr>
</table>
</div>
<div id="semi_joinpublishers-superheroes" class="section level4">
<h4><span class="header-section-number">2.9.3.7</span> <code>semi_join(publishers, superheroes)</code></h4>
<blockquote>
<p><code>semi_join(x, y)</code>: Return all rows from <code>x</code> where there are matching values in <code>y</code>, keeping just columns from <code>x</code>. A semi join differs from an inner join because an inner join will return one row of <code>x</code> for each matching row of <code>y</code>, where a semi join will never duplicate rows of <code>x</code>. This is a filtering join.</p>
</blockquote>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb283-1"><a href="2-wrangling.html#cb283-1"></a>(sjps &lt;-<span class="st"> </span><span class="kw">semi_join</span>(<span class="dt">x =</span> publishers, <span class="dt">y =</span> superheroes))</span></code></pre></div>
<pre><code>## Joining, by = &quot;publisher&quot;</code></pre>
<pre><code>## # A tibble: 2 x 2
##   publisher yr_founded
##   &lt;chr&gt;          &lt;int&gt;
## 1 DC              1934
## 2 Marvel          1939</code></pre>
<p>Now the effects of switching the <code>x</code> and <code>y</code> roles is more clear. The result resembles <code>x = publishers</code>, but the publisher Image is lost, because there are no observations where <code>publisher == "Image"</code> in <code>y = superheroes</code>.</p>
<table style="width: 100%; border: 0px;">
<tr>
<td style="width: 18%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#zjasuvptyi .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #cce6f6;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zjasuvptyi .gt_heading {
  background-color: #cce6f6;
  text-align: center;
  border-bottom-color: #cce6f6;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zjasuvptyi .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #cce6f6;
  border-bottom-width: 0;
}

#zjasuvptyi .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #cce6f6;
  border-top-width: 0;
}

#zjasuvptyi .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zjasuvptyi .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zjasuvptyi .gt_col_heading {
  color: #333333;
  background-color: #cce6f6;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zjasuvptyi .gt_column_spanner_outer {
  color: #333333;
  background-color: #cce6f6;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zjasuvptyi .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zjasuvptyi .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zjasuvptyi .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zjasuvptyi .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#zjasuvptyi .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zjasuvptyi .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zjasuvptyi .gt_from_md > :first-child {
  margin-top: 0;
}

#zjasuvptyi .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zjasuvptyi .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zjasuvptyi .gt_stub {
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#zjasuvptyi .gt_summary_row {
  color: #333333;
  background-color: #cce6f6;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zjasuvptyi .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#zjasuvptyi .gt_grand_summary_row {
  color: #333333;
  background-color: #cce6f6;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zjasuvptyi .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zjasuvptyi .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zjasuvptyi .gt_footnotes {
  color: #333333;
  background-color: #cce6f6;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zjasuvptyi .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#zjasuvptyi .gt_sourcenotes {
  color: #333333;
  background-color: #cce6f6;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zjasuvptyi .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#zjasuvptyi .gt_left {
  text-align: left;
}

#zjasuvptyi .gt_center {
  text-align: center;
}

#zjasuvptyi .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zjasuvptyi .gt_font_normal {
  font-weight: normal;
}

#zjasuvptyi .gt_font_bold {
  font-weight: bold;
}

#zjasuvptyi .gt_font_italic {
  font-style: italic;
}

#zjasuvptyi .gt_super {
  font-size: 65%;
}

#zjasuvptyi .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="zjasuvptyi" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="2" class="gt_heading gt_title gt_font_normal" style>publishers</th>
    </tr>
    <tr>
      <th colspan="2" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">yr_founded</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">DC</td>
      <td class="gt_row gt_center">1934</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Marvel</td>
      <td class="gt_row gt_center gt_striped">1939</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Image</td>
      <td class="gt_row gt_center">1992</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
<td style="width: 38%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#mtbcqksrkn .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #edc7fc;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#mtbcqksrkn .gt_heading {
  background-color: #edc7fc;
  text-align: center;
  border-bottom-color: #edc7fc;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mtbcqksrkn .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #edc7fc;
  border-bottom-width: 0;
}

#mtbcqksrkn .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #edc7fc;
  border-top-width: 0;
}

#mtbcqksrkn .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mtbcqksrkn .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mtbcqksrkn .gt_col_heading {
  color: #333333;
  background-color: #edc7fc;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#mtbcqksrkn .gt_column_spanner_outer {
  color: #333333;
  background-color: #edc7fc;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#mtbcqksrkn .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#mtbcqksrkn .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#mtbcqksrkn .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#mtbcqksrkn .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#mtbcqksrkn .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#mtbcqksrkn .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#mtbcqksrkn .gt_from_md > :first-child {
  margin-top: 0;
}

#mtbcqksrkn .gt_from_md > :last-child {
  margin-bottom: 0;
}

#mtbcqksrkn .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#mtbcqksrkn .gt_stub {
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#mtbcqksrkn .gt_summary_row {
  color: #333333;
  background-color: #edc7fc;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mtbcqksrkn .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#mtbcqksrkn .gt_grand_summary_row {
  color: #333333;
  background-color: #edc7fc;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mtbcqksrkn .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#mtbcqksrkn .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mtbcqksrkn .gt_footnotes {
  color: #333333;
  background-color: #edc7fc;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mtbcqksrkn .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#mtbcqksrkn .gt_sourcenotes {
  color: #333333;
  background-color: #edc7fc;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mtbcqksrkn .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#mtbcqksrkn .gt_left {
  text-align: left;
}

#mtbcqksrkn .gt_center {
  text-align: center;
}

#mtbcqksrkn .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#mtbcqksrkn .gt_font_normal {
  font-weight: normal;
}

#mtbcqksrkn .gt_font_bold {
  font-weight: bold;
}

#mtbcqksrkn .gt_font_italic {
  font-style: italic;
}

#mtbcqksrkn .gt_super {
  font-size: 65%;
}

#mtbcqksrkn .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="mtbcqksrkn" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="4" class="gt_heading gt_title gt_font_normal" style>superheroes</th>
    </tr>
    <tr>
      <th colspan="4" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">alignment</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">gender</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">Magneto</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Storm</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Mystique</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">female</td>
      <td class="gt_row gt_left">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Batman</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">male</td>
      <td class="gt_row gt_left gt_striped">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Joker</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Catwoman</td>
      <td class="gt_row gt_left gt_striped">bad</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Hellboy</td>
      <td class="gt_row gt_left">good</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">Dark Horse Comics</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
<td style="width: 44%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#qzbedgqsja .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #FFFFFF;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#qzbedgqsja .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qzbedgqsja .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#qzbedgqsja .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#qzbedgqsja .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qzbedgqsja .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qzbedgqsja .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#qzbedgqsja .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#qzbedgqsja .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#qzbedgqsja .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#qzbedgqsja .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#qzbedgqsja .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#qzbedgqsja .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#qzbedgqsja .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#qzbedgqsja .gt_from_md > :first-child {
  margin-top: 0;
}

#qzbedgqsja .gt_from_md > :last-child {
  margin-bottom: 0;
}

#qzbedgqsja .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#qzbedgqsja .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#qzbedgqsja .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qzbedgqsja .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#qzbedgqsja .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qzbedgqsja .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#qzbedgqsja .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qzbedgqsja .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qzbedgqsja .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#qzbedgqsja .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qzbedgqsja .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#qzbedgqsja .gt_left {
  text-align: left;
}

#qzbedgqsja .gt_center {
  text-align: center;
}

#qzbedgqsja .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#qzbedgqsja .gt_font_normal {
  font-weight: normal;
}

#qzbedgqsja .gt_font_bold {
  font-weight: bold;
}

#qzbedgqsja .gt_font_italic {
  font-style: italic;
}

#qzbedgqsja .gt_super {
  font-size: 65%;
}

#qzbedgqsja .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="qzbedgqsja" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="2" class="gt_heading gt_title gt_font_normal" style>semi_join(x = publishers, y = superheroes)</th>
    </tr>
    <tr>
      <th colspan="2" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">yr_founded</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">DC</td>
      <td class="gt_row gt_center">1934</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Marvel</td>
      <td class="gt_row gt_center gt_striped">1939</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
</tr>
</table>
</div>
<div id="left_joinpublishers-superheroes" class="section level4">
<h4><span class="header-section-number">2.9.3.8</span> <code>left_join(publishers, superheroes)</code></h4>
<blockquote>
<p><code>left_join(x, y)</code>: Return all rows from <code>x</code>, and all columns from <code>x</code> and <code>y</code>. If there are multiple matches between <code>x</code> and <code>y</code>, all combination of the matches are returned. This is a mutating join.</p>
</blockquote>
<div class="sourceCode" id="cb286"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb286-1"><a href="2-wrangling.html#cb286-1"></a>(ljps &lt;-<span class="st"> </span><span class="kw">left_join</span>(publishers, superheroes))</span></code></pre></div>
<pre><code>## Joining, by = &quot;publisher&quot;</code></pre>
<pre><code>## # A tibble: 7 x 5
##   publisher yr_founded name     alignment gender
##   &lt;chr&gt;          &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt; 
## 1 DC              1934 Batman   good      male  
## 2 DC              1934 Joker    bad       male  
## 3 DC              1934 Catwoman bad       female
## 4 Marvel          1939 Magneto  bad       male  
## 5 Marvel          1939 Storm    good      female
## 6 Marvel          1939 Mystique bad       female
## 7 Image           1992 &lt;NA&gt;     &lt;NA&gt;      &lt;NA&gt;</code></pre>
<p>We get a similar result as with <code>inner_join()</code> but the publisher Image survives in the join, even though no superheroes from Image appear in <code>y = superheroes</code>. As a result, Image has <code>NA</code>s for <code>name</code>, <code>alignment</code>, and <code>gender</code>.</p>
<table style="width: 100%; border: 0px;">
<tr>
<td style="width: 18%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#fjvesxrojc .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #cce6f6;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#fjvesxrojc .gt_heading {
  background-color: #cce6f6;
  text-align: center;
  border-bottom-color: #cce6f6;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fjvesxrojc .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #cce6f6;
  border-bottom-width: 0;
}

#fjvesxrojc .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #cce6f6;
  border-top-width: 0;
}

#fjvesxrojc .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fjvesxrojc .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fjvesxrojc .gt_col_heading {
  color: #333333;
  background-color: #cce6f6;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#fjvesxrojc .gt_column_spanner_outer {
  color: #333333;
  background-color: #cce6f6;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#fjvesxrojc .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#fjvesxrojc .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#fjvesxrojc .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#fjvesxrojc .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#fjvesxrojc .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#fjvesxrojc .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#fjvesxrojc .gt_from_md > :first-child {
  margin-top: 0;
}

#fjvesxrojc .gt_from_md > :last-child {
  margin-bottom: 0;
}

#fjvesxrojc .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#fjvesxrojc .gt_stub {
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#fjvesxrojc .gt_summary_row {
  color: #333333;
  background-color: #cce6f6;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fjvesxrojc .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#fjvesxrojc .gt_grand_summary_row {
  color: #333333;
  background-color: #cce6f6;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fjvesxrojc .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#fjvesxrojc .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fjvesxrojc .gt_footnotes {
  color: #333333;
  background-color: #cce6f6;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fjvesxrojc .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#fjvesxrojc .gt_sourcenotes {
  color: #333333;
  background-color: #cce6f6;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fjvesxrojc .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#fjvesxrojc .gt_left {
  text-align: left;
}

#fjvesxrojc .gt_center {
  text-align: center;
}

#fjvesxrojc .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#fjvesxrojc .gt_font_normal {
  font-weight: normal;
}

#fjvesxrojc .gt_font_bold {
  font-weight: bold;
}

#fjvesxrojc .gt_font_italic {
  font-style: italic;
}

#fjvesxrojc .gt_super {
  font-size: 65%;
}

#fjvesxrojc .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="fjvesxrojc" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="2" class="gt_heading gt_title gt_font_normal" style>publishers</th>
    </tr>
    <tr>
      <th colspan="2" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">yr_founded</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">DC</td>
      <td class="gt_row gt_center">1934</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Marvel</td>
      <td class="gt_row gt_center gt_striped">1939</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Image</td>
      <td class="gt_row gt_center">1992</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
<td style="width: 38%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#tznzajmudn .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #edc7fc;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#tznzajmudn .gt_heading {
  background-color: #edc7fc;
  text-align: center;
  border-bottom-color: #edc7fc;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tznzajmudn .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #edc7fc;
  border-bottom-width: 0;
}

#tznzajmudn .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #edc7fc;
  border-top-width: 0;
}

#tznzajmudn .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tznzajmudn .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tznzajmudn .gt_col_heading {
  color: #333333;
  background-color: #edc7fc;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#tznzajmudn .gt_column_spanner_outer {
  color: #333333;
  background-color: #edc7fc;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#tznzajmudn .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#tznzajmudn .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#tznzajmudn .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#tznzajmudn .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#tznzajmudn .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#tznzajmudn .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#tznzajmudn .gt_from_md > :first-child {
  margin-top: 0;
}

#tznzajmudn .gt_from_md > :last-child {
  margin-bottom: 0;
}

#tznzajmudn .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#tznzajmudn .gt_stub {
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#tznzajmudn .gt_summary_row {
  color: #333333;
  background-color: #edc7fc;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tznzajmudn .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#tznzajmudn .gt_grand_summary_row {
  color: #333333;
  background-color: #edc7fc;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tznzajmudn .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#tznzajmudn .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tznzajmudn .gt_footnotes {
  color: #333333;
  background-color: #edc7fc;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tznzajmudn .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#tznzajmudn .gt_sourcenotes {
  color: #333333;
  background-color: #edc7fc;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tznzajmudn .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#tznzajmudn .gt_left {
  text-align: left;
}

#tznzajmudn .gt_center {
  text-align: center;
}

#tznzajmudn .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#tznzajmudn .gt_font_normal {
  font-weight: normal;
}

#tznzajmudn .gt_font_bold {
  font-weight: bold;
}

#tznzajmudn .gt_font_italic {
  font-style: italic;
}

#tznzajmudn .gt_super {
  font-size: 65%;
}

#tznzajmudn .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="tznzajmudn" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="4" class="gt_heading gt_title gt_font_normal" style>superheroes</th>
    </tr>
    <tr>
      <th colspan="4" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">alignment</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">gender</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">Magneto</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Storm</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Mystique</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">female</td>
      <td class="gt_row gt_left">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Batman</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">male</td>
      <td class="gt_row gt_left gt_striped">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Joker</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Catwoman</td>
      <td class="gt_row gt_left gt_striped">bad</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Hellboy</td>
      <td class="gt_row gt_left">good</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">Dark Horse Comics</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
<td style="width: 44%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#cnuxzzvrqe .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #FFFFFF;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#cnuxzzvrqe .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cnuxzzvrqe .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#cnuxzzvrqe .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#cnuxzzvrqe .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cnuxzzvrqe .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cnuxzzvrqe .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#cnuxzzvrqe .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#cnuxzzvrqe .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#cnuxzzvrqe .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#cnuxzzvrqe .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#cnuxzzvrqe .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#cnuxzzvrqe .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#cnuxzzvrqe .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#cnuxzzvrqe .gt_from_md > :first-child {
  margin-top: 0;
}

#cnuxzzvrqe .gt_from_md > :last-child {
  margin-bottom: 0;
}

#cnuxzzvrqe .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#cnuxzzvrqe .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#cnuxzzvrqe .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cnuxzzvrqe .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#cnuxzzvrqe .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cnuxzzvrqe .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#cnuxzzvrqe .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cnuxzzvrqe .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cnuxzzvrqe .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#cnuxzzvrqe .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cnuxzzvrqe .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#cnuxzzvrqe .gt_left {
  text-align: left;
}

#cnuxzzvrqe .gt_center {
  text-align: center;
}

#cnuxzzvrqe .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#cnuxzzvrqe .gt_font_normal {
  font-weight: normal;
}

#cnuxzzvrqe .gt_font_bold {
  font-weight: bold;
}

#cnuxzzvrqe .gt_font_italic {
  font-style: italic;
}

#cnuxzzvrqe .gt_super {
  font-size: 65%;
}

#cnuxzzvrqe .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="cnuxzzvrqe" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="5" class="gt_heading gt_title gt_font_normal" style>left_join(x = publishers, y = superheroes)</th>
    </tr>
    <tr>
      <th colspan="5" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">yr_founded</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">alignment</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">gender</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">DC</td>
      <td class="gt_row gt_center">1934</td>
      <td class="gt_row gt_left">Batman</td>
      <td class="gt_row gt_left">good</td>
      <td class="gt_row gt_left">male</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">DC</td>
      <td class="gt_row gt_center gt_striped">1934</td>
      <td class="gt_row gt_left gt_striped">Joker</td>
      <td class="gt_row gt_left gt_striped">bad</td>
      <td class="gt_row gt_left gt_striped">male</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">DC</td>
      <td class="gt_row gt_center">1934</td>
      <td class="gt_row gt_left">Catwoman</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">female</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Marvel</td>
      <td class="gt_row gt_center gt_striped">1939</td>
      <td class="gt_row gt_left gt_striped">Magneto</td>
      <td class="gt_row gt_left gt_striped">bad</td>
      <td class="gt_row gt_left gt_striped">male</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Marvel</td>
      <td class="gt_row gt_center">1939</td>
      <td class="gt_row gt_left">Storm</td>
      <td class="gt_row gt_left">good</td>
      <td class="gt_row gt_left">female</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Marvel</td>
      <td class="gt_row gt_center gt_striped">1939</td>
      <td class="gt_row gt_left gt_striped">Mystique</td>
      <td class="gt_row gt_left gt_striped">bad</td>
      <td class="gt_row gt_left gt_striped">female</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Image</td>
      <td class="gt_row gt_center">1992</td>
      <td class="gt_row gt_left">NA</td>
      <td class="gt_row gt_left">NA</td>
      <td class="gt_row gt_left">NA</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
</tr>
</table>
</div>
<div id="anti_joinpublishers-superheroes" class="section level4">
<h4><span class="header-section-number">2.9.3.9</span> <code>anti_join(publishers, superheroes)</code></h4>
<blockquote>
<p><code>anti_join(x, y)</code>: Return all rows from <code>x</code> where there are not matching values in <code>y</code>, keeping just columns from <code>x</code>. This is a filtering join.</p>
</blockquote>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb289-1"><a href="2-wrangling.html#cb289-1"></a>(ajps &lt;-<span class="st"> </span><span class="kw">anti_join</span>(publishers, superheroes))</span></code></pre></div>
<pre><code>## Joining, by = &quot;publisher&quot;</code></pre>
<pre><code>## # A tibble: 1 x 2
##   publisher yr_founded
##   &lt;chr&gt;          &lt;int&gt;
## 1 Image           1992</code></pre>
<p>We keep <strong>only</strong> publisher Image now (and the variables found in <code>x = publishers</code>).</p>
<table style="width: 100%; border: 0px;">
<tr>
<td style="width: 18%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#runqqouayh .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #cce6f6;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#runqqouayh .gt_heading {
  background-color: #cce6f6;
  text-align: center;
  border-bottom-color: #cce6f6;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#runqqouayh .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #cce6f6;
  border-bottom-width: 0;
}

#runqqouayh .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #cce6f6;
  border-top-width: 0;
}

#runqqouayh .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#runqqouayh .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#runqqouayh .gt_col_heading {
  color: #333333;
  background-color: #cce6f6;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#runqqouayh .gt_column_spanner_outer {
  color: #333333;
  background-color: #cce6f6;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#runqqouayh .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#runqqouayh .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#runqqouayh .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#runqqouayh .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#runqqouayh .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#runqqouayh .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#runqqouayh .gt_from_md > :first-child {
  margin-top: 0;
}

#runqqouayh .gt_from_md > :last-child {
  margin-bottom: 0;
}

#runqqouayh .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#runqqouayh .gt_stub {
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#runqqouayh .gt_summary_row {
  color: #333333;
  background-color: #cce6f6;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#runqqouayh .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#runqqouayh .gt_grand_summary_row {
  color: #333333;
  background-color: #cce6f6;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#runqqouayh .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#runqqouayh .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#runqqouayh .gt_footnotes {
  color: #333333;
  background-color: #cce6f6;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#runqqouayh .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#runqqouayh .gt_sourcenotes {
  color: #333333;
  background-color: #cce6f6;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#runqqouayh .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#runqqouayh .gt_left {
  text-align: left;
}

#runqqouayh .gt_center {
  text-align: center;
}

#runqqouayh .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#runqqouayh .gt_font_normal {
  font-weight: normal;
}

#runqqouayh .gt_font_bold {
  font-weight: bold;
}

#runqqouayh .gt_font_italic {
  font-style: italic;
}

#runqqouayh .gt_super {
  font-size: 65%;
}

#runqqouayh .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="runqqouayh" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="2" class="gt_heading gt_title gt_font_normal" style>publishers</th>
    </tr>
    <tr>
      <th colspan="2" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">yr_founded</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">DC</td>
      <td class="gt_row gt_center">1934</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Marvel</td>
      <td class="gt_row gt_center gt_striped">1939</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Image</td>
      <td class="gt_row gt_center">1992</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
<td style="width: 38%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#hpkdxfrxrd .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #edc7fc;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#hpkdxfrxrd .gt_heading {
  background-color: #edc7fc;
  text-align: center;
  border-bottom-color: #edc7fc;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hpkdxfrxrd .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #edc7fc;
  border-bottom-width: 0;
}

#hpkdxfrxrd .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #edc7fc;
  border-top-width: 0;
}

#hpkdxfrxrd .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hpkdxfrxrd .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hpkdxfrxrd .gt_col_heading {
  color: #333333;
  background-color: #edc7fc;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#hpkdxfrxrd .gt_column_spanner_outer {
  color: #333333;
  background-color: #edc7fc;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#hpkdxfrxrd .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#hpkdxfrxrd .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#hpkdxfrxrd .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#hpkdxfrxrd .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#hpkdxfrxrd .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#hpkdxfrxrd .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#hpkdxfrxrd .gt_from_md > :first-child {
  margin-top: 0;
}

#hpkdxfrxrd .gt_from_md > :last-child {
  margin-bottom: 0;
}

#hpkdxfrxrd .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#hpkdxfrxrd .gt_stub {
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#hpkdxfrxrd .gt_summary_row {
  color: #333333;
  background-color: #edc7fc;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hpkdxfrxrd .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#hpkdxfrxrd .gt_grand_summary_row {
  color: #333333;
  background-color: #edc7fc;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hpkdxfrxrd .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#hpkdxfrxrd .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hpkdxfrxrd .gt_footnotes {
  color: #333333;
  background-color: #edc7fc;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hpkdxfrxrd .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#hpkdxfrxrd .gt_sourcenotes {
  color: #333333;
  background-color: #edc7fc;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hpkdxfrxrd .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#hpkdxfrxrd .gt_left {
  text-align: left;
}

#hpkdxfrxrd .gt_center {
  text-align: center;
}

#hpkdxfrxrd .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#hpkdxfrxrd .gt_font_normal {
  font-weight: normal;
}

#hpkdxfrxrd .gt_font_bold {
  font-weight: bold;
}

#hpkdxfrxrd .gt_font_italic {
  font-style: italic;
}

#hpkdxfrxrd .gt_super {
  font-size: 65%;
}

#hpkdxfrxrd .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="hpkdxfrxrd" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="4" class="gt_heading gt_title gt_font_normal" style>superheroes</th>
    </tr>
    <tr>
      <th colspan="4" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">alignment</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">gender</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">Magneto</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Storm</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Mystique</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">female</td>
      <td class="gt_row gt_left">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Batman</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">male</td>
      <td class="gt_row gt_left gt_striped">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Joker</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Catwoman</td>
      <td class="gt_row gt_left gt_striped">bad</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Hellboy</td>
      <td class="gt_row gt_left">good</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">Dark Horse Comics</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
<td style="width: 44%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#hhrhgnyppl .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #FFFFFF;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#hhrhgnyppl .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hhrhgnyppl .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#hhrhgnyppl .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#hhrhgnyppl .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hhrhgnyppl .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hhrhgnyppl .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#hhrhgnyppl .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#hhrhgnyppl .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#hhrhgnyppl .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#hhrhgnyppl .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#hhrhgnyppl .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#hhrhgnyppl .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#hhrhgnyppl .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#hhrhgnyppl .gt_from_md > :first-child {
  margin-top: 0;
}

#hhrhgnyppl .gt_from_md > :last-child {
  margin-bottom: 0;
}

#hhrhgnyppl .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#hhrhgnyppl .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#hhrhgnyppl .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hhrhgnyppl .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#hhrhgnyppl .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hhrhgnyppl .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#hhrhgnyppl .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hhrhgnyppl .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hhrhgnyppl .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#hhrhgnyppl .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hhrhgnyppl .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#hhrhgnyppl .gt_left {
  text-align: left;
}

#hhrhgnyppl .gt_center {
  text-align: center;
}

#hhrhgnyppl .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#hhrhgnyppl .gt_font_normal {
  font-weight: normal;
}

#hhrhgnyppl .gt_font_bold {
  font-weight: bold;
}

#hhrhgnyppl .gt_font_italic {
  font-style: italic;
}

#hhrhgnyppl .gt_super {
  font-size: 65%;
}

#hhrhgnyppl .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="hhrhgnyppl" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="2" class="gt_heading gt_title gt_font_normal" style>anti_join(x = publishers, y = superheroes)</th>
    </tr>
    <tr>
      <th colspan="2" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">yr_founded</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">Image</td>
      <td class="gt_row gt_center">1992</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
</tr>
</table>
</div>
<div id="full_joinsuperheroes-publishers" class="section level4">
<h4><span class="header-section-number">2.9.3.10</span> <code>full_join(superheroes, publishers)</code></h4>
<blockquote>
<p><code>full_join(x, y)</code>: Return all rows and all columns from both <code>x</code> and <code>y</code>. Where there are not matching values, returns <code>NA</code> for the one missing. This is a mutating join.</p>
</blockquote>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb292-1"><a href="2-wrangling.html#cb292-1"></a>(fjsp &lt;-<span class="st"> </span><span class="kw">full_join</span>(superheroes, publishers))</span></code></pre></div>
<pre><code>## Joining, by = &quot;publisher&quot;</code></pre>
<pre><code>## # A tibble: 8 x 5
##   name     alignment gender publisher         yr_founded
##   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt;                  &lt;int&gt;
## 1 Magneto  bad       male   Marvel                  1939
## 2 Storm    good      female Marvel                  1939
## 3 Mystique bad       female Marvel                  1939
## 4 Batman   good      male   DC                      1934
## 5 Joker    bad       male   DC                      1934
## 6 Catwoman bad       female DC                      1934
## 7 Hellboy  good      male   Dark Horse Comics         NA
## 8 &lt;NA&gt;     &lt;NA&gt;      &lt;NA&gt;   Image                   1992</code></pre>
<p>We get all rows of <code>x = superheroes</code> plus a new row from <code>y = publishers</code>, containing the publisher Image. We get all variables from <code>x = superheroes</code> AND all variables from <code>y = publishers</code>. Any row that derives solely from one table or the other carries <code>NA</code>s in the variables found only in the other table.</p>
<table style="width: 100%; border: 0px;">
<tr>
<td style="width: 38%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#qulzzjttay .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #edc7fc;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#qulzzjttay .gt_heading {
  background-color: #edc7fc;
  text-align: center;
  border-bottom-color: #edc7fc;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qulzzjttay .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #edc7fc;
  border-bottom-width: 0;
}

#qulzzjttay .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #edc7fc;
  border-top-width: 0;
}

#qulzzjttay .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qulzzjttay .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qulzzjttay .gt_col_heading {
  color: #333333;
  background-color: #edc7fc;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#qulzzjttay .gt_column_spanner_outer {
  color: #333333;
  background-color: #edc7fc;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#qulzzjttay .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#qulzzjttay .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#qulzzjttay .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#qulzzjttay .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#qulzzjttay .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#qulzzjttay .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#qulzzjttay .gt_from_md > :first-child {
  margin-top: 0;
}

#qulzzjttay .gt_from_md > :last-child {
  margin-bottom: 0;
}

#qulzzjttay .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#qulzzjttay .gt_stub {
  color: #333333;
  background-color: #edc7fc;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#qulzzjttay .gt_summary_row {
  color: #333333;
  background-color: #edc7fc;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qulzzjttay .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#qulzzjttay .gt_grand_summary_row {
  color: #333333;
  background-color: #edc7fc;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qulzzjttay .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#qulzzjttay .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qulzzjttay .gt_footnotes {
  color: #333333;
  background-color: #edc7fc;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qulzzjttay .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#qulzzjttay .gt_sourcenotes {
  color: #333333;
  background-color: #edc7fc;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qulzzjttay .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#qulzzjttay .gt_left {
  text-align: left;
}

#qulzzjttay .gt_center {
  text-align: center;
}

#qulzzjttay .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#qulzzjttay .gt_font_normal {
  font-weight: normal;
}

#qulzzjttay .gt_font_bold {
  font-weight: bold;
}

#qulzzjttay .gt_font_italic {
  font-style: italic;
}

#qulzzjttay .gt_super {
  font-size: 65%;
}

#qulzzjttay .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="qulzzjttay" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="4" class="gt_heading gt_title gt_font_normal" style>superheroes</th>
    </tr>
    <tr>
      <th colspan="4" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">alignment</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">gender</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">Magneto</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Storm</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Mystique</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">female</td>
      <td class="gt_row gt_left">Marvel</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Batman</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">male</td>
      <td class="gt_row gt_left gt_striped">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Joker</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Catwoman</td>
      <td class="gt_row gt_left gt_striped">bad</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">DC</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Hellboy</td>
      <td class="gt_row gt_left">good</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">Dark Horse Comics</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
<td style="width: 18%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#tcuwpkuxde .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #cce6f6;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#tcuwpkuxde .gt_heading {
  background-color: #cce6f6;
  text-align: center;
  border-bottom-color: #cce6f6;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tcuwpkuxde .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #cce6f6;
  border-bottom-width: 0;
}

#tcuwpkuxde .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #cce6f6;
  border-top-width: 0;
}

#tcuwpkuxde .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tcuwpkuxde .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tcuwpkuxde .gt_col_heading {
  color: #333333;
  background-color: #cce6f6;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#tcuwpkuxde .gt_column_spanner_outer {
  color: #333333;
  background-color: #cce6f6;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#tcuwpkuxde .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#tcuwpkuxde .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#tcuwpkuxde .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#tcuwpkuxde .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#tcuwpkuxde .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#tcuwpkuxde .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#tcuwpkuxde .gt_from_md > :first-child {
  margin-top: 0;
}

#tcuwpkuxde .gt_from_md > :last-child {
  margin-bottom: 0;
}

#tcuwpkuxde .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#tcuwpkuxde .gt_stub {
  color: #333333;
  background-color: #cce6f6;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#tcuwpkuxde .gt_summary_row {
  color: #333333;
  background-color: #cce6f6;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tcuwpkuxde .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#tcuwpkuxde .gt_grand_summary_row {
  color: #333333;
  background-color: #cce6f6;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tcuwpkuxde .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#tcuwpkuxde .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tcuwpkuxde .gt_footnotes {
  color: #333333;
  background-color: #cce6f6;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tcuwpkuxde .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#tcuwpkuxde .gt_sourcenotes {
  color: #333333;
  background-color: #cce6f6;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tcuwpkuxde .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#tcuwpkuxde .gt_left {
  text-align: left;
}

#tcuwpkuxde .gt_center {
  text-align: center;
}

#tcuwpkuxde .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#tcuwpkuxde .gt_font_normal {
  font-weight: normal;
}

#tcuwpkuxde .gt_font_bold {
  font-weight: bold;
}

#tcuwpkuxde .gt_font_italic {
  font-style: italic;
}

#tcuwpkuxde .gt_super {
  font-size: 65%;
}

#tcuwpkuxde .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="tcuwpkuxde" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="2" class="gt_heading gt_title gt_font_normal" style>publishers</th>
    </tr>
    <tr>
      <th colspan="2" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">yr_founded</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">DC</td>
      <td class="gt_row gt_center">1934</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Marvel</td>
      <td class="gt_row gt_center gt_striped">1939</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Image</td>
      <td class="gt_row gt_center">1992</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
<td style="width: 44%; vertical-align: top;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#vgocppzjsd .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 80%;
  background-color: #FFFFFF;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#vgocppzjsd .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vgocppzjsd .gt_title {
  color: #333333;
  font-size: 90%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#vgocppzjsd .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#vgocppzjsd .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vgocppzjsd .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vgocppzjsd .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#vgocppzjsd .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 90%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#vgocppzjsd .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#vgocppzjsd .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#vgocppzjsd .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#vgocppzjsd .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#vgocppzjsd .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#vgocppzjsd .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#vgocppzjsd .gt_from_md > :first-child {
  margin-top: 0;
}

#vgocppzjsd .gt_from_md > :last-child {
  margin-bottom: 0;
}

#vgocppzjsd .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#vgocppzjsd .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#vgocppzjsd .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vgocppzjsd .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#vgocppzjsd .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vgocppzjsd .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#vgocppzjsd .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vgocppzjsd .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vgocppzjsd .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#vgocppzjsd .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vgocppzjsd .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#vgocppzjsd .gt_left {
  text-align: left;
}

#vgocppzjsd .gt_center {
  text-align: center;
}

#vgocppzjsd .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#vgocppzjsd .gt_font_normal {
  font-weight: normal;
}

#vgocppzjsd .gt_font_bold {
  font-weight: bold;
}

#vgocppzjsd .gt_font_italic {
  font-style: italic;
}

#vgocppzjsd .gt_super {
  font-size: 65%;
}

#vgocppzjsd .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="vgocppzjsd" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="5" class="gt_heading gt_title gt_font_normal" style>full_join(x = superheroes, y = publishers)</th>
    </tr>
    <tr>
      <th colspan="5" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">alignment</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">gender</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">publisher</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">yr_founded</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">Magneto</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">Marvel</td>
      <td class="gt_row gt_center">1939</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Storm</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">Marvel</td>
      <td class="gt_row gt_center gt_striped">1939</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Mystique</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">female</td>
      <td class="gt_row gt_left">Marvel</td>
      <td class="gt_row gt_center">1939</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Batman</td>
      <td class="gt_row gt_left gt_striped">good</td>
      <td class="gt_row gt_left gt_striped">male</td>
      <td class="gt_row gt_left gt_striped">DC</td>
      <td class="gt_row gt_center gt_striped">1934</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Joker</td>
      <td class="gt_row gt_left">bad</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">DC</td>
      <td class="gt_row gt_center">1934</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">Catwoman</td>
      <td class="gt_row gt_left gt_striped">bad</td>
      <td class="gt_row gt_left gt_striped">female</td>
      <td class="gt_row gt_left gt_striped">DC</td>
      <td class="gt_row gt_center gt_striped">1934</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Hellboy</td>
      <td class="gt_row gt_left">good</td>
      <td class="gt_row gt_left">male</td>
      <td class="gt_row gt_left">Dark Horse Comics</td>
      <td class="gt_row gt_center">NA</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_striped">NA</td>
      <td class="gt_row gt_left gt_striped">NA</td>
      <td class="gt_row gt_left gt_striped">NA</td>
      <td class="gt_row gt_left gt_striped">Image</td>
      <td class="gt_row gt_center gt_striped">1992</td>
    </tr>
  </tbody>
  
  
</table></div>
</td>
</tr>
</table>
</div>
<div id="joins" class="section level4">
<h4><span class="header-section-number">2.9.3.11</span> <code>join</code> data frames</h4>
<p>“Joining” or “merging” two different datasets is tricky stuff. Let’s go through some more examples while reviewing the basic concepts. In the <code>flights</code> data frame, the variable <code>carrier</code> lists the carrier code for the different flights. While the corresponding airline names for <code>"UA"</code> and <code>"AA"</code> might be somewhat easy to guess (United and American Airlines), what airlines have codes <code>"VX"</code>, <code>"HA"</code>, and <code>"B6"</code>? This information is provided in a separate data frame <code>airlines</code>.</p>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb295-1"><a href="2-wrangling.html#cb295-1"></a><span class="kw">View</span>(airlines)</span></code></pre></div>
<p>We see that in <code>airports</code>, <code>carrier</code> is the carrier code, while <code>name</code> is the full name of the airline company. Using this table, we can see that <code>"VX"</code>, <code>"HA"</code>, and <code>"B6"</code> correspond to Virgin America, Hawaiian Airlines, and JetBlue, respectively. However, wouldn’t it be nice to have all this information in a single data frame instead of two separate data frames? We can do this by “joining” the <code>flights</code> and <code>airlines</code> data frames.</p>
<p>Note that the values in the variable <code>carrier</code> in the <code>flights</code> data frame match the values in the variable <code>carrier</code> in the <code>airlines</code> data frame. In this case, we can use the variable <code>carrier</code> as a  <em>key variable</em> to match the rows of the two data frames. Key variables are almost always <em>identification variables</em> that uniquely identify the observational units as we saw in Subsection <a href="1-viz.html#identification-vs-measurement-variables">1.4.4</a>. This ensures that rows in both data frames are appropriately matched during the join. Hadley and Garrett <span class="citation">(Grolemund and Wickham <a href="#ref-rds2016" role="doc-biblioref">2017</a>)</span> created the diagram shown in Figure <a href="2-wrangling.html#fig:reldiagram">2.8</a> to help us understand how the different data frames in the <code>nycflights13</code> package are linked by various key variables:</p>

<div class="figure"><span id="fig:reldiagram"></span>
<img src="images/r4ds/relational-nycflights.png" alt="Data relationships in nycflights13 from R for Data Science." width="396" height="120%" />
<p class="caption">
FIGURE 2.8: Data relationships in nycflights13 from <em>R for Data Science</em>.
</p>
</div>
</div>
</div>
<div id="matching-key-variable-names" class="section level3">
<h3><span class="header-section-number">2.9.4</span> Matching “key” variable names</h3>
<p>In both the <code>flights</code> and <code>airlines</code> data frames, the key variable we want to join/merge/match the rows by has the same name: <code>carrier</code>. Let’s use the <code>inner_join()</code>  function to join the two data frames, where the rows will be matched by the variable <code>carrier</code>, and then compare the resulting data frames:</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="2-wrangling.html#cb296-1"></a>flights_joined &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb296-2"><a href="2-wrangling.html#cb296-2"></a><span class="st">  </span><span class="kw">inner_join</span>(airlines, <span class="dt">by =</span> <span class="st">&quot;carrier&quot;</span>)</span>
<span id="cb296-3"><a href="2-wrangling.html#cb296-3"></a><span class="kw">View</span>(flights)</span>
<span id="cb296-4"><a href="2-wrangling.html#cb296-4"></a><span class="kw">View</span>(flights_joined)</span></code></pre></div>
<p>Observe that the <code>flights</code> and <code>flights_joined</code> data frames are identical except that <code>flights_joined</code> has an additional variable <code>name</code>. The values of <code>name</code> correspond to the airline companies’ names as indicated in the <code>airlines</code> data frame.</p>
<p>A visual representation of the <code>inner_join()</code> is shown in Figure <a href="2-wrangling.html#fig:ijdiagram">2.9</a> <span class="citation">(Grolemund and Wickham <a href="#ref-rds2016" role="doc-biblioref">2017</a>)</span>. There are other types of joins available (such as <code>left_join()</code>, <code>right_join()</code>, <code>outer_join()</code>, and <code>anti_join()</code>), but the <code>inner_join()</code> will solve nearly all of the problems you’ll encounter in this book.</p>

<div class="figure"><span id="fig:ijdiagram"></span>
<img src="images/r4ds/join-inner.png" alt="Diagram of inner join from R for Data Science." width="338" height="120%" />
<p class="caption">
FIGURE 2.9: Diagram of inner join from <em>R for Data Science</em>.
</p>
</div>
</div>
<div id="diff-key" class="section level3">
<h3><span class="header-section-number">2.9.5</span> Different “key” variable names</h3>
<p>Say instead you are interested in the destinations of all domestic flights departing NYC in 2013, and you ask yourself questions like: “What cities are these airports in?”, or “Is <code>"ORD"</code> Orlando?”, or “Where is <code>"FLL"</code>?”.</p>
<p>The <code>airports</code> data frame contains the airport codes for each airport:</p>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb297-1"><a href="2-wrangling.html#cb297-1"></a><span class="kw">View</span>(airports)</span></code></pre></div>
<p>However, if you look at both the <code>airports</code> and <code>flights</code> data frames, you’ll find that the airport codes are in variables that have different names. In <code>airports</code> the airport code is in <code>faa</code>, whereas in <code>flights</code> the airport codes are in <code>origin</code> and <code>dest</code>. This fact is further highlighted in the visual representation of the relationships between these data frames in Figure <a href="2-wrangling.html#fig:reldiagram">2.8</a>.</p>
<p>In order to join these two data frames by airport code, our <code>inner_join()</code> operation will use the <code>by = c("dest" = "faa")</code>  argument with modified code syntax allowing us to join two data frames where the key variable has a different name:</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="2-wrangling.html#cb298-1"></a>flights_with_airport_names &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb298-2"><a href="2-wrangling.html#cb298-2"></a><span class="st">  </span><span class="kw">inner_join</span>(airports, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;dest&quot;</span> =<span class="st"> &quot;faa&quot;</span>))</span>
<span id="cb298-3"><a href="2-wrangling.html#cb298-3"></a><span class="kw">View</span>(flights_with_airport_names)</span></code></pre></div>
<p>Let’s construct the chain of pipe operators <code>%&gt;%</code> that computes the number of flights from NYC to each destination, but also includes information about each destination airport:</p>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb299-1"><a href="2-wrangling.html#cb299-1"></a>named_dests &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span></span>
<span id="cb299-2"><a href="2-wrangling.html#cb299-2"></a><span class="st">  </span><span class="kw">group_by</span>(dest) <span class="op">%&gt;%</span></span>
<span id="cb299-3"><a href="2-wrangling.html#cb299-3"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">num_flights =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></span>
<span id="cb299-4"><a href="2-wrangling.html#cb299-4"></a><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(num_flights)) <span class="op">%&gt;%</span></span>
<span id="cb299-5"><a href="2-wrangling.html#cb299-5"></a><span class="st">  </span><span class="kw">inner_join</span>(airports, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;dest&quot;</span> =<span class="st"> &quot;faa&quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb299-6"><a href="2-wrangling.html#cb299-6"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">airport_name =</span> name)</span>
<span id="cb299-7"><a href="2-wrangling.html#cb299-7"></a>named_dests</span></code></pre></div>
<pre><code>## # A tibble: 101 x 9
##    dest  num_flights airport_name          lat    lon   alt    tz dst   tzone   
##    &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;               &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;   
##  1 ORD         17283 Chicago Ohare Intl   42.0  -87.9   668    -6 A     America…
##  2 ATL         17215 Hartsfield Jackson…  33.6  -84.4  1026    -5 A     America…
##  3 LAX         16174 Los Angeles Intl     33.9 -118.    126    -8 A     America…
##  4 BOS         15508 General Edward Law…  42.4  -71.0    19    -5 A     America…
##  5 MCO         14082 Orlando Intl         28.4  -81.3    96    -5 A     America…
##  6 CLT         14064 Charlotte Douglas …  35.2  -80.9   748    -5 A     America…
##  7 SFO         13331 San Francisco Intl   37.6 -122.     13    -8 A     America…
##  8 FLL         12055 Fort Lauderdale Ho…  26.1  -80.2     9    -5 A     America…
##  9 MIA         11728 Miami Intl           25.8  -80.3     8    -5 A     America…
## 10 DCA          9705 Ronald Reagan Wash…  38.9  -77.0    15    -5 A     America…
## # … with 91 more rows</code></pre>
<p>In case you didn’t know, <code>"ORD"</code> is the airport code of Chicago O’Hare airport and <code>"FLL"</code> is the main airport in Fort Lauderdale, Florida, which can be seen in the <code>airport_name</code> variable.</p>
</div>
<div id="multiple-key-variables" class="section level3">
<h3><span class="header-section-number">2.9.6</span> Multiple “key” variables</h3>
<p>Say instead we want to join two data frames by <em>multiple key variables</em>. For example, in Figure <a href="2-wrangling.html#fig:reldiagram">2.8</a>, we see that in order to join the <code>flights</code> and <code>weather</code> data frames, we need more than one key variable: <code>year</code>, <code>month</code>, <code>day</code>, <code>hour</code>, and <code>origin</code>. This is because the combination of these 5 variables act to uniquely identify each observational unit in the <code>weather</code> data frame: hourly weather recordings at each of the 3 NYC airports.</p>
<p>We achieve this by specifying a <em>vector</em> of key variables to join by using the <code>c()</code> function. Recall from Subsection <a href="1-viz.html#programming-concepts">1.2.1</a> that <code>c()</code> is short for “combine” or “concatenate.” </p>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb301-1"><a href="2-wrangling.html#cb301-1"></a>flights_weather_joined &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span></span>
<span id="cb301-2"><a href="2-wrangling.html#cb301-2"></a><span class="st">  </span><span class="kw">inner_join</span>(weather, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;year&quot;</span>, <span class="st">&quot;month&quot;</span>, <span class="st">&quot;day&quot;</span>, <span class="st">&quot;hour&quot;</span>, <span class="st">&quot;origin&quot;</span>))</span>
<span id="cb301-3"><a href="2-wrangling.html#cb301-3"></a><span class="kw">View</span>(flights_weather_joined)</span></code></pre></div>
</div>
<div id="normal-forms" class="section level3">
<h3><span class="header-section-number">2.9.7</span> Normal forms</h3>
<p>The data frames included in the <code>nycflights13</code> package are in a form that minimizes redundancy of data. For example, the <code>flights</code> data frame only saves the <code>carrier</code> code of the airline company; it does not include the actual name of the airline. For example, the first row of <code>flights</code> has <code>carrier</code> equal to <code>UA</code>, but it does not include the airline name of “United Air Lines Inc.”</p>
<p>The names of the airline companies are included in the <code>name</code> variable of the <code>airlines</code> data frame. In order to have the airline company name included in <code>flights</code>, we could join these two data frames as follows:</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb302-1"><a href="2-wrangling.html#cb302-1"></a>joined_flights &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb302-2"><a href="2-wrangling.html#cb302-2"></a><span class="st">  </span><span class="kw">inner_join</span>(airlines, <span class="dt">by =</span> <span class="st">&quot;carrier&quot;</span>)</span>
<span id="cb302-3"><a href="2-wrangling.html#cb302-3"></a><span class="kw">View</span>(joined_flights)</span></code></pre></div>
<p>We are capable of performing this join because each of the data frames have <em>keys</em> in common to relate one to another: the <code>carrier</code> variable in both the <code>flights</code> and <code>airlines</code> data frames. The <em>key</em> variable(s) that we base our joins on are often <em>identification variables</em> as we mentioned previously.</p>
<p>This is an important property of what’s known as <em>normal forms</em> of data. The process of decomposing data frames into less redundant tables without losing information is called <em>normalization</em>. More information is available on <a href="https://en.wikipedia.org/wiki/Database_normalization">Wikipedia</a>.</p>
<p>Both <code>dplyr</code> and <a href="https://en.wikipedia.org/wiki/SQL">SQL</a> we mentioned in the introduction of this chapter use such <em>normal forms</em>. Given that they share such commonalities, once you learn either of these two tools, you can learn the other very easily.</p>
</div>
</div>
<div id="other-verbs" class="section level2">
<h2><span class="header-section-number">2.10</span> Other Verbs</h2>
<!-- DDK: Could add stuff here. -->
<p>Here are some other useful data wrangling verbs:</p>
<ul>
<li><code>select()</code> only a subset of variables/columns.<br />
</li>
<li><code>rename()</code> variables/columns to have new names.<br />
</li>
<li>Return only the <code>top_n()</code> values of a variable.<br />
</li>
<li><code>slice()</code> and <code>pull()</code> specific rows and columns.</li>
</ul>
<div id="select" class="section level3">
<h3><span class="header-section-number">2.10.1</span> <code>select</code> variables</h3>
<div class="figure"><span id="fig:selectfig"></span>
<img src="images/cheatsheets/select.png" alt="Diagram of select() columns." width="578" />
<p class="caption">
FIGURE 2.10: Diagram of select() columns.
</p>
</div>
<p>We’ve seen that the <code>flights</code> data frame in the <code>nycflights13</code> package contains 19 different variables. You can identify the names of these 19 variables by running the <code>glimpse()</code> function from the <code>dplyr</code> package:</p>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb303-1"><a href="2-wrangling.html#cb303-1"></a><span class="kw">glimpse</span>(flights)</span></code></pre></div>
<p>However, say you only need two of these 19 variables, say <code>carrier</code> and <code>flight</code>. You can <code>select()</code>  these two variables:</p>
<div class="sourceCode" id="cb304"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb304-1"><a href="2-wrangling.html#cb304-1"></a>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb304-2"><a href="2-wrangling.html#cb304-2"></a><span class="st">  </span><span class="kw">select</span>(carrier, flight)</span></code></pre></div>
<p>This function makes it easier to explore large datasets since it allows us to limit the scope to only those variables we care most about. For example, if we <code>select()</code> only a smaller number of variables as is shown in Figure <a href="2-wrangling.html#fig:selectfig">2.10</a>, it will make viewing the dataset in RStudio’s spreadsheet viewer more digestible.</p>
<p>Let’s say instead you want to drop, or de-select, certain variables. For example, consider the variable <code>year</code> in the <code>flights</code> data frame. This variable isn’t quite a “variable” because it is always <code>2013</code> and hence doesn’t change. Say you want to remove this variable from the data frame. We can deselect <code>year</code> by using the <code>-</code> sign:</p>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb305-1"><a href="2-wrangling.html#cb305-1"></a>flights_no_year &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="op">-</span>year)</span></code></pre></div>
<p>Another way of selecting columns/variables is by specifying a range of columns:</p>
<div class="sourceCode" id="cb306"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb306-1"><a href="2-wrangling.html#cb306-1"></a>flight_arr_times &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(month<span class="op">:</span>day, arr_time<span class="op">:</span>sched_arr_time)</span>
<span id="cb306-2"><a href="2-wrangling.html#cb306-2"></a>flight_arr_times</span></code></pre></div>
<p>This will <code>select()</code> all columns between <code>month</code> and <code>day</code>, as well as between <code>arr_time</code> and <code>sched_arr_time</code>, and drop the rest.</p>
<p>The <code>select()</code> function can also be used to reorder columns when used with the <code>everything()</code> helper function. For example, suppose we want the <code>hour</code>, <code>minute</code>, and <code>time_hour</code> variables to appear immediately after the <code>year</code>, <code>month</code>, and <code>day</code> variables, while not discarding the rest of the variables. In the following code, <code>everything()</code> will pick up all remaining variables:</p>
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb307-1"><a href="2-wrangling.html#cb307-1"></a>flights_reorder &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb307-2"><a href="2-wrangling.html#cb307-2"></a><span class="st">  </span><span class="kw">select</span>(year, month, day, hour, minute, time_hour, <span class="kw">everything</span>())</span>
<span id="cb307-3"><a href="2-wrangling.html#cb307-3"></a><span class="kw">glimpse</span>(flights_reorder)</span></code></pre></div>
<p>Lastly, the helper functions <code>starts_with()</code>, <code>ends_with()</code>, and <code>contains()</code> can be used to select variables/columns that match those conditions. As examples,</p>
<div class="sourceCode" id="cb308"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb308-1"><a href="2-wrangling.html#cb308-1"></a>flights <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="kw">starts_with</span>(<span class="st">&quot;a&quot;</span>))</span>
<span id="cb308-2"><a href="2-wrangling.html#cb308-2"></a>flights <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="kw">ends_with</span>(<span class="st">&quot;delay&quot;</span>))</span>
<span id="cb308-3"><a href="2-wrangling.html#cb308-3"></a>flights <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="kw">contains</span>(<span class="st">&quot;time&quot;</span>))</span></code></pre></div>
</div>
<div id="rename" class="section level3">
<h3><span class="header-section-number">2.10.2</span> <code>rename</code> variables</h3>
<p>Another useful function is  <code>rename()</code>, which as you may have guessed changes the name of variables. Suppose we want to only focus on <code>dep_time</code> and <code>arr_time</code> and change <code>dep_time</code> and <code>arr_time</code> to be <code>departure_time</code> and <code>arrival_time</code> instead in the <code>flights_time</code> data frame:</p>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb309-1"><a href="2-wrangling.html#cb309-1"></a>flights_time_new &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb309-2"><a href="2-wrangling.html#cb309-2"></a><span class="st">  </span><span class="kw">select</span>(dep_time, arr_time) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb309-3"><a href="2-wrangling.html#cb309-3"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">departure_time =</span> dep_time, <span class="dt">arrival_time =</span> arr_time)</span>
<span id="cb309-4"><a href="2-wrangling.html#cb309-4"></a><span class="kw">glimpse</span>(flights_time_new)</span></code></pre></div>
<p>Note that in this case we used a single <code>=</code> sign within the <code>rename()</code>. For example, <code>departure_time = dep_time</code> renames the <code>dep_time</code> variable to have the new name <code>departure_time</code>. This is because we are not testing for equality like we would using <code>==</code>. Instead we want to assign a new variable <code>departure_time</code> to have the same values as <code>dep_time</code> and then delete the variable <code>dep_time</code>. Note that new <code>dplyr</code> users often forget that the new variable name comes before the equal sign. <!-- We usually remember this as "New Before, Old After" or NBOA. --></p>
</div>
<div id="top_n-values-of-a-variable" class="section level3">
<h3><span class="header-section-number">2.10.3</span> <code>top_n</code> values of a variable</h3>
<p>We can also return the top <code>n</code> values of a variable using the <code>top_n()</code>  function. For example, we can return a data frame of the top 10 destination airports using the example from Subsection <a href="2-wrangling.html#diff-key">2.9.5</a>. Observe that we set the number of values to return to <code>n = 10</code> and <code>wt = num_flights</code> to indicate that we want the rows corresponding to the top 10 values of <code>num_flights</code>. See the help file for <code>top_n()</code> by running <code>?top_n</code> for more information.</p>
<div class="sourceCode" id="cb310"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb310-1"><a href="2-wrangling.html#cb310-1"></a>named_dests <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">top_n</span>(<span class="dt">n =</span> <span class="dv">10</span>, <span class="dt">wt =</span> num_flights)</span></code></pre></div>
<p>Let’s further <code>arrange()</code> these results in descending order of <code>num_flights</code>:</p>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb311-1"><a href="2-wrangling.html#cb311-1"></a>named_dests  <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb311-2"><a href="2-wrangling.html#cb311-2"></a><span class="st">  </span><span class="kw">top_n</span>(<span class="dt">n =</span> <span class="dv">10</span>, <span class="dt">wt =</span> num_flights) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb311-3"><a href="2-wrangling.html#cb311-3"></a><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(num_flights))</span></code></pre></div>
</div>
<div id="slice-and-pull-and" class="section level3">
<h3><span class="header-section-number">2.10.4</span> <code>slice</code> and <code>pull</code> and <code>[]</code></h3>
<p>Using <code>slice()</code> gives us specific rows from the <code>flights</code> tibble:</p>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb312-1"><a href="2-wrangling.html#cb312-1"></a><span class="kw">slice</span>(flights, <span class="dv">2</span><span class="op">:</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>## # A tibble: 4 x 22
##    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
##   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
## 1  2013     1     1      533            529         4      850            830
## 2  2013     1     1      542            540         2      923            850
## 3  2013     1     1      544            545        -1     1004           1022
## 4  2013     1     1      554            600        -6      812            837
## # … with 14 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
## #   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
## #   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;, gain &lt;dbl&gt;, hours &lt;dbl&gt;,
## #   gain_per_hour &lt;dbl&gt;</code></pre>
<p><code>pull()</code> grabs out a variable as a vector, rather than leaving it within a tibble, as <code>select()</code> does:</p>
<div class="sourceCode" id="cb314"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb314-1"><a href="2-wrangling.html#cb314-1"></a><span class="kw">slice</span>(flights, <span class="dv">2</span><span class="op">:</span><span class="dv">5</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb314-2"><a href="2-wrangling.html#cb314-2"></a><span class="st">  </span><span class="kw">pull</span>(dep_time)</span></code></pre></div>
<pre><code>## [1] 533 542 544 554</code></pre>
<p>This is often handy when you want to feed the data into a function, like <code>mean()</code> which requires a vector as input:</p>
<div class="sourceCode" id="cb316"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb316-1"><a href="2-wrangling.html#cb316-1"></a><span class="kw">slice</span>(flights, <span class="dv">2</span><span class="op">:</span><span class="dv">5</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb316-2"><a href="2-wrangling.html#cb316-2"></a><span class="st">  </span><span class="kw">pull</span>(dep_time) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb316-3"><a href="2-wrangling.html#cb316-3"></a><span class="st">  </span><span class="kw">mean</span>()</span></code></pre></div>
<pre><code>## [1] 543.25</code></pre>
<p>The most common way to subset vectors is to use the “bracket” operator <code>[]</code>. Example:</p>
<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb318-1"><a href="2-wrangling.html#cb318-1"></a>flights<span class="op">$</span>dep_time[<span class="dv">2</span><span class="op">:</span><span class="dv">5</span>]</span></code></pre></div>
<pre><code>## [1] 533 542 544 554</code></pre>
</div>
</div>
<div id="conclusion-2" class="section level2">
<h2><span class="header-section-number">2.11</span> Conclusion</h2>
<div id="summary-table-1" class="section level3">
<h3><span class="header-section-number">2.11.1</span> Summary table</h3>
<p>Let’s recap our data wrangling verbs in Table <a href="2-wrangling.html#tab:wrangle-summary-table">2.2</a>. Using these verbs and the pipe <code>%&gt;%</code> operator from Section <a href="2-wrangling.html#piping">2.1</a>, you’ll be able to write easily legible code to perform almost all the data wrangling and data transformation necessary for the rest of this book.</p>
<table>
<caption>
<span id="tab:wrangle-summary-table">TABLE 2.2: </span>Summary of data wrangling verbs
</caption>
<thead>
<tr>
<th style="text-align:left;">
Verb
</th>
<th style="text-align:left;">
Data wrangling operation
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<code>filter()</code>
</td>
<td style="text-align:left;">
Pick out a subset of rows
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>summarize()</code>
</td>
<td style="text-align:left;">
Summarize many values to one using a summary statistic function like <code>mean()</code>, <code>median()</code>, etc.
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>group_by()</code>
</td>
<td style="text-align:left;">
Add grouping structure to rows in data frame. Note this does not change values in data frame, rather only the meta-data
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>mutate()</code>
</td>
<td style="text-align:left;">
Create new variables by mutating existing ones
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>arrange()</code>
</td>
<td style="text-align:left;">
Arrange rows of a data variable in ascending (default) or <code>desc</code>ending order
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>inner_join()</code>
</td>
<td style="text-align:left;">
Join/merge two data frames, matching rows by a key variable
</td>
</tr>
</tbody>
</table>
</div>
<div id="additional-resources-2" class="section level3">
<h3><span class="header-section-number">2.11.2</span> Additional resources</h3>
<p>If you want to further unlock the power of the <code>dplyr</code> package for data wrangling, we suggest that you check out RStudio’s “Data Transformation with dplyr” cheatsheet. This cheatsheet summarizes much more than what we’ve discussed in this chapter, in particular more intermediate level and advanced data wrangling functions, while providing quick and easy-to-read visual descriptions. In fact, many of the diagrams illustrating data wrangling operations in this chapter, such as Figure <a href="2-wrangling.html#fig:filter">2.1</a> on <code>filter()</code>, originate from this cheatsheet.</p>
<p>In the current version of RStudio in late 2019, you can access this cheatsheet by going to the RStudio Menu Bar -&gt; Help -&gt; Cheatsheets -&gt; “Data Transformation with dplyr.” You can see a preview in the figure below.</p>
<div class="figure"><span id="fig:dplyr-cheatsheet"></span>
<img src="images/cheatsheets/dplyr_cheatsheet-1.png" alt="Data Transformation with dplyr cheatsheet." width="1146" />
<p class="caption">
FIGURE 2.11: Data Transformation with dplyr cheatsheet.
</p>
</div>
<p>On top of the data wrangling verbs and examples we presented in this section, if you’d like to see more examples of using the <code>dplyr</code> package for data wrangling, check out <a href="http://r4ds.had.co.nz/transform.html">Chapter 5</a> of <em>R for Data Science</em> <span class="citation">(Grolemund and Wickham <a href="#ref-rds2016" role="doc-biblioref">2017</a>)</span>.</p>
</div>
</div>
<div id="tidy" class="section level2">
<h2><span class="header-section-number">2.12</span> Tidy</h2>
<p>In Subsection <a href="1-viz.html#programming-concepts">1.2.1</a>, we introduced the concept of a  data frame in R: a rectangular spreadsheet-like representation of data where the rows correspond to observations and the columns correspond to variables describing each observation. In Section <a href="1-viz.html#nycflights13">1.4</a>, we started exploring our first data frame: the <code>flights</code> data frame included in the <code>nycflights13</code> package. In Chapter <a href="1-viz.html#viz">1</a>, we created visualizations based on the data included in <code>flights</code> and other data frames such as <code>weather</code>. In Chapter <a href="2-wrangling.html#wrangling">2</a>, we learned how to take existing data frames and transform/modify them to suit our ends.</p>
<p>Let’s extend some of these ideas by discussing a type of data formatting called “tidy” data. You will see that having data stored in “tidy” format is about more than just what the everyday definition of the term “tidy” might suggest: having your data “neatly organized.” Instead, we define the term “tidy” as it’s used by data scientists who use R, outlining a set of rules by which data is saved.</p>
<p>Knowledge of this type of data formatting was not necessary for our treatment of data visualization in Chapter <a href="1-viz.html#viz">1</a> and data wrangling in Chapter <a href="2-wrangling.html#wrangling">2</a>. This is because all the data used were already in “tidy” format. In this chapter, we’ll now see that this format is essential to using the tools we covered up until now. Furthermore, it will also be useful for all subsequent chapters in this book when we cover regression and statistical inference. First, however, we’ll show you how to import spreadsheet data in R.</p>
<p>Let’s load all the packages needed for this chapter (this assumes you’ve already installed them). If needed, read Section <a href="1-viz.html#packages">1.3</a> for information on how to install and load R packages.</p>
<div class="sourceCode" id="cb320"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb320-1"><a href="2-wrangling.html#cb320-1"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb320-2"><a href="2-wrangling.html#cb320-2"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb320-3"><a href="2-wrangling.html#cb320-3"></a><span class="kw">library</span>(readr)</span>
<span id="cb320-4"><a href="2-wrangling.html#cb320-4"></a><span class="kw">library</span>(tidyr)</span>
<span id="cb320-5"><a href="2-wrangling.html#cb320-5"></a><span class="kw">library</span>(nycflights13)</span>
<span id="cb320-6"><a href="2-wrangling.html#cb320-6"></a><span class="kw">library</span>(fivethirtyeight)</span></code></pre></div>
</div>
<div id="csv" class="section level2">
<h2><span class="header-section-number">2.13</span> Importing data</h2>
<p>Up to this point, we’ve almost entirely used data stored inside of an R package. Say instead you have your own data saved on your computer or somewhere online. How can you analyze this data in R? Spreadsheet data is often saved in one of the following three formats:</p>
<p>First, a <em>Comma Separated Values</em> <code>.csv</code>  file. You can think of a <code>.csv</code> file as a bare-bones spreadsheet where:</p>
<ul>
<li>Each line in the file corresponds to one row of data/one observation.</li>
<li>Values for each line are separated with commas. In other words, the values of different variables are separated by commas in each row.</li>
<li>The first line is often, but not always, a <em>header</em> row indicating the names of the columns/variables.</li>
</ul>
<p>Second, an Excel <code>.xlsx</code> spreadsheet file. This format is based on Microsoft’s proprietary Excel software. As opposed to bare-bones <code>.csv</code> files, <code>.xlsx</code> Excel files contain a lot of meta-data (data about data). Recall we saw a previous example of meta-data in Section <a href="2-wrangling.html#groupby">2.4</a> when adding “group structure” meta-data to a data frame by using the <code>group_by()</code> verb. Some examples of Excel spreadsheet meta-data include the use of bold and italic fonts, colored cells, different column widths, and formula macros.</p>
<p>Third, a <a href="https://www.google.com/sheets/about/">Google Sheets</a> file, which is a “cloud” or online-based way to work with a spreadsheet. Google Sheets allows you to download your data in both comma separated values <code>.csv</code> and Excel <code>.xlsx</code> formats. To import Google Sheets data in R use the <a href="https://googlesheets4.tidyverse.org/"><code>googlesheets4</code></a> package.</p>
<p>Let’s import a Comma Separated Values <code>.csv</code> file that exists on the internet. The <code>.csv</code> file <code>dem_score.csv</code> contains ratings of the level of democracy in different countries spanning 1952 to 1992 and is accessible at <a href="https://moderndive.com/data/dem_score.csv" class="uri">https://moderndive.com/data/dem_score.csv</a>. Let’s use the <code>read_csv()</code> function from the <code>readr</code>  <span class="citation">(Wickham, Hester, and Francois <a href="#ref-R-readr" role="doc-biblioref">2018</a>)</span> package to read it off the web, import it into R, and save it in a data frame called <code>dem_score</code>.</p>
<div class="sourceCode" id="cb321"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb321-1"><a href="2-wrangling.html#cb321-1"></a><span class="kw">library</span>(readr)</span>
<span id="cb321-2"><a href="2-wrangling.html#cb321-2"></a>dem_score &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://moderndive.com/data/dem_score.csv&quot;</span>)</span>
<span id="cb321-3"><a href="2-wrangling.html#cb321-3"></a>dem_score</span></code></pre></div>
<pre><code>## # A tibble: 96 x 10
##    country    `1952` `1957` `1962` `1967` `1972` `1977` `1982` `1987` `1992`
##    &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
##  1 Albania        -9     -9     -9     -9     -9     -9     -9     -9      5
##  2 Argentina      -9     -1     -1     -9     -9     -9     -8      8      7
##  3 Armenia        -9     -7     -7     -7     -7     -7     -7     -7      7
##  4 Australia      10     10     10     10     10     10     10     10     10
##  5 Austria        10     10     10     10     10     10     10     10     10
##  6 Azerbaijan     -9     -7     -7     -7     -7     -7     -7     -7      1
##  7 Belarus        -9     -7     -7     -7     -7     -7     -7     -7      7
##  8 Belgium        10     10     10     10     10     10     10     10     10
##  9 Bhutan        -10    -10    -10    -10    -10    -10    -10    -10    -10
## 10 Bolivia        -4     -3     -3     -4     -7     -7      8      9      9
## # … with 86 more rows</code></pre>
<p>In this <code>dem_score</code> data frame, the minimum value of <code>-10</code> corresponds to a highly autocratic nation, whereas a value of <code>10</code> corresponds to a highly democratic nation. Note also that backticks surround the different variable names. Variable names in R by default are not allowed to start with a number nor include spaces, but we can get around this fact by surrounding the column name with backticks. We’ll revisit the <code>dem_score</code> data frame in a case study in the upcoming Section <a href="2-wrangling.html#case-study-tidy">2.16</a>.</p>
<p>Note that the <code>read_csv()</code> function included in the <code>readr</code> package is different than the <code>read.csv()</code> function that comes installed with R. While the difference in the names might seem trivial (an <code>_</code> instead of a <code>.</code>), the <code>read_csv()</code> function is, in our opinion, easier to use since it can more easily read data off the web and generally imports data at a much faster speed. Furthermore, the <code>read_csv()</code> function included in the <code>readr</code> saves data frames as <code>tibbles</code> by default.</p>
<!-- DDK: Add examples of using googlesheets4. Add some examples of dirty data and all the tricky arguments in read_csv.  -->
</div>
<div id="web-scraping" class="section level2">
<h2><span class="header-section-number">2.14</span> Web scraping</h2>
<p>The data we need to answer a question is not always in a spreadsheet ready for us to read. For example, the US murders dataset we used in the R Basics chapter originally comes from <a href="https://en.wikipedia.org/w/index.php?title=Gun_violence_in_the_United_States_by_state">this Wikipedia page</a>:</p>
<div class="sourceCode" id="cb323"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb323-1"><a href="2-wrangling.html#cb323-1"></a>url &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;https://en.wikipedia.org/w/index.php?title=&quot;</span>,</span>
<span id="cb323-2"><a href="2-wrangling.html#cb323-2"></a>              <span class="st">&quot;Gun_violence_in_the_United_States_by_state&quot;</span>,</span>
<span id="cb323-3"><a href="2-wrangling.html#cb323-3"></a>              <span class="st">&quot;&amp;direction=prev&amp;oldid=810166167&quot;</span>)</span></code></pre></div>
<p>You can see the data table when you visit the webpage:</p>
<p><img src="images/murders-data-wiki-page.png" width="1437" /></p>
<p>To get this data, we need to do some <em>web scraping</em>.</p>
<p><em>Web scraping</em>, or <em>web harvesting</em>, is the term we use to describe the process of extracting data from a website. The reason we can do this is because the information used by a browser to render webpages is received as a text file from a server. The text is code written in hyper text markup language (HTML). Every browser has a way to show the html source code for a page, each one different. On Chrome, you can use Control-U on a PC and command+alt+U on a Mac. You will see something like this:</p>
<p><img src="images/html-code.png" width="1436" /></p>
<div id="html" class="section level3">
<h3><span class="header-section-number">2.14.1</span> HTML</h3>
<p>Because this code is accessible, we can download the HTML file, import it into R, and then write programs to extract the information we need from the page. However, once we look at HTML code, this might seem like a daunting task. But we will show you some convenient tools to facilitate the process. To get an idea of how it works, here are a few lines of code from the Wikipedia page that provides the US murders data:</p>
<pre><code>&lt;table class=&quot;wikitable sortable&quot;&gt;
&lt;tr&gt;
&lt;th&gt;State&lt;/th&gt;
&lt;th&gt;&lt;a href=&quot;/wiki/List_of_U.S._states_and_territories_by_population&quot; 
title=&quot;List of U.S. states and territories by population&quot;&gt;Population&lt;/a&gt;&lt;br /&gt;
&lt;small&gt;(total inhabitants)&lt;/small&gt;&lt;br /&gt;
&lt;small&gt;(2015)&lt;/small&gt; &lt;sup id=&quot;cite_ref-1&quot; class=&quot;reference&quot;&gt;
&lt;a href=&quot;#cite_note-1&quot;&gt;[1]&lt;/a&gt;&lt;/sup&gt;&lt;/th&gt;
&lt;th&gt;Murders and Nonnegligent
&lt;p&gt;Manslaughter&lt;br /&gt;
&lt;small&gt;(total deaths)&lt;/small&gt;&lt;br /&gt;
&lt;small&gt;(2015)&lt;/small&gt; &lt;sup id=&quot;cite_ref-2&quot; class=&quot;reference&quot;&gt;
&lt;a href=&quot;#cite_note-2&quot;&gt;[2]&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;/th&gt;
&lt;th&gt;Murder and Nonnegligent
&lt;p&gt;Manslaughter Rate&lt;br /&gt;
&lt;small&gt;(per 100,000 inhabitants)&lt;/small&gt;&lt;br /&gt;
&lt;small&gt;(2015)&lt;/small&gt;&lt;/p&gt;
&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;/wiki/Alabama&quot; title=&quot;Alabama&quot;&gt;Alabama&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;4,853,875&lt;/td&gt;
&lt;td&gt;348&lt;/td&gt;
&lt;td&gt;7.2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;/wiki/Alaska&quot; title=&quot;Alaska&quot;&gt;Alaska&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;737,709&lt;/td&gt;
&lt;td&gt;59&lt;/td&gt;
&lt;td&gt;8.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;</code></pre>
<p>You can actually see the data, except data values are surrounded by html code such as <code>&lt;td&gt;</code>. We can also see a pattern of how it is stored. If you know HTML, you can write programs that leverage knowledge of these patterns to extract what we want. We also take advantage of a language widely used to make webpages look “pretty” called Cascading Style Sheets (CSS). We say more about this in Section <a href="2-wrangling.html#css-selectors">2.14.3</a>.</p>
<p>Although we provide tools that make it possible to scrape data without knowing HTML, as a data scientist it is quite useful to learn some HTML and CSS. Not only does this improve your scraping skills, but it might come in handy if you are creating a webpage to showcase your work.</p>
</div>
<div id="the-rvest-package" class="section level3">
<h3><span class="header-section-number">2.14.2</span> The rvest package</h3>
<p>The <strong>tidyverse</strong> provides a web harvesting package called <strong>rvest</strong>. The first step using this package is to import the webpage into R. The package makes this quite simple:</p>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb325-1"><a href="2-wrangling.html#cb325-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb325-2"><a href="2-wrangling.html#cb325-2"></a><span class="kw">library</span>(rvest)</span>
<span id="cb325-3"><a href="2-wrangling.html#cb325-3"></a>h &lt;-<span class="st"> </span><span class="kw">read_html</span>(url)</span></code></pre></div>
<p>Note that the entire Murders in the US Wikipedia webpage is now contained in <code>h</code>. The class of this object is:</p>
<div class="sourceCode" id="cb326"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb326-1"><a href="2-wrangling.html#cb326-1"></a><span class="kw">class</span>(h)</span></code></pre></div>
<pre><code>## [1] &quot;xml_document&quot; &quot;xml_node&quot;</code></pre>
<p>The <strong>rvest</strong> package is actually more general; it handles XML documents. XML is a general markup language (that’s what the ML stands for) that can be used to represent any kind of data. HTML is a specific type of XML specifically developed for representing webpages. Here we focus on HTML documents.</p>
<p>Now, how do we extract the table from the object <code>h</code>? If we print <code>h</code>, we don’t really see much:</p>
<div class="sourceCode" id="cb328"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb328-1"><a href="2-wrangling.html#cb328-1"></a>h</span></code></pre></div>
<pre><code>## {html_document}
## &lt;html class=&quot;client-nojs&quot; lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;
## [1] &lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8 ...
## [2] &lt;body class=&quot;mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject  ...</code></pre>
<p>We can see all the code that defines the downloaded webpage using the <code>html_text</code> function like this:</p>
<div class="sourceCode" id="cb330"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb330-1"><a href="2-wrangling.html#cb330-1"></a><span class="kw">html_text</span>(h)</span></code></pre></div>
<p>We don’t show the output here because it includes thousands of characters, but if we look at it, we can see the data we are after are stored in an HTML table: you can see this in this line of the HTML code above <code>&lt;table class="wikitable sortable"&gt;</code>. The different parts of an HTML document, often defined with a message in between <code>&lt;</code> and <code>&gt;</code> are referred to as <em>nodes</em>. The <strong>rvest</strong> package includes functions to extract nodes of an HTML document: <code>html_nodes</code> extracts all nodes of different types and <code>html_node</code> extracts the first one. To extract the tables from the html code we use:</p>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb331-1"><a href="2-wrangling.html#cb331-1"></a>tab &lt;-<span class="st"> </span>h <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">html_nodes</span>(<span class="st">&quot;table&quot;</span>)</span></code></pre></div>
<p>Now, instead of the entire webpage, we just have the html code for the tables in the page:</p>
<div class="sourceCode" id="cb332"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb332-1"><a href="2-wrangling.html#cb332-1"></a>tab</span></code></pre></div>
<pre><code>## {xml_nodeset (2)}
## [1] &lt;table class=&quot;wikitable sortable&quot;&gt;&lt;tbody&gt;\n&lt;tr&gt;\n&lt;th&gt;State\n&lt;/th&gt;\n&lt;th&gt;\n ...
## [2] &lt;table class=&quot;nowraplinks hlist mw-collapsible mw-collapsed navbox-inner&quot; ...</code></pre>
<p>The table we are interested is the first one:</p>
<div class="sourceCode" id="cb334"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb334-1"><a href="2-wrangling.html#cb334-1"></a>tab[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>## {html_node}
## &lt;table class=&quot;wikitable sortable&quot;&gt;
## [1] &lt;tbody&gt;\n&lt;tr&gt;\n&lt;th&gt;State\n&lt;/th&gt;\n&lt;th&gt;\n&lt;a href=&quot;/wiki/List_of_U.S._states ...</code></pre>
<p>This is clearly not a tidy dataset, not even a data frame. In the code above, you can definitely see a pattern and writing code to extract just the data is very doable. In fact, <strong>rvest</strong> includes a function just for converting HTML tables into data frames:</p>
<div class="sourceCode" id="cb336"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb336-1"><a href="2-wrangling.html#cb336-1"></a>tab &lt;-<span class="st"> </span>tab[[<span class="dv">1</span>]] <span class="op">%&gt;%</span><span class="st"> </span>html_table</span>
<span id="cb336-2"><a href="2-wrangling.html#cb336-2"></a><span class="kw">class</span>(tab)</span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<p>We are now much closer to having a usable data table:</p>
<div class="sourceCode" id="cb338"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb338-1"><a href="2-wrangling.html#cb338-1"></a>tab &lt;-<span class="st"> </span>tab <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">setNames</span>(<span class="kw">c</span>(<span class="st">&quot;state&quot;</span>, <span class="st">&quot;population&quot;</span>, <span class="st">&quot;total&quot;</span>, <span class="st">&quot;murder_rate&quot;</span>)) </span>
<span id="cb338-2"><a href="2-wrangling.html#cb338-2"></a><span class="kw">head</span>(tab)</span></code></pre></div>
<pre><code>##        state population total murder_rate
## 1    Alabama  4,853,875   348         7.2
## 2     Alaska    737,709    59         8.0
## 3    Arizona  6,817,565   309         4.5
## 4   Arkansas  2,977,853   181         6.1
## 5 California 38,993,940 1,861         4.8
## 6   Colorado  5,448,819   176         3.2</code></pre>
<p>We still have some wrangling to do. For example, we need to remove the commas and turn characters into numbers. Before continuing with this, we will learn a more general approach to extracting information from web sites.</p>
</div>
<div id="css-selectors" class="section level3">
<h3><span class="header-section-number">2.14.3</span> CSS selectors</h3>
<p>The default look of a webpage made with the most basic HTML is quite unattractive. The aesthetically pleasing pages we see today are made using CSS to define the look and style of webpages. The fact that all pages for a company have the same style usually results from their use of the same CSS file to define the style. The general way these CSS files work is by defining how each of the elements of a webpage will look. The title, headings, itemized lists, tables, and links, for example, each receive their own style including font, color, size, and distance from the margin. CSS does this by leveraging patterns used to define these elements, referred to as <em>selectors</em>. An example of such a pattern, which we used above, is <code>table</code>, but there are many, many more.</p>
<p>If we want to grab data from a webpage and we happen to know a selector that is unique to the part of the page containing this data, we can use the <code>html_nodes</code> function. However, knowing which selector can be quite complicated.
In fact, the complexity of webpages has been increasing as they become more sophisticated. For some of the more advanced ones, it seems almost impossible to find the nodes that define a particular piece of data. However, selector gadgets actually make this possible.</p>
<p>SelectorGadget<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> is piece of software that allows you to interactively determine what CSS selector you need to extract specific components from the webpage. If you plan on scraping data other than tables from html pages, we highly recommend you install it. A Chrome extension is available which permits you to turn on the gadget and then, as you click through the page, it highlights parts and shows you the selector you need to extract these parts. There are various demos of how to do this including <strong>rvest</strong> author Hadley Wickham’s
vignette<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a> and other tutorials based on the vignette<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>.<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a></p>
</div>
<div id="json" class="section level3">
<h3><span class="header-section-number">2.14.4</span> JSON</h3>
<p>Sharing data on the internet has become more and more common. Unfortunately, providers use different formats, which makes it harder for data scientists to wrangle data into R. Yet there are some standards that are also becoming more common. Currently, a format that is widely being adopted is the JavaScript Object Notation or JSON. Because this format is very general, it is nothing like a spreadsheet. This JSON file looks more like the code you use to define a list. Here is an example of information stored in a JSON format:</p>
<pre><code>## 
## Attaching package: &#39;jsonlite&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:purrr&#39;:
## 
##     flatten</code></pre>
<pre><code>## [
##   {
##     &quot;name&quot;: &quot;Miguel&quot;,
##     &quot;student_id&quot;: 1,
##     &quot;exam_1&quot;: 85,
##     &quot;exam_2&quot;: 86
##   },
##   {
##     &quot;name&quot;: &quot;Sofia&quot;,
##     &quot;student_id&quot;: 2,
##     &quot;exam_1&quot;: 94,
##     &quot;exam_2&quot;: 93
##   },
##   {
##     &quot;name&quot;: &quot;Aya&quot;,
##     &quot;student_id&quot;: 3,
##     &quot;exam_1&quot;: 87,
##     &quot;exam_2&quot;: 88
##   },
##   {
##     &quot;name&quot;: &quot;Cheng&quot;,
##     &quot;student_id&quot;: 4,
##     &quot;exam_1&quot;: 90,
##     &quot;exam_2&quot;: 91
##   }
## ]</code></pre>
<p>The file above actually represents a data frame. To read it, we can use the function <code>fromJSON</code> from the <strong>jsonlite</strong> package. Note that JSON files are often made available via the internet. Several organizations provide a JSON API or a web service that you can connect directly to and obtain data. Here is an example:</p>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb343-1"><a href="2-wrangling.html#cb343-1"></a><span class="kw">library</span>(jsonlite)</span>
<span id="cb343-2"><a href="2-wrangling.html#cb343-2"></a>citi_bike &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(<span class="st">&quot;http://citibikenyc.com/stations/json&quot;</span>)</span></code></pre></div>
<p>This downloads a list. The first argument tells you when you downloaded it:</p>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="2-wrangling.html#cb344-1"></a>citi_bike<span class="op">$</span>executionTime</span></code></pre></div>
<pre><code>## [1] &quot;2020-05-07 10:58:27 PM&quot;</code></pre>
<p>and the second is a data table:</p>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb346-1"><a href="2-wrangling.html#cb346-1"></a>citi_bike<span class="op">$</span>stationBeanList <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">as_tibble</span>() </span></code></pre></div>
<pre><code>## # A tibble: 943 x 18
##       id stationName availableDocks totalDocks latitude longitude statusValue
##    &lt;int&gt; &lt;chr&gt;                &lt;int&gt;      &lt;int&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;      
##  1    72 W 52 St &amp; …             25         55     40.8     -74.0 In Service 
##  2    79 Franklin S…             18         33     40.7     -74.0 In Service 
##  3    82 St James P…             10         27     40.7     -74.0 In Service 
##  4    83 Atlantic A…             16         62     40.7     -74.0 In Service 
##  5   116 W 17 St &amp; …             30         50     40.7     -74.0 In Service 
##  6   119 Park Ave &amp;…              8         19     40.7     -74.0 In Service 
##  7   120 Lexington …             18         19     40.7     -74.0 In Service 
##  8   127 Barrow St …              4         31     40.7     -74.0 In Service 
##  9   128 MacDougal …              1         30     40.7     -74.0 In Service 
## 10   143 Clinton St…              9         24     40.7     -74.0 In Service 
## # … with 933 more rows, and 11 more variables: statusKey &lt;int&gt;,
## #   availableBikes &lt;int&gt;, stAddress1 &lt;chr&gt;, stAddress2 &lt;chr&gt;, city &lt;chr&gt;,
## #   postalCode &lt;chr&gt;, location &lt;chr&gt;, altitude &lt;chr&gt;, testStation &lt;lgl&gt;,
## #   lastCommunicationTime &lt;chr&gt;, landMark &lt;chr&gt;</code></pre>
<p>You can learn much more by examining tutorials and help files from the <strong>jsonlite</strong> package. This package is intended for relatively simple tasks such as converging data into tables. For more flexibility, we recommend <code>rjson</code>.</p>
</div>
</div>
<div id="tidy-data-ex" class="section level2">
<h2><span class="header-section-number">2.15</span> “Tidy” data</h2>
<p>Let’s now switch gears and learn about the concept of “tidy” data format with a motivating example from the <code>fivethirtyeight</code> package. The <code>fivethirtyeight</code> package <span class="citation">(Kim, Ismay, and Chunn <a href="#ref-R-fivethirtyeight" role="doc-biblioref">2019</a>)</span> provides access to the datasets used in many articles published by the data journalism website, <a href="https://fivethirtyeight.com/">FiveThirtyEight.com</a>. For a complete list of all 127 datasets included in the <code>fivethirtyeight</code> package, check out the package webpage by going to: <a href="https://fivethirtyeight-r.netlify.com/articles/fivethirtyeight.html" class="uri">https://fivethirtyeight-r.netlify.com/articles/fivethirtyeight.html</a>.</p>
<p>Let’s focus our attention on the <code>drinks</code> data frame and look at its first 5 rows:</p>
<pre><code>## # A tibble: 5 x 5
##   country    beer_servings spirit_servings wine_servings total_litres_of_pure_a…
##   &lt;chr&gt;              &lt;int&gt;           &lt;int&gt;         &lt;int&gt;                   &lt;dbl&gt;
## 1 Afghanist…             0               0             0                     0  
## 2 Albania               89             132            54                     4.9
## 3 Algeria               25               0            14                     0.7
## 4 Andorra              245             138           312                    12.4
## 5 Angola               217              57            45                     5.9</code></pre>
<p>After reading the help file by running <code>?drinks</code>, you’ll see that <code>drinks</code> is a data frame containing results from a survey of the average number of servings of beer, spirits, and wine consumed in 193 countries. This data was originally reported on FiveThirtyEight.com in Mona Chalabi’s article: <a href="https://fivethirtyeight.com/features/dear-mona-followup-where-do-people-drink-the-most-beer-wine-and-spirits/">“Dear Mona Followup: Where Do People Drink The Most Beer, Wine And Spirits?”</a>.</p>
<p>Let’s apply some of the data wrangling verbs we learned in Chapter <a href="2-wrangling.html#wrangling">2</a> on the <code>drinks</code> data frame:</p>
<ol style="list-style-type: decimal">
<li><code>filter()</code> the <code>drinks</code> data frame to only consider 4 countries: the United States, China, Italy, and Saudi Arabia, <em>then</em></li>
<li><code>select()</code> all columns except <code>total_litres_of_pure_alcohol</code> by using the <code>-</code> sign, <em>then</em></li>
<li><code>rename()</code> the variables <code>beer_servings</code>, <code>spirit_servings</code>, and <code>wine_servings</code> to <code>beer</code>, <code>spirit</code>, and <code>wine</code>, respectively.</li>
</ol>
<p>and save the resulting data frame in <code>drinks_smaller</code>:</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb349-1"><a href="2-wrangling.html#cb349-1"></a>drinks_smaller &lt;-<span class="st"> </span>drinks <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb349-2"><a href="2-wrangling.html#cb349-2"></a><span class="st">  </span><span class="kw">filter</span>(country <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;USA&quot;</span>, <span class="st">&quot;China&quot;</span>, <span class="st">&quot;Italy&quot;</span>, <span class="st">&quot;Saudi Arabia&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb349-3"><a href="2-wrangling.html#cb349-3"></a><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>total_litres_of_pure_alcohol) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb349-4"><a href="2-wrangling.html#cb349-4"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">beer =</span> beer_servings, <span class="dt">spirit =</span> spirit_servings, <span class="dt">wine =</span> wine_servings)</span>
<span id="cb349-5"><a href="2-wrangling.html#cb349-5"></a>drinks_smaller</span></code></pre></div>
<pre><code>## # A tibble: 4 x 4
##   country       beer spirit  wine
##   &lt;chr&gt;        &lt;int&gt;  &lt;int&gt; &lt;int&gt;
## 1 China           79    192     8
## 2 Italy           85     42   237
## 3 Saudi Arabia     0      5     0
## 4 USA            249    158    84</code></pre>
<p>Let’s now ask ourselves a question: “Using the <code>drinks_smaller</code> data frame, how would we create the side-by-side barplot in Figure <a href="2-wrangling.html#fig:drinks-smaller">2.12</a>?”. Recall we saw barplots displaying two categorical variables in Subsection <a href="1-viz.html#two-categ-barplot">1.12.3</a>.</p>
<div class="figure"><span id="fig:drinks-smaller"></span>
<img src="Preceptor%E2%80%99s-Primer-for-Bayesian-Data-Science_files/figure-html/drinks-smaller-1.png" alt="Comparing alcohol consumption in 4 countries." width="672" />
<p class="caption">
FIGURE 2.12: Comparing alcohol consumption in 4 countries.
</p>
</div>
<p>Let’s break down the grammar of graphics we introduced in Section <a href="1-viz.html#grammarofgraphics">1.6</a>:</p>
<ol style="list-style-type: decimal">
<li>The categorical variable <code>country</code> with four levels (China, Italy, Saudi Arabia, USA) would have to be mapped to the <code>x</code>-position of the bars.</li>
<li>The numerical variable <code>servings</code> would have to be mapped to the <code>y</code>-position of the bars (the height of the bars).</li>
<li>The categorical variable <code>type</code> with three levels (beer, spirit, wine) would have to be mapped to the <code>fill</code> color of the bars.</li>
</ol>
<p>Observe, however, that <code>drinks_smaller</code> has three separate variables <code>beer</code>, <code>spirit</code>, and <code>wine</code>. In order to use the <code>ggplot()</code> function to recreate the barplot in Figure <a href="2-wrangling.html#fig:drinks-smaller">2.12</a>. However, we need a <em>single variable</em> <code>type</code> with three possible values: <code>beer</code>, <code>spirit</code>, and <code>wine</code>. We could then map this <code>type</code> variable to the <code>fill</code> aesthetic of our plot. In other words, to recreate the barplot in Figure <a href="2-wrangling.html#fig:drinks-smaller">2.12</a>, our data frame would have to look like this:</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb351-1"><a href="2-wrangling.html#cb351-1"></a>drinks_smaller_tidy</span></code></pre></div>
<pre><code>## # A tibble: 12 x 3
##    country      type   servings
##    &lt;chr&gt;        &lt;chr&gt;     &lt;int&gt;
##  1 China        beer         79
##  2 Italy        beer         85
##  3 Saudi Arabia beer          0
##  4 USA          beer        249
##  5 China        spirit      192
##  6 Italy        spirit       42
##  7 Saudi Arabia spirit        5
##  8 USA          spirit      158
##  9 China        wine          8
## 10 Italy        wine        237
## 11 Saudi Arabia wine          0
## 12 USA          wine         84</code></pre>
<p>Observe that while <code>drinks_smaller</code> and <code>drinks_smaller_tidy</code> are both rectangular in shape and contain the same 12 numerical values (3 alcohol types by 4 countries), they are formatted differently. <code>drinks_smaller</code> is formatted in what’s known as  <a href="https://en.wikipedia.org/wiki/Wide_and_narrow_data">“wide”</a> format, whereas <code>drinks_smaller_tidy</code> is formatted in what’s known as <a href="https://en.wikipedia.org/wiki/Wide_and_narrow_data#Narrow">“long/narrow”</a> format.</p>
<p>In the context of doing data science in R, long/narrow format  is also known as “tidy” format. In order to use the <code>ggplot2</code> and <code>dplyr</code> packages for data visualization and data wrangling, your input data frames <em>must</em> be in “tidy” format. Thus, all non-“tidy” data must be converted to “tidy” format first. Before we convert non-“tidy” data frames like <code>drinks_smaller</code> to “tidy” data frames like <code>drinks_smaller_tidy</code>, let’s define “tidy” data.</p>
<div id="tidy-definition" class="section level3">
<h3><span class="header-section-number">2.15.1</span> Definition of “tidy” data</h3>
<p>You have surely heard the word “tidy” in your life:</p>
<ul>
<li>“Tidy up your room!”</li>
<li>“Write your homework in a tidy way so it is easier to provide feedback.”</li>
<li>Marie Kondo’s best-selling book, <a href="https://www.powells.com/book/-9781607747307"><em>The Life-Changing Magic of Tidying Up: The Japanese Art of Decluttering and Organizing</em></a>, and Netflix TV series <a href="https://www.netflix.com/title/80209379"><em>Tidying Up with Marie Kondo</em></a>.</li>
<li>“I am not by any stretch of the imagination a tidy person, and the piles of unread books on the coffee table and by my bed have a plaintive, pleading quality to me - ‘Read me, please!’” - Linda Grant</li>
</ul>
<p>What does it mean for your data to be “tidy”? While “tidy” has a clear English meaning of “organized,” the word “tidy” in data science using R means that your data follows a standardized format. We will follow Hadley Wickham’s  definition of <em>“tidy” data</em>  <span class="citation">(Wickham <a href="#ref-tidy" role="doc-biblioref">2014</a>)</span> shown also in Figure <a href="2-wrangling.html#fig:tidyfig">2.13</a>:</p>
<blockquote>
<p>A <em>dataset</em> is a collection of values, usually either numbers (if quantitative) or strings AKA text data (if qualitative/categorical). Values are organised in two ways. Every value belongs to a variable and an observation. A variable contains all values that measure the same underlying attribute (like height, temperature, duration) across units. An observation contains all values measured on the same unit (like a person, or a day, or a city) across attributes.</p>
<p>“Tidy” data is a standard way of mapping the meaning of a dataset to its structure. A dataset is messy or tidy depending on how rows, columns and tables are matched up with observations, variables and types. In <em>tidy data</em>:</p>
<ol style="list-style-type: decimal">
<li>Each variable forms a column.</li>
<li>Each observation forms a row.</li>
<li>Each type of observational unit forms a table.</li>
</ol>
</blockquote>

<div class="figure"><span id="fig:tidyfig"></span>
<img src="images/r4ds/tidy-1.png" alt="Tidy data graphic from R for Data Science." width="80%" height="80%" />
<p class="caption">
FIGURE 2.13: Tidy data graphic from <em>R for Data Science</em>.
</p>
</div>
<p>For example, say you have the following table of stock prices in Table <a href="2-wrangling.html#tab:non-tidy-stocks">2.3</a>:</p>
<table class="table" style="font-size: 16px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:non-tidy-stocks">TABLE 2.3: </span>Stock prices (non-tidy format)
</caption>
<thead>
<tr>
<th style="text-align:left;">
Date
</th>
<th style="text-align:left;">
Boeing stock price
</th>
<th style="text-align:left;">
Amazon stock price
</th>
<th style="text-align:left;">
Google stock price
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2009-01-01
</td>
<td style="text-align:left;">
$173.55
</td>
<td style="text-align:left;">
$174.90
</td>
<td style="text-align:left;">
$174.34
</td>
</tr>
<tr>
<td style="text-align:left;">
2009-01-02
</td>
<td style="text-align:left;">
$172.61
</td>
<td style="text-align:left;">
$171.42
</td>
<td style="text-align:left;">
$170.04
</td>
</tr>
</tbody>
</table>
<p>Although the data are neatly organized in a rectangular spreadsheet-type format, they do not follow the definition of data in “tidy” format. While there are three variables corresponding to three unique pieces of information (date, stock name, and stock price), there are not three columns. In “tidy” data format, each variable should be its own column, as shown in Table <a href="2-wrangling.html#tab:tidy-stocks">2.4</a>. Notice that both tables present the same information, but in different formats.</p>
<table class="table" style="font-size: 16px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:tidy-stocks">TABLE 2.4: </span>Stock prices (tidy format)
</caption>
<thead>
<tr>
<th style="text-align:left;">
Date
</th>
<th style="text-align:left;">
Stock Name
</th>
<th style="text-align:left;">
Stock Price
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2009-01-01
</td>
<td style="text-align:left;">
Boeing
</td>
<td style="text-align:left;">
$173.55
</td>
</tr>
<tr>
<td style="text-align:left;">
2009-01-01
</td>
<td style="text-align:left;">
Amazon
</td>
<td style="text-align:left;">
$174.90
</td>
</tr>
<tr>
<td style="text-align:left;">
2009-01-01
</td>
<td style="text-align:left;">
Google
</td>
<td style="text-align:left;">
$174.34
</td>
</tr>
<tr>
<td style="text-align:left;">
2009-01-02
</td>
<td style="text-align:left;">
Boeing
</td>
<td style="text-align:left;">
$172.61
</td>
</tr>
<tr>
<td style="text-align:left;">
2009-01-02
</td>
<td style="text-align:left;">
Amazon
</td>
<td style="text-align:left;">
$171.42
</td>
</tr>
<tr>
<td style="text-align:left;">
2009-01-02
</td>
<td style="text-align:left;">
Google
</td>
<td style="text-align:left;">
$170.04
</td>
</tr>
</tbody>
</table>
<p>Now we have the requisite three columns Date, Stock Name, and Stock Price. On the other hand, consider the data in Table <a href="2-wrangling.html#tab:tidy-stocks-2">2.5</a>.</p>
<table class="table" style="font-size: 16px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:tidy-stocks-2">TABLE 2.5: </span>Example of tidy data
</caption>
<thead>
<tr>
<th style="text-align:left;">
Date
</th>
<th style="text-align:left;">
Boeing Price
</th>
<th style="text-align:left;">
Weather
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2009-01-01
</td>
<td style="text-align:left;">
$173.55
</td>
<td style="text-align:left;">
Sunny
</td>
</tr>
<tr>
<td style="text-align:left;">
2009-01-02
</td>
<td style="text-align:left;">
$172.61
</td>
<td style="text-align:left;">
Overcast
</td>
</tr>
</tbody>
</table>
<p>In this case, even though the variable “Boeing Price” occurs just like in our non-“tidy” data in Table <a href="2-wrangling.html#tab:non-tidy-stocks">2.3</a>, the data <em>is</em> “tidy” since there are three variables corresponding to three unique pieces of information: Date, Boeing price, and the Weather that particular day.</p>
</div>
<div id="converting-to-tidy-data" class="section level3">
<h3><span class="header-section-number">2.15.2</span> Converting to “tidy” data</h3>
<p>In this book so far, you’ve only seen data frames that were already in “tidy” format. Furthermore, for the rest of this book, you’ll mostly only see data frames that are already in “tidy” format as well. This is not always the case however with all datasets in the world. If your original data frame is in wide (non-“tidy”) format and you would like to use the <code>ggplot2</code> or <code>dplyr</code> packages, you will first have to convert it to “tidy” format. To do so, we recommend using the  <code>pivot_longer()</code> function in the <code>tidyr</code>  package <span class="citation">(Wickham and Henry <a href="#ref-R-tidyr" role="doc-biblioref">2020</a>)</span>.</p>
<p>Going back to our <code>drinks_smaller</code> data frame from earlier:</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="2-wrangling.html#cb353-1"></a>drinks_smaller</span></code></pre></div>
<pre><code>## # A tibble: 4 x 4
##   country       beer spirit  wine
##   &lt;chr&gt;        &lt;int&gt;  &lt;int&gt; &lt;int&gt;
## 1 China           79    192     8
## 2 Italy           85     42   237
## 3 Saudi Arabia     0      5     0
## 4 USA            249    158    84</code></pre>
<p>We convert it to “tidy” format by using the <code>pivot_longer()</code> function from the <code>tidyr</code> package as follows:</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="2-wrangling.html#cb355-1"></a>drinks_smaller_tidy &lt;-<span class="st"> </span>drinks_smaller <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb355-2"><a href="2-wrangling.html#cb355-2"></a><span class="st">  </span><span class="kw">pivot_longer</span>(<span class="dt">names_to =</span> <span class="st">&quot;type&quot;</span>, </span>
<span id="cb355-3"><a href="2-wrangling.html#cb355-3"></a>               <span class="dt">values_to =</span> <span class="st">&quot;servings&quot;</span>, </span>
<span id="cb355-4"><a href="2-wrangling.html#cb355-4"></a>               <span class="dt">cols =</span> <span class="op">-</span>country)</span>
<span id="cb355-5"><a href="2-wrangling.html#cb355-5"></a>drinks_smaller_tidy</span></code></pre></div>
<pre><code>## # A tibble: 12 x 3
##    country      type   servings
##    &lt;chr&gt;        &lt;chr&gt;     &lt;int&gt;
##  1 China        beer         79
##  2 China        spirit      192
##  3 China        wine          8
##  4 Italy        beer         85
##  5 Italy        spirit       42
##  6 Italy        wine        237
##  7 Saudi Arabia beer          0
##  8 Saudi Arabia spirit        5
##  9 Saudi Arabia wine          0
## 10 USA          beer        249
## 11 USA          spirit      158
## 12 USA          wine         84</code></pre>
<p>We set the arguments to <code>pivot_longer()</code> as follows:</p>
<ol style="list-style-type: decimal">
<li><code>names_to</code> here corresponds to the name of the variable in the new “tidy”/long data frame that will contain the <em>column names</em> of the original data. Observe how we set <code>names_to = "type"</code>. In the resulting <code>drinks_smaller_tidy</code>, the column <code>type</code> contains the three types of alcohol <code>beer</code>, <code>spirit</code>, and <code>wine</code>. Since <code>type</code> is a variable name that doesn’t appear in <code>drinks_smaller</code>, we use quotation marks around it. You’ll receive an error if you just use <code>names_to = type</code> here.</li>
<li><code>values_to</code> here is the name of the variable in the new “tidy” data frame that will contain the <em>values</em> of the original data. Observe how we set <code>values_to = "servings"</code> since each of the numeric values in each of the <code>beer</code>, <code>wine</code>, and <code>spirit</code> columns of the <code>drinks_smaller</code> data corresponds to a value of <code>servings</code>. In the resulting <code>drinks_smaller_tidy</code>, the column <code>servings</code> contains the 4 <span class="math inline">\(\times\)</span> 3 = 12 numerical values. Note again that <code>servings</code> doesn’t appear as a variable in <code>drinks_smaller</code> so it again needs quotation marks around it for the <code>values_to</code> argument.</li>
<li>The third argument <code>cols</code> is the columns in the <code>drinks_smaller</code> data frame you either want to or don’t want to “tidy.” Observe how we set this to <code>-country</code> indicating that we don’t want to “tidy” the <code>country</code> variable in <code>drinks_smaller</code> and rather only <code>beer</code>, <code>spirit</code>, and <code>wine</code>. Since <code>country</code> is a column that appears in <code>drinks_smaller</code> we don’t put quotation marks around it.</li>
</ol>
<p>The third argument here of <code>cols</code> is a little nuanced, so let’s consider code that’s written slightly differently but that produces the same output:</p>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb357-1"><a href="2-wrangling.html#cb357-1"></a>drinks_smaller <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb357-2"><a href="2-wrangling.html#cb357-2"></a><span class="st">  </span><span class="kw">pivot_longer</span>(<span class="dt">names_to =</span> <span class="st">&quot;type&quot;</span>, </span>
<span id="cb357-3"><a href="2-wrangling.html#cb357-3"></a>               <span class="dt">values_to =</span> <span class="st">&quot;servings&quot;</span>, </span>
<span id="cb357-4"><a href="2-wrangling.html#cb357-4"></a>               <span class="dt">cols =</span> <span class="kw">c</span>(beer, spirit, wine))</span></code></pre></div>
<p>Note that the third argument now specifies which columns we want to “tidy” with <code>c(beer, spirit, wine)</code>, instead of the columns we don’t want to “tidy” using <code>-country</code>. We use the <code>c()</code> function to create a vector of the columns in <code>drinks_smaller</code> that we’d like to “tidy.” Note that since these three columns appear one after another in the <code>drinks_smaller</code> data frame, we could also do the following for the <code>cols</code> argument:</p>
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb358-1"><a href="2-wrangling.html#cb358-1"></a>drinks_smaller <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb358-2"><a href="2-wrangling.html#cb358-2"></a><span class="st">  </span><span class="kw">pivot_longer</span>(<span class="dt">names_to =</span> <span class="st">&quot;type&quot;</span>, </span>
<span id="cb358-3"><a href="2-wrangling.html#cb358-3"></a>               <span class="dt">values_to =</span> <span class="st">&quot;servings&quot;</span>, </span>
<span id="cb358-4"><a href="2-wrangling.html#cb358-4"></a>               <span class="dt">cols =</span> beer<span class="op">:</span>wine)</span></code></pre></div>
<p>With our <code>drinks_smaller_tidy</code> “tidy” formatted data frame, we can now produce the barplot you saw in Figure <a href="2-wrangling.html#fig:drinks-smaller">2.12</a> using <code>geom_col()</code>. This is done in Figure <a href="2-wrangling.html#fig:drinks-smaller-tidy-barplot">2.14</a>. Recall from Section <a href="1-viz.html#geombar">1.12</a> on barplots that we use <code>geom_col()</code> and not <code>geom_bar()</code>, since we would like to map the “pre-counted” <code>servings</code> variable to the <code>y</code>-aesthetic of the bars.</p>
<div class="sourceCode" id="cb359"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb359-1"><a href="2-wrangling.html#cb359-1"></a><span class="kw">ggplot</span>(drinks_smaller_tidy, <span class="kw">aes</span>(<span class="dt">x =</span> country, <span class="dt">y =</span> servings, <span class="dt">fill =</span> type)) <span class="op">+</span></span>
<span id="cb359-2"><a href="2-wrangling.html#cb359-2"></a><span class="st">  </span><span class="kw">geom_col</span>(<span class="dt">position =</span> <span class="st">&quot;dodge&quot;</span>)</span></code></pre></div>

<div class="figure"><span id="fig:drinks-smaller-tidy-barplot"></span>
<img src="Preceptor%E2%80%99s-Primer-for-Bayesian-Data-Science_files/figure-html/drinks-smaller-tidy-barplot-1.png" alt="Comparing alcohol consumption in 4 countries using geom_col()." width="672" />
<p class="caption">
FIGURE 2.14: Comparing alcohol consumption in 4 countries using geom_col().
</p>
</div>
<p>Converting “wide” format data to “tidy” format often confuses new R users. The only way to learn to get comfortable with the <code>pivot_longer()</code> function is with practice, practice, and more practice using different datasets. For example, run <code>?pivot_longer</code> and look at the examples in the bottom of the help file. We’ll show another example of using <code>pivot_longer()</code> to convert a “wide” formatted data frame to “tidy” format in Section <a href="2-wrangling.html#case-study-tidy">2.16</a>.</p>
<p>If however you want to convert a “tidy” data frame to “wide” format, you will need to use the <code>pivot_wider()</code> function instead. Run <code>?pivot_wider</code> and look at the examples in the bottom of the help file for examples.</p>
<p>You can also view examples of both <code>pivot_longer()</code> and <code>pivot_wider()</code> on the <a href="https://tidyr.tidyverse.org/dev/articles/pivot.html#pew">tidyverse.org</a> webpage. There’s a nice example to check out the different functions available for data tidying and a case study using data from the World Health Organization on that webpage. Furthermore, each week the R4DS Online Learning Community posts a dataset in the weekly <a href="https://github.com/rfordatascience/tidytuesday"><code>#</code>TidyTuesday event</a> that might serve as a nice place for you to find other data to explore and transform.</p>
</div>
<div id="nycflights13-package-1" class="section level3">
<h3><span class="header-section-number">2.15.3</span> <code>nycflights13</code> package</h3>
<p>Recall the <code>nycflights13</code> package we introduced in Section <a href="1-viz.html#nycflights13">1.4</a> with data about all domestic flights departing from New York City in 2013. Let’s revisit the <code>flights</code> data frame by running <code>View(flights)</code>. We saw that <code>flights</code> has a rectangular shape, with each of its 336,776 rows corresponding to a flight and each of its 22 columns corresponding to different characteristics/measurements of each flight. This satisfied the first two criteria of the definition of “tidy” data from Subsection <a href="2-wrangling.html#tidy-definition">2.15.1</a>: that “Each variable forms a column” and “Each observation forms a row.” But what about the third property of “tidy” data that “Each type of observational unit forms a table”?</p>
<p>Recall that we saw in Subsection <a href="1-viz.html#exploredataframes">1.4.3</a> that the observational unit for the <code>flights</code> data frame is an individual flight. In other words, the rows of the <code>flights</code> data frame refer to characteristics/measurements of individual flights. Also included in the <code>nycflights13</code> package are other data frames with their rows representing different observational units <span class="citation">(Wickham <a href="#ref-R-nycflights13" role="doc-biblioref">2019</a><a href="#ref-R-nycflights13" role="doc-biblioref">a</a>)</span>:</p>
<ul>
<li><code>airlines</code>: translation between two letter IATA carrier codes and airline company names (16 in total). The observational unit is an airline company.</li>
<li><code>planes</code>: aircraft information about each of 3,322 planes used, i.e., the observational unit is an aircraft.</li>
<li><code>weather</code>: hourly meteorological data (about 8,705 observations) for each of the three NYC airports, i.e., the observational unit is an hourly measurement of weather at one of the three airports.</li>
<li><code>airports</code>: airport names and locations. The observational unit is an airport.</li>
</ul>
<p>The organization of the information into these five data frames follows the third “tidy” data property: observations corresponding to the same observational unit should be saved in the same table, i.e., data frame. You could think of this property as the old English expression: “birds of a feather flock together.”</p>
</div>
</div>
<div id="case-study-tidy" class="section level2">
<h2><span class="header-section-number">2.16</span> Case study: Democracy in Guatemala</h2>
<p>In this section, we’ll show you another example of how to convert a data frame that isn’t in “tidy” format (“wide” format) to a data frame that is in “tidy” format (“long/narrow” format). We’ll do this using the <code>pivot_longer()</code> function from the <code>tidyr</code> package again.</p>
<p>Furthermore, we’ll make use of functions from the <code>ggplot2</code> and <code>dplyr</code> packages to produce a <em>time-series plot</em> showing how the democracy scores have changed over the 40 years from 1952 to 1992 for Guatemala. Recall that we saw time-series plots in Section <a href="1-viz.html#linegraphs">1.8</a> on creating linegraphs using <code>geom_line()</code>.</p>
<p>Let’s use the <code>dem_score</code> data frame we imported in Section <a href="2-wrangling.html#csv">2.13</a>, but focus on only data corresponding to Guatemala.</p>
<div class="sourceCode" id="cb360"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb360-1"><a href="2-wrangling.html#cb360-1"></a>guat_dem &lt;-<span class="st"> </span>dem_score <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb360-2"><a href="2-wrangling.html#cb360-2"></a><span class="st">  </span><span class="kw">filter</span>(country <span class="op">==</span><span class="st"> &quot;Guatemala&quot;</span>)</span>
<span id="cb360-3"><a href="2-wrangling.html#cb360-3"></a>guat_dem</span></code></pre></div>
<pre><code>## # A tibble: 1 x 10
##   country   `1952` `1957` `1962` `1967` `1972` `1977` `1982` `1987` `1992`
##   &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
## 1 Guatemala      2     -6     -5      3      1     -3     -7      3      3</code></pre>
<p>Let’s lay out the grammar of graphics we saw in Section <a href="1-viz.html#grammarofgraphics">1.6</a>.</p>
<p>First we know we need to set <code>data = guat_dem</code> and use a <code>geom_line()</code> layer, but what is the aesthetic mapping of variables? We’d like to see how the democracy score has changed over the years, so we need to map:</p>
<ul>
<li><code>year</code> to the x-position aesthetic and</li>
<li><code>democracy_score</code> to the y-position aesthetic</li>
</ul>
<p>Now we are stuck in a predicament, much like with our <code>drinks_smaller</code> example in Section <a href="2-wrangling.html#tidy-data-ex">2.15</a>. We see that we have a variable named <code>country</code>, but its only value is <code>"Guatemala"</code>. We have other variables denoted by different year values. Unfortunately, the <code>guat_dem</code> data frame is not “tidy” and hence is not in the appropriate format to apply the grammar of graphics, and thus we cannot use the <code>ggplot2</code> package just yet.</p>
<p>We need to take the values of the columns corresponding to years in <code>guat_dem</code> and convert them into a new “names” variable called <code>year</code>. Furthermore, we need to take the democracy score values in the inside of the data frame and turn them into a new “values” variable called <code>democracy_score</code>. Our resulting data frame will have three columns: <code>country</code>, <code>year</code>, and <code>democracy_score</code>. Recall that the <code>pivot_longer()</code> function in the <code>tidyr</code> package does this for us:</p>
<div class="sourceCode" id="cb362"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb362-1"><a href="2-wrangling.html#cb362-1"></a>guat_dem_tidy &lt;-<span class="st"> </span>guat_dem <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb362-2"><a href="2-wrangling.html#cb362-2"></a><span class="st">  </span><span class="kw">pivot_longer</span>(<span class="dt">names_to =</span> <span class="st">&quot;year&quot;</span>, </span>
<span id="cb362-3"><a href="2-wrangling.html#cb362-3"></a>               <span class="dt">values_to =</span> <span class="st">&quot;democracy_score&quot;</span>, </span>
<span id="cb362-4"><a href="2-wrangling.html#cb362-4"></a>               <span class="dt">cols =</span> <span class="op">-</span>country,</span>
<span id="cb362-5"><a href="2-wrangling.html#cb362-5"></a>               <span class="dt">names_ptypes =</span> <span class="kw">list</span>(<span class="dt">year =</span> <span class="kw">integer</span>())) </span>
<span id="cb362-6"><a href="2-wrangling.html#cb362-6"></a>guat_dem_tidy</span></code></pre></div>
<pre><code>## # A tibble: 9 x 3
##   country    year democracy_score
##   &lt;chr&gt;     &lt;int&gt;           &lt;dbl&gt;
## 1 Guatemala  1952               2
## 2 Guatemala  1957              -6
## 3 Guatemala  1962              -5
## 4 Guatemala  1967               3
## 5 Guatemala  1972               1
## 6 Guatemala  1977              -3
## 7 Guatemala  1982              -7
## 8 Guatemala  1987               3
## 9 Guatemala  1992               3</code></pre>
<p>We set the arguments to <code>pivot_longer()</code> as follows:</p>
<ol style="list-style-type: decimal">
<li><code>names_to</code> is the name of the variable in the new “tidy” data frame that will contain the <em>column names</em> of the original data. Observe how we set <code>names_to = "year"</code>. In the resulting <code>guat_dem_tidy</code>, the column <code>year</code> contains the years where Guatemala’s democracy scores were measured.</li>
<li><code>values_to</code> is the name of the variable in the new “tidy” data frame that will contain the <em>values</em> of the original data. Observe how we set <code>values_to = "democracy_score"</code>. In the resulting <code>guat_dem_tidy</code> the column <code>democracy_score</code> contains the 1 <span class="math inline">\(\times\)</span> 9 = 9 democracy scores as numeric values.</li>
<li>The third argument is the columns you either want to or don’t want to “tidy.” Observe how we set this to <code>cols = -country</code> indicating that we don’t want to “tidy” the <code>country</code> variable in <code>guat_dem</code> and rather only variables <code>1952</code> through <code>1992</code>.</li>
<li>The last argument of <code>names_ptypes</code> tells R what type of variable <code>year</code> should be set to. Without specifying that it is an <code>integer</code> as we’ve done here, <code>pivot_longer()</code> will set it to be a character value by default.</li>
</ol>
<p>We can now create the time-series plot in Figure <a href="2-wrangling.html#fig:guat-dem-tidy">2.15</a> to visualize how democracy scores in Guatemala have changed from 1952 to 1992 using a  <code>geom_line()</code>. Furthermore, we’ll use the <code>labs()</code> function in the <code>ggplot2</code> package to add informative labels to all the <code>aes()</code>thetic attributes of our plot, in this case the <code>x</code> and <code>y</code> positions.</p>
<div class="sourceCode" id="cb364"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb364-1"><a href="2-wrangling.html#cb364-1"></a><span class="kw">ggplot</span>(guat_dem_tidy, <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> democracy_score)) <span class="op">+</span></span>
<span id="cb364-2"><a href="2-wrangling.html#cb364-2"></a><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb364-3"><a href="2-wrangling.html#cb364-3"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Year&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Democracy Score&quot;</span>)</span></code></pre></div>
<div class="figure"><span id="fig:guat-dem-tidy"></span>
<img src="Preceptor%E2%80%99s-Primer-for-Bayesian-Data-Science_files/figure-html/guat-dem-tidy-1.png" alt="Democracy scores in Guatemala 1952-1992." width="672" />
<p class="caption">
FIGURE 2.15: Democracy scores in Guatemala 1952-1992.
</p>
</div>
<p>Note that if we forgot to include the <code>names_ptypes</code> argument specifying that <code>year</code> was not of character format, we would have gotten an error here since <code>geom_line()</code> wouldn’t have known how to sort the character values in <code>year</code> in the right order.</p>
</div>
<div id="tidyverse-package" class="section level2">
<h2><span class="header-section-number">2.17</span> <code>tidyverse</code> package</h2>
<p>Notice at the beginning of the chapter we loaded the following four packages, which are among four of the most frequently used R packages for data science:</p>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb365-1"><a href="2-wrangling.html#cb365-1"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb365-2"><a href="2-wrangling.html#cb365-2"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb365-3"><a href="2-wrangling.html#cb365-3"></a><span class="kw">library</span>(readr)</span>
<span id="cb365-4"><a href="2-wrangling.html#cb365-4"></a><span class="kw">library</span>(tidyr)</span></code></pre></div>
<p>Recall that <code>ggplot2</code> is for data visualization, <code>dplyr</code> is for data wrangling, <code>readr</code> is for importing spreadsheet data into R, and <code>tidyr</code> is for converting data to “tidy” format. There is a much quicker way to load these packages than by individually loading them: by installing and loading the <code>tidyverse</code> package. The <code>tidyverse</code> package acts as an “umbrella” package whereby installing/loading it will install/load multiple packages at once for you.</p>
<p>After installing the <code>tidyverse</code> package as you would a normal package as seen in Section <a href="1-viz.html#packages">1.3</a>, running:</p>
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb366-1"><a href="2-wrangling.html#cb366-1"></a><span class="kw">library</span>(tidyverse)</span></code></pre></div>
<p>would be the same as running:</p>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb367-1"><a href="2-wrangling.html#cb367-1"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb367-2"><a href="2-wrangling.html#cb367-2"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb367-3"><a href="2-wrangling.html#cb367-3"></a><span class="kw">library</span>(readr)</span>
<span id="cb367-4"><a href="2-wrangling.html#cb367-4"></a><span class="kw">library</span>(tidyr)</span>
<span id="cb367-5"><a href="2-wrangling.html#cb367-5"></a><span class="kw">library</span>(purrr)</span>
<span id="cb367-6"><a href="2-wrangling.html#cb367-6"></a><span class="kw">library</span>(tibble)</span>
<span id="cb367-7"><a href="2-wrangling.html#cb367-7"></a><span class="kw">library</span>(stringr)</span>
<span id="cb367-8"><a href="2-wrangling.html#cb367-8"></a><span class="kw">library</span>(forcats)</span></code></pre></div>
<p>The <code>purrr</code>, <code>tibble</code>, <code>stringr</code>, and <code>forcats</code> are left for a more advanced book; check out <a href="http://r4ds.had.co.nz/"><em>R for Data Science</em></a> to learn about these packages.</p>
<p>For the remainder of this book, we’ll start every chapter by running <code>library(tidyverse)</code>, instead of loading the various component packages individually. The <code>tidyverse</code> “umbrella” package gets its name from the fact that all the functions in all its packages are designed to have common inputs and outputs: data frames are in “tidy” format. This standardization of input and output data frames makes transitions between different functions in the different packages as seamless as possible. For more information, check out the <a href="https://www.tidyverse.org/">tidyverse.org</a> webpage for the package.</p>
</div>
<div id="conclusion-3" class="section level2">
<h2><span class="header-section-number">2.18</span> Conclusion</h2>
<div id="additional-resources-3" class="section level3">
<h3><span class="header-section-number">2.18.1</span> Additional resources</h3>
<p>If you want to learn more about using the <code>readr</code> and <code>tidyr</code> package, we suggest that you check out RStudio’s “Data Import Cheat Sheet.” In the current version of RStudio in late 2019, you can access this cheatsheet by going to the RStudio Menu Bar -&gt; Help -&gt; Cheatsheets -&gt; “Browse Cheatsheets” -&gt; Scroll down the page to the “Data Import Cheat Sheet.” The first page of this cheatsheet has information on using the <code>readr</code> package to import data, while the second page has information on using the <code>tidyr</code> package to “tidy” data. You can see a preview of both cheatsheets in the figures below.</p>
<div class="figure"><span id="fig:import-cheatsheet"></span>
<img src="images/cheatsheets/data-import-1.png" alt="Data Import cheatsheet (first page): readr package." width="66%" />
<p class="caption">
FIGURE 2.16: Data Import cheatsheet (first page): readr package.
</p>
</div>
<div class="figure"><span id="fig:tidyr-cheatsheet"></span>
<img src="images/cheatsheets/data-import-2.png" alt="Data Import cheatsheet (second page): tidyr package." width="66%" />
<p class="caption">
FIGURE 2.17: Data Import cheatsheet (second page): tidyr package.
</p>
</div>
<!-- DDK: Chapter is short. What should be added? More download stuff? -->

</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-rds2016">
<p>Grolemund, Garrett, and Hadley Wickham. 2017. <em>R for Data Science</em>. First. Sebastopol, CA: O’Reilly Media. <a href="https://r4ds.had.co.nz/">https://r4ds.had.co.nz/</a>.</p>
</div>
<div id="ref-R-fivethirtyeight">
<p>Kim, Albert Y., Chester Ismay, and Jennifer Chunn. 2019. <em>Fivethirtyeight: Data and Code Behind the Stories and Interactives at ’Fivethirtyeight’</em>. <a href="https://CRAN.R-project.org/package=fivethirtyeight">https://CRAN.R-project.org/package=fivethirtyeight</a>.</p>
</div>
<div id="ref-tidy">
<p>Wickham, Hadley. 2014. “Tidy Data.” <em>Journal of Statistical Software</em> Volume 59 (Issue 10). <a href="https://www.jstatsoft.org/index.php/jss/article/view/v059i10/v59i10.pdf">https://www.jstatsoft.org/index.php/jss/article/view/v059i10/v59i10.pdf</a>.</p>
</div>
<div id="ref-R-nycflights13">
<p>Wickham, Hadley. 2019a. <em>Nycflights13: Flights That Departed Nyc in 2013</em>. <a href="https://CRAN.R-project.org/package=nycflights13">https://CRAN.R-project.org/package=nycflights13</a>.</p>
</div>
<div id="ref-R-tidyr">
<p>Wickham, Hadley, and Lionel Henry. 2020. <em>Tidyr: Tidy Messy Data</em>. <a href="https://CRAN.R-project.org/package=tidyr">https://CRAN.R-project.org/package=tidyr</a>.</p>
</div>
<div id="ref-R-readr">
<p>Wickham, Hadley, Jim Hester, and Romain Francois. 2018. <em>Readr: Read Rectangular Text Data</em>. <a href="https://CRAN.R-project.org/package=readr">https://CRAN.R-project.org/package=readr</a>.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p><a href="http://selectorgadget.com/" class="uri">http://selectorgadget.com/</a><a href="2-wrangling.html#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p><a href="https://cran.r-project.org/web/packages/rvest/vignettes/selectorgadget.html" class="uri">https://cran.r-project.org/web/packages/rvest/vignettes/selectorgadget.html</a><a href="2-wrangling.html#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p><a href="https://stat4701.github.io/edav/2015/04/02/rvest_tutorial/" class="uri">https://stat4701.github.io/edav/2015/04/02/rvest_tutorial/</a><a href="2-wrangling.html#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p><a href="https://www.analyticsvidhya.com/blog/2017/03/beginners-guide-on-web-scraping-in-r-using-rvest-with-hands-on-knowledge/" class="uri">https://www.analyticsvidhya.com/blog/2017/03/beginners-guide-on-web-scraping-in-r-using-rvest-with-hands-on-knowledge/</a><a href="2-wrangling.html#fnref4" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="1-viz.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="3-rubin-causal-model.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
