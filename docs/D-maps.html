<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>D Maps | Preceptor’s Primer for Bayesian Data Science</title>
  <meta name="description" content="D Maps | Preceptor’s Primer for Bayesian Data Science" />
  <meta name="generator" content="bookdown 0.17 and GitBook 2.6.7" />

  <meta property="og:title" content="D Maps | Preceptor’s Primer for Bayesian Data Science" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="davidkane9/PPBDS" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="D Maps | Preceptor’s Primer for Bayesian Data Science" />
  
  
  

<meta name="author" content="David Kane" />


<meta name="date" content="2020-05-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="C-shiny.html"/>
<link rel="next" href="E-animation.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Cover</a></li>
<li class="chapter" data-level="" data-path="forward.html"><a href="forward.html"><i class="fa fa-check"></i>Forward</a></li>
<li class="chapter" data-level="" data-path="warning.html"><a href="warning.html"><i class="fa fa-check"></i>Warning</a></li>
<li class="chapter" data-level="" data-path="license.html"><a href="license.html"><i class="fa fa-check"></i>License</a></li>
<li class="chapter" data-level="" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="dedication.html"><a href="dedication.html"><i class="fa fa-check"></i>Dedication</a></li>
<li class="chapter" data-level="1" data-path="1-viz.html"><a href="1-viz.html"><i class="fa fa-check"></i><b>1</b> Visualization</a><ul>
<li class="chapter" data-level="1.1" data-path="1-viz.html"><a href="1-viz.html#r-rstudio"><i class="fa fa-check"></i><b>1.1</b> What are R and RStudio?</a><ul>
<li class="chapter" data-level="1.1.1" data-path="1-viz.html"><a href="1-viz.html#installing"><i class="fa fa-check"></i><b>1.1.1</b> Installing R and RStudio</a></li>
<li class="chapter" data-level="1.1.2" data-path="1-viz.html"><a href="1-viz.html#using-r-via-rstudio"><i class="fa fa-check"></i><b>1.1.2</b> Using R via RStudio</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="1-viz.html"><a href="1-viz.html#code"><i class="fa fa-check"></i><b>1.2</b> How do I code in R?</a><ul>
<li class="chapter" data-level="1.2.1" data-path="1-viz.html"><a href="1-viz.html#programming-concepts"><i class="fa fa-check"></i><b>1.2.1</b> Basic programming concepts and terminology</a></li>
<li class="chapter" data-level="1.2.2" data-path="1-viz.html"><a href="1-viz.html#messages"><i class="fa fa-check"></i><b>1.2.2</b> Errors, warnings, and messages</a></li>
<li class="chapter" data-level="1.2.3" data-path="1-viz.html"><a href="1-viz.html#tips-code"><i class="fa fa-check"></i><b>1.2.3</b> Tips on learning to code</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="1-viz.html"><a href="1-viz.html#packages"><i class="fa fa-check"></i><b>1.3</b> What are R packages?</a><ul>
<li class="chapter" data-level="1.3.1" data-path="1-viz.html"><a href="1-viz.html#package-installation"><i class="fa fa-check"></i><b>1.3.1</b> Package installation</a></li>
<li class="chapter" data-level="1.3.2" data-path="1-viz.html"><a href="1-viz.html#package-loading"><i class="fa fa-check"></i><b>1.3.2</b> Package loading</a></li>
<li class="chapter" data-level="1.3.3" data-path="1-viz.html"><a href="1-viz.html#package-use"><i class="fa fa-check"></i><b>1.3.3</b> Package use</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="1-viz.html"><a href="1-viz.html#nycflights13"><i class="fa fa-check"></i><b>1.4</b> Explore your first datasets</a><ul>
<li class="chapter" data-level="1.4.1" data-path="1-viz.html"><a href="1-viz.html#nycflights13-package"><i class="fa fa-check"></i><b>1.4.1</b> <code>nycflights13</code> package</a></li>
<li class="chapter" data-level="1.4.2" data-path="1-viz.html"><a href="1-viz.html#flights-data-frame"><i class="fa fa-check"></i><b>1.4.2</b> <code>flights</code> data frame</a></li>
<li class="chapter" data-level="1.4.3" data-path="1-viz.html"><a href="1-viz.html#exploredataframes"><i class="fa fa-check"></i><b>1.4.3</b> Exploring data frames</a></li>
<li class="chapter" data-level="1.4.4" data-path="1-viz.html"><a href="1-viz.html#identification-vs-measurement-variables"><i class="fa fa-check"></i><b>1.4.4</b> Identification and measurement variables</a></li>
<li class="chapter" data-level="1.4.5" data-path="1-viz.html"><a href="1-viz.html#help-files"><i class="fa fa-check"></i><b>1.4.5</b> Help files</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="1-viz.html"><a href="1-viz.html#conclusion"><i class="fa fa-check"></i><b>1.5</b> Conclusion</a><ul>
<li class="chapter" data-level="1.5.1" data-path="1-viz.html"><a href="1-viz.html#additional-resources"><i class="fa fa-check"></i><b>1.5.1</b> Additional resources</a></li>
<li class="chapter" data-level="" data-path="1-viz.html"><a href="1-viz.html#needed-packages"><i class="fa fa-check"></i>Needed packages</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="1-viz.html"><a href="1-viz.html#grammarofgraphics"><i class="fa fa-check"></i><b>1.6</b> The grammar of graphics</a><ul>
<li class="chapter" data-level="1.6.1" data-path="1-viz.html"><a href="1-viz.html#components-of-the-grammar"><i class="fa fa-check"></i><b>1.6.1</b> Components of the grammar</a></li>
<li class="chapter" data-level="1.6.2" data-path="1-viz.html"><a href="1-viz.html#gapminder"><i class="fa fa-check"></i><b>1.6.2</b> Gapminder data</a></li>
<li class="chapter" data-level="1.6.3" data-path="1-viz.html"><a href="1-viz.html#other-components"><i class="fa fa-check"></i><b>1.6.3</b> Other components</a></li>
<li class="chapter" data-level="1.6.4" data-path="1-viz.html"><a href="1-viz.html#ggplot2-package"><i class="fa fa-check"></i><b>1.6.4</b> ggplot2 package</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="1-viz.html"><a href="1-viz.html#scatterplots"><i class="fa fa-check"></i><b>1.7</b> Scatterplots</a><ul>
<li class="chapter" data-level="1.7.1" data-path="1-viz.html"><a href="1-viz.html#geompoint"><i class="fa fa-check"></i><b>1.7.1</b> Scatterplots via <code>geom_point</code></a></li>
<li class="chapter" data-level="1.7.2" data-path="1-viz.html"><a href="1-viz.html#overplotting"><i class="fa fa-check"></i><b>1.7.2</b> Overplotting</a></li>
<li class="chapter" data-level="1.7.3" data-path="1-viz.html"><a href="1-viz.html#summary"><i class="fa fa-check"></i><b>1.7.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="1-viz.html"><a href="1-viz.html#linegraphs"><i class="fa fa-check"></i><b>1.8</b> Linegraphs</a><ul>
<li class="chapter" data-level="1.8.1" data-path="1-viz.html"><a href="1-viz.html#geomline"><i class="fa fa-check"></i><b>1.8.1</b> Linegraphs via <code>geom_line</code></a></li>
<li class="chapter" data-level="1.8.2" data-path="1-viz.html"><a href="1-viz.html#summary-1"><i class="fa fa-check"></i><b>1.8.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="1-viz.html"><a href="1-viz.html#histograms"><i class="fa fa-check"></i><b>1.9</b> Histograms</a><ul>
<li class="chapter" data-level="1.9.1" data-path="1-viz.html"><a href="1-viz.html#geomhistogram"><i class="fa fa-check"></i><b>1.9.1</b> Histograms via <code>geom_histogram</code></a></li>
<li class="chapter" data-level="1.9.2" data-path="1-viz.html"><a href="1-viz.html#adjustbins"><i class="fa fa-check"></i><b>1.9.2</b> Adjusting the bins</a></li>
<li class="chapter" data-level="1.9.3" data-path="1-viz.html"><a href="1-viz.html#summary-2"><i class="fa fa-check"></i><b>1.9.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="1.10" data-path="1-viz.html"><a href="1-viz.html#facets"><i class="fa fa-check"></i><b>1.10</b> Facets</a></li>
<li class="chapter" data-level="1.11" data-path="1-viz.html"><a href="1-viz.html#boxplots"><i class="fa fa-check"></i><b>1.11</b> Boxplots</a><ul>
<li class="chapter" data-level="1.11.1" data-path="1-viz.html"><a href="1-viz.html#geomboxplot"><i class="fa fa-check"></i><b>1.11.1</b> Boxplots via <code>geom_boxplot</code></a></li>
<li class="chapter" data-level="1.11.2" data-path="1-viz.html"><a href="1-viz.html#summary-3"><i class="fa fa-check"></i><b>1.11.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="1.12" data-path="1-viz.html"><a href="1-viz.html#geombar"><i class="fa fa-check"></i><b>1.12</b> Barplots</a><ul>
<li class="chapter" data-level="1.12.1" data-path="1-viz.html"><a href="1-viz.html#barplots-via-geom_bar-or-geom_col"><i class="fa fa-check"></i><b>1.12.1</b> Barplots via <code>geom_bar</code> or <code>geom_col</code></a></li>
<li class="chapter" data-level="1.12.2" data-path="1-viz.html"><a href="1-viz.html#must-avoid-pie-charts"><i class="fa fa-check"></i><b>1.12.2</b> Must avoid pie charts!</a></li>
<li class="chapter" data-level="1.12.3" data-path="1-viz.html"><a href="1-viz.html#two-categ-barplot"><i class="fa fa-check"></i><b>1.12.3</b> Two categorical variables</a></li>
<li class="chapter" data-level="1.12.4" data-path="1-viz.html"><a href="1-viz.html#summary-4"><i class="fa fa-check"></i><b>1.12.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="1.13" data-path="1-viz.html"><a href="1-viz.html#conclusion-1"><i class="fa fa-check"></i><b>1.13</b> Conclusion</a><ul>
<li class="chapter" data-level="1.13.1" data-path="1-viz.html"><a href="1-viz.html#summary-table"><i class="fa fa-check"></i><b>1.13.1</b> Summary table</a></li>
<li class="chapter" data-level="1.13.2" data-path="1-viz.html"><a href="1-viz.html#function-argument-specification"><i class="fa fa-check"></i><b>1.13.2</b> Function argument specification</a></li>
<li class="chapter" data-level="1.13.3" data-path="1-viz.html"><a href="1-viz.html#additional-resources-1"><i class="fa fa-check"></i><b>1.13.3</b> Additional resources</a></li>
<li class="chapter" data-level="1.13.4" data-path="1-viz.html"><a href="1-viz.html#whats-to-come-3"><i class="fa fa-check"></i><b>1.13.4</b> What’s to come</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-wrangling.html"><a href="2-wrangling.html"><i class="fa fa-check"></i><b>2</b> Tidyverse</a><ul>
<li class="chapter" data-level="2.1" data-path="2-wrangling.html"><a href="2-wrangling.html#piping"><i class="fa fa-check"></i><b>2.1</b> The pipe operator: <code>%&gt;%</code></a></li>
<li class="chapter" data-level="2.2" data-path="2-wrangling.html"><a href="2-wrangling.html#filter"><i class="fa fa-check"></i><b>2.2</b> <code>filter</code> rows</a></li>
<li class="chapter" data-level="2.3" data-path="2-wrangling.html"><a href="2-wrangling.html#summarize"><i class="fa fa-check"></i><b>2.3</b> <code>summarize</code> variables</a></li>
<li class="chapter" data-level="2.4" data-path="2-wrangling.html"><a href="2-wrangling.html#groupby"><i class="fa fa-check"></i><b>2.4</b> <code>group_by</code> rows</a><ul>
<li class="chapter" data-level="2.4.1" data-path="2-wrangling.html"><a href="2-wrangling.html#grouping-by-more-than-one-variable"><i class="fa fa-check"></i><b>2.4.1</b> Grouping by more than one variable</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="2-wrangling.html"><a href="2-wrangling.html#mutate"><i class="fa fa-check"></i><b>2.5</b> <code>mutate</code> existing variables</a></li>
<li class="chapter" data-level="2.6" data-path="2-wrangling.html"><a href="2-wrangling.html#arrange"><i class="fa fa-check"></i><b>2.6</b> <code>arrange</code> and sort rows</a></li>
<li class="chapter" data-level="2.7" data-path="2-wrangling.html"><a href="2-wrangling.html#factors"><i class="fa fa-check"></i><b>2.7</b> Factors</a><ul>
<li class="chapter" data-level="2.7.1" data-path="2-wrangling.html"><a href="2-wrangling.html#the-forcats-package"><i class="fa fa-check"></i><b>2.7.1</b> The <strong>forcats</strong> package</a></li>
<li class="chapter" data-level="2.7.2" data-path="2-wrangling.html"><a href="2-wrangling.html#dropping-unused-levels"><i class="fa fa-check"></i><b>2.7.2</b> Dropping unused levels</a></li>
<li class="chapter" data-level="2.7.3" data-path="2-wrangling.html"><a href="2-wrangling.html#reorder-factors"><i class="fa fa-check"></i><b>2.7.3</b> Change order of the levels, principled</a></li>
<li class="chapter" data-level="2.7.4" data-path="2-wrangling.html"><a href="2-wrangling.html#change-order-of-the-levels-because-i-said-so"><i class="fa fa-check"></i><b>2.7.4</b> Change order of the levels, “because I said so”</a></li>
<li class="chapter" data-level="2.7.5" data-path="2-wrangling.html"><a href="2-wrangling.html#recode-the-levels"><i class="fa fa-check"></i><b>2.7.5</b> Recode the levels</a></li>
<li class="chapter" data-level="2.7.6" data-path="2-wrangling.html"><a href="2-wrangling.html#grow-a-factor"><i class="fa fa-check"></i><b>2.7.6</b> Grow a factor</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="2-wrangling.html"><a href="2-wrangling.html#character-vectors"><i class="fa fa-check"></i><b>2.8</b> Character Vectors</a><ul>
<li class="chapter" data-level="2.8.1" data-path="2-wrangling.html"><a href="2-wrangling.html#manipulating-character-vectors"><i class="fa fa-check"></i><b>2.8.1</b> Manipulating character vectors</a></li>
<li class="chapter" data-level="2.8.2" data-path="2-wrangling.html"><a href="2-wrangling.html#regular-expressions-resources"><i class="fa fa-check"></i><b>2.8.2</b> Regular expressions resources</a></li>
<li class="chapter" data-level="2.8.3" data-path="2-wrangling.html"><a href="2-wrangling.html#character-encoding-resources"><i class="fa fa-check"></i><b>2.8.3</b> Character encoding resources</a></li>
<li class="chapter" data-level="2.8.4" data-path="2-wrangling.html"><a href="2-wrangling.html#character-vectors-that-live-in-a-data-frame"><i class="fa fa-check"></i><b>2.8.4</b> Character vectors that live in a data frame</a></li>
<li class="chapter" data-level="2.8.5" data-path="2-wrangling.html"><a href="2-wrangling.html#regex-free-string-manipulation-with-stringr-and-tidyr"><i class="fa fa-check"></i><b>2.8.5</b> Regex-free string manipulation with stringr and tidyr</a></li>
<li class="chapter" data-level="2.8.6" data-path="2-wrangling.html"><a href="2-wrangling.html#detect-or-filter-on-a-target-string"><i class="fa fa-check"></i><b>2.8.6</b> Detect or filter on a target string</a></li>
<li class="chapter" data-level="2.8.7" data-path="2-wrangling.html"><a href="2-wrangling.html#string-splitting-by-delimiter"><i class="fa fa-check"></i><b>2.8.7</b> String splitting by delimiter</a></li>
<li class="chapter" data-level="2.8.8" data-path="2-wrangling.html"><a href="2-wrangling.html#substring-extraction-and-replacement-by-position"><i class="fa fa-check"></i><b>2.8.8</b> Substring extraction (and replacement) by position</a></li>
<li class="chapter" data-level="2.8.9" data-path="2-wrangling.html"><a href="2-wrangling.html#collapse-a-vector"><i class="fa fa-check"></i><b>2.8.9</b> Collapse a vector</a></li>
<li class="chapter" data-level="2.8.10" data-path="2-wrangling.html"><a href="2-wrangling.html#catenate-vectors"><i class="fa fa-check"></i><b>2.8.10</b> Create a character vector by catenating multiple vectors</a></li>
<li class="chapter" data-level="2.8.11" data-path="2-wrangling.html"><a href="2-wrangling.html#substring-replacement"><i class="fa fa-check"></i><b>2.8.11</b> Substring replacement</a></li>
<li class="chapter" data-level="2.8.12" data-path="2-wrangling.html"><a href="2-wrangling.html#regular-expressions-with-stringr"><i class="fa fa-check"></i><b>2.8.12</b> Regular expressions with stringr</a></li>
<li class="chapter" data-level="2.8.13" data-path="2-wrangling.html"><a href="2-wrangling.html#characters-with-special-meaning"><i class="fa fa-check"></i><b>2.8.13</b> Characters with special meaning</a></li>
<li class="chapter" data-level="2.8.14" data-path="2-wrangling.html"><a href="2-wrangling.html#character-classes"><i class="fa fa-check"></i><b>2.8.14</b> Character classes</a></li>
<li class="chapter" data-level="2.8.15" data-path="2-wrangling.html"><a href="2-wrangling.html#quantifiers"><i class="fa fa-check"></i><b>2.8.15</b> Quantifiers</a></li>
<li class="chapter" data-level="2.8.16" data-path="2-wrangling.html"><a href="2-wrangling.html#escaping"><i class="fa fa-check"></i><b>2.8.16</b> Escaping</a></li>
<li class="chapter" data-level="2.8.17" data-path="2-wrangling.html"><a href="2-wrangling.html#groups-and-backreferences"><i class="fa fa-check"></i><b>2.8.17</b> Groups and backreferences</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="2-wrangling.html"><a href="2-wrangling.html#combining-data"><i class="fa fa-check"></i><b>2.9</b> Combining Data</a><ul>
<li class="chapter" data-level="2.9.1" data-path="2-wrangling.html"><a href="2-wrangling.html#bind"><i class="fa fa-check"></i><b>2.9.1</b> Bind</a></li>
<li class="chapter" data-level="2.9.2" data-path="2-wrangling.html"><a href="2-wrangling.html#joins-in-dplyr"><i class="fa fa-check"></i><b>2.9.2</b> Joins in dplyr</a></li>
<li class="chapter" data-level="2.9.3" data-path="2-wrangling.html"><a href="2-wrangling.html#joining"><i class="fa fa-check"></i><b>2.9.3</b> Joining</a></li>
<li class="chapter" data-level="2.9.4" data-path="2-wrangling.html"><a href="2-wrangling.html#matching-key-variable-names"><i class="fa fa-check"></i><b>2.9.4</b> Matching “key” variable names</a></li>
<li class="chapter" data-level="2.9.5" data-path="2-wrangling.html"><a href="2-wrangling.html#diff-key"><i class="fa fa-check"></i><b>2.9.5</b> Different “key” variable names</a></li>
<li class="chapter" data-level="2.9.6" data-path="2-wrangling.html"><a href="2-wrangling.html#multiple-key-variables"><i class="fa fa-check"></i><b>2.9.6</b> Multiple “key” variables</a></li>
<li class="chapter" data-level="2.9.7" data-path="2-wrangling.html"><a href="2-wrangling.html#normal-forms"><i class="fa fa-check"></i><b>2.9.7</b> Normal forms</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="2-wrangling.html"><a href="2-wrangling.html#other-verbs"><i class="fa fa-check"></i><b>2.10</b> Other Verbs</a><ul>
<li class="chapter" data-level="2.10.1" data-path="2-wrangling.html"><a href="2-wrangling.html#select"><i class="fa fa-check"></i><b>2.10.1</b> <code>select</code> variables</a></li>
<li class="chapter" data-level="2.10.2" data-path="2-wrangling.html"><a href="2-wrangling.html#rename"><i class="fa fa-check"></i><b>2.10.2</b> <code>rename</code> variables</a></li>
<li class="chapter" data-level="2.10.3" data-path="2-wrangling.html"><a href="2-wrangling.html#top_n-values-of-a-variable"><i class="fa fa-check"></i><b>2.10.3</b> <code>top_n</code> values of a variable</a></li>
<li class="chapter" data-level="2.10.4" data-path="2-wrangling.html"><a href="2-wrangling.html#slice-and-pull-and"><i class="fa fa-check"></i><b>2.10.4</b> <code>slice</code> and <code>pull</code> and <code>[]</code></a></li>
</ul></li>
<li class="chapter" data-level="2.11" data-path="2-wrangling.html"><a href="2-wrangling.html#conclusion-2"><i class="fa fa-check"></i><b>2.11</b> Conclusion</a><ul>
<li class="chapter" data-level="2.11.1" data-path="2-wrangling.html"><a href="2-wrangling.html#summary-table-1"><i class="fa fa-check"></i><b>2.11.1</b> Summary table</a></li>
<li class="chapter" data-level="2.11.2" data-path="2-wrangling.html"><a href="2-wrangling.html#additional-resources-2"><i class="fa fa-check"></i><b>2.11.2</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="2.12" data-path="2-wrangling.html"><a href="2-wrangling.html#tidy"><i class="fa fa-check"></i><b>2.12</b> Tidy</a></li>
<li class="chapter" data-level="2.13" data-path="2-wrangling.html"><a href="2-wrangling.html#csv"><i class="fa fa-check"></i><b>2.13</b> Importing data</a></li>
<li class="chapter" data-level="2.14" data-path="2-wrangling.html"><a href="2-wrangling.html#web-scraping"><i class="fa fa-check"></i><b>2.14</b> Web scraping</a><ul>
<li class="chapter" data-level="2.14.1" data-path="2-wrangling.html"><a href="2-wrangling.html#html"><i class="fa fa-check"></i><b>2.14.1</b> HTML</a></li>
<li class="chapter" data-level="2.14.2" data-path="2-wrangling.html"><a href="2-wrangling.html#the-rvest-package"><i class="fa fa-check"></i><b>2.14.2</b> The rvest package</a></li>
<li class="chapter" data-level="2.14.3" data-path="2-wrangling.html"><a href="2-wrangling.html#css-selectors"><i class="fa fa-check"></i><b>2.14.3</b> CSS selectors</a></li>
<li class="chapter" data-level="2.14.4" data-path="2-wrangling.html"><a href="2-wrangling.html#json"><i class="fa fa-check"></i><b>2.14.4</b> JSON</a></li>
</ul></li>
<li class="chapter" data-level="2.15" data-path="2-wrangling.html"><a href="2-wrangling.html#tidy-data-ex"><i class="fa fa-check"></i><b>2.15</b> “Tidy” data</a><ul>
<li class="chapter" data-level="2.15.1" data-path="2-wrangling.html"><a href="2-wrangling.html#tidy-definition"><i class="fa fa-check"></i><b>2.15.1</b> Definition of “tidy” data</a></li>
<li class="chapter" data-level="2.15.2" data-path="2-wrangling.html"><a href="2-wrangling.html#converting-to-tidy-data"><i class="fa fa-check"></i><b>2.15.2</b> Converting to “tidy” data</a></li>
<li class="chapter" data-level="2.15.3" data-path="2-wrangling.html"><a href="2-wrangling.html#nycflights13-package-1"><i class="fa fa-check"></i><b>2.15.3</b> <code>nycflights13</code> package</a></li>
</ul></li>
<li class="chapter" data-level="2.16" data-path="2-wrangling.html"><a href="2-wrangling.html#case-study-tidy"><i class="fa fa-check"></i><b>2.16</b> Case study: Democracy in Guatemala</a></li>
<li class="chapter" data-level="2.17" data-path="2-wrangling.html"><a href="2-wrangling.html#tidyverse-package"><i class="fa fa-check"></i><b>2.17</b> <code>tidyverse</code> package</a></li>
<li class="chapter" data-level="2.18" data-path="2-wrangling.html"><a href="2-wrangling.html#conclusion-3"><i class="fa fa-check"></i><b>2.18</b> Conclusion</a><ul>
<li class="chapter" data-level="2.18.1" data-path="2-wrangling.html"><a href="2-wrangling.html#additional-resources-3"><i class="fa fa-check"></i><b>2.18.1</b> Additional resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html"><i class="fa fa-check"></i><b>3</b> Rubin Causal Model</a><ul>
<li class="chapter" data-level="3.1" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#what-is-a-causal-effect"><i class="fa fa-check"></i><b>3.1</b> What is a causal effect?</a><ul>
<li class="chapter" data-level="3.1.1" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#everything-is-a-missing-data-problem"><i class="fa fa-check"></i><b>3.1.1</b> Everything is a missing data problem</a></li>
<li class="chapter" data-level="3.1.2" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#potential-outcomes-introduction-to-the-rubin-table"><i class="fa fa-check"></i><b>3.1.2</b> Potential outcomes: introduction to the Rubin Table</a></li>
<li class="chapter" data-level="3.1.3" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#estimands"><i class="fa fa-check"></i><b>3.1.3</b> Estimands</a></li>
<li class="chapter" data-level="3.1.4" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#the-infinite-rubin-table-many-kinds-of-missing-data"><i class="fa fa-check"></i><b>3.1.4</b> The infinite Rubin Table: many kinds of missing data</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#how-do-we-fill-in-the-missing-values"><i class="fa fa-check"></i><b>3.2</b> How do we fill in the missing values?</a><ul>
<li class="chapter" data-level="3.2.1" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#average-treatment-effect"><i class="fa fa-check"></i><b>3.2.1</b> Average treatment effect</a></li>
<li class="chapter" data-level="3.2.2" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#the-assignment-mechanism"><i class="fa fa-check"></i><b>3.2.2</b> The assignment mechanism</a></li>
<li class="chapter" data-level="3.2.3" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#uncertainty-and-permutation-tests"><i class="fa fa-check"></i><b>3.2.3</b> Uncertainty and permutation tests</a></li>
<li class="chapter" data-level="3.2.4" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#everything-is-a-missing-data-problem-revisited-internal-and-external-validity"><i class="fa fa-check"></i><b>3.2.4</b> Everything is a missing data problem revisited: Internal and external validity</a></li>
<li class="chapter" data-level="3.2.5" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#more-complex-models-for-causal-inference"><i class="fa fa-check"></i><b>3.2.5</b> More complex models for causal inference</a></li>
<li class="chapter" data-level="3.2.6" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#causal-inference-and-prediction"><i class="fa fa-check"></i><b>3.2.6</b> Causal inference and prediction</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#other-issues-with-causal-inference"><i class="fa fa-check"></i><b>3.3</b> Other issues with causal inference</a><ul>
<li class="chapter" data-level="3.3.1" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#no-causation-without-manipulation"><i class="fa fa-check"></i><b>3.3.1</b> No causation without manipulation</a></li>
<li class="chapter" data-level="3.3.2" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#stable-unit-treatment-value-assumption-sutva"><i class="fa fa-check"></i><b>3.3.2</b> Stable unit treatment value assumption (SUTVA)</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#conclusion-4"><i class="fa fa-check"></i><b>3.4</b> Conclusion</a></li>
<li class="chapter" data-level="3.5" data-path="3-rubin-causal-model.html"><a href="3-rubin-causal-model.html#references"><i class="fa fa-check"></i><b>3.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-functions.html"><a href="4-functions.html"><i class="fa fa-check"></i><b>4</b> Functions</a><ul>
<li class="chapter" data-level="4.1" data-path="4-functions.html"><a href="4-functions.html#part-1"><i class="fa fa-check"></i><b>4.1</b> Part 1</a><ul>
<li class="chapter" data-level="4.1.1" data-path="4-functions.html"><a href="4-functions.html#get-something-that-works"><i class="fa fa-check"></i><b>4.1.1</b> Get something that works</a></li>
<li class="chapter" data-level="4.1.2" data-path="4-functions.html"><a href="4-functions.html#skateboard-perfectly-formed-rear-view-mirror"><i class="fa fa-check"></i><b>4.1.2</b> Skateboard &gt;&gt; perfectly formed rear-view mirror</a></li>
<li class="chapter" data-level="4.1.3" data-path="4-functions.html"><a href="4-functions.html#turn-the-working-interactive-code-into-a-function"><i class="fa fa-check"></i><b>4.1.3</b> Turn the working interactive code into a function</a></li>
<li class="chapter" data-level="4.1.4" data-path="4-functions.html"><a href="4-functions.html#test-your-function"><i class="fa fa-check"></i><b>4.1.4</b> Test your function</a></li>
<li class="chapter" data-level="4.1.5" data-path="4-functions.html"><a href="4-functions.html#check-the-validity-of-arguments"><i class="fa fa-check"></i><b>4.1.5</b> Check the validity of arguments</a></li>
<li class="chapter" data-level="4.1.6" data-path="4-functions.html"><a href="4-functions.html#wrap-up-and-whats-next"><i class="fa fa-check"></i><b>4.1.6</b> Wrap-up and what’s next?</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="4-functions.html"><a href="4-functions.html#part-2"><i class="fa fa-check"></i><b>4.2</b> Part 2</a><ul>
<li class="chapter" data-level="4.2.1" data-path="4-functions.html"><a href="4-functions.html#load-the-gapminder-data"><i class="fa fa-check"></i><b>4.2.1</b> Load the Gapminder data</a></li>
<li class="chapter" data-level="4.2.2" data-path="4-functions.html"><a href="4-functions.html#restore-our-max-minus-min-function"><i class="fa fa-check"></i><b>4.2.2</b> Restore our max minus min function</a></li>
<li class="chapter" data-level="4.2.3" data-path="4-functions.html"><a href="4-functions.html#generalize-our-function-to-other-quantiles"><i class="fa fa-check"></i><b>4.2.3</b> Generalize our function to other quantiles</a></li>
<li class="chapter" data-level="4.2.4" data-path="4-functions.html"><a href="4-functions.html#get-something-that-works-again"><i class="fa fa-check"></i><b>4.2.4</b> Get something that works, again</a></li>
<li class="chapter" data-level="4.2.5" data-path="4-functions.html"><a href="4-functions.html#turn-the-working-interactive-code-into-a-function-again"><i class="fa fa-check"></i><b>4.2.5</b> Turn the working interactive code into a function, again</a></li>
<li class="chapter" data-level="4.2.6" data-path="4-functions.html"><a href="4-functions.html#argument-names-freedom-and-conventions"><i class="fa fa-check"></i><b>4.2.6</b> Argument names: freedom and conventions</a></li>
<li class="chapter" data-level="4.2.7" data-path="4-functions.html"><a href="4-functions.html#what-a-function-returns"><i class="fa fa-check"></i><b>4.2.7</b> What a function returns</a></li>
<li class="chapter" data-level="4.2.8" data-path="4-functions.html"><a href="4-functions.html#default-values-freedom-to-not-specify-the-arguments"><i class="fa fa-check"></i><b>4.2.8</b> Default values: freedom to NOT specify the arguments</a></li>
<li class="chapter" data-level="4.2.9" data-path="4-functions.html"><a href="4-functions.html#wrap-up-and-whats-next-1"><i class="fa fa-check"></i><b>4.2.9</b> Wrap-up and what’s next?</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="4-functions.html"><a href="4-functions.html#part-3"><i class="fa fa-check"></i><b>4.3</b> Part 3</a><ul>
<li class="chapter" data-level="4.3.1" data-path="4-functions.html"><a href="4-functions.html#load-the-gapminder-data-1"><i class="fa fa-check"></i><b>4.3.1</b> Load the Gapminder data</a></li>
<li class="chapter" data-level="4.3.2" data-path="4-functions.html"><a href="4-functions.html#restore-our-max-minus-min-function-1"><i class="fa fa-check"></i><b>4.3.2</b> Restore our max minus min function</a></li>
<li class="chapter" data-level="4.3.3" data-path="4-functions.html"><a href="4-functions.html#be-proactive-about-nas"><i class="fa fa-check"></i><b>4.3.3</b> Be proactive about <code>NA</code>s</a></li>
<li class="chapter" data-level="4.3.4" data-path="4-functions.html"><a href="4-functions.html#the-useful-but-mysterious-...-argument"><i class="fa fa-check"></i><b>4.3.4</b> The useful but mysterious <code>...</code> argument</a></li>
<li class="chapter" data-level="4.3.5" data-path="4-functions.html"><a href="4-functions.html#use-testthat-for-formal-unit-tests"><i class="fa fa-check"></i><b>4.3.5</b> Use testthat for formal unit tests</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="4-functions.html"><a href="4-functions.html#list-columns-and-map_-functions"><i class="fa fa-check"></i><b>4.4</b> List columns and <code>map_*</code> functions</a><ul>
<li class="chapter" data-level="4.4.1" data-path="4-functions.html"><a href="4-functions.html#what-are-list-columns"><i class="fa fa-check"></i><b>4.4.1</b> What are list columns?</a></li>
<li class="chapter" data-level="4.4.2" data-path="4-functions.html"><a href="4-functions.html#creating-list-columns-with-mutate"><i class="fa fa-check"></i><b>4.4.2</b> Creating list columns with <code>mutate()</code></a></li>
<li class="chapter" data-level="4.4.3" data-path="4-functions.html"><a href="4-functions.html#map_-functions"><i class="fa fa-check"></i><b>4.4.3</b> <code>map_*</code> functions</a></li>
<li class="chapter" data-level="4.4.4" data-path="4-functions.html"><a href="4-functions.html#using-map_-functions-to-create-list-columns"><i class="fa fa-check"></i><b>4.4.4</b> Using <code>map_*</code> functions to create list columns</a></li>
<li class="chapter" data-level="4.4.5" data-path="4-functions.html"><a href="4-functions.html#practice-with-map_-functions-and-list-columns"><i class="fa fa-check"></i><b>4.4.5</b> Practice with <code>map_*</code> functions and list columns</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-probability.html"><a href="5-probability.html"><i class="fa fa-check"></i><b>5</b> Probability</a><ul>
<li class="chapter" data-level="5.1" data-path="5-probability.html"><a href="5-probability.html#basicsOfProbability"><i class="fa fa-check"></i><b>5.1</b> Defining probability</a><ul>
<li class="chapter" data-level="5.1.1" data-path="5-probability.html"><a href="5-probability.html#intro-questions"><i class="fa fa-check"></i><b>5.1.1</b> Intro Questions</a></li>
<li class="chapter" data-level="5.1.2" data-path="5-probability.html"><a href="5-probability.html#probability-1"><i class="fa fa-check"></i><b>5.1.2</b> Probability</a></li>
<li class="chapter" data-level="5.1.3" data-path="5-probability.html"><a href="5-probability.html#disjoint-or-mutually-exclusive-outcomes"><i class="fa fa-check"></i><b>5.1.3</b> Disjoint or mutually exclusive outcomes</a></li>
<li class="chapter" data-level="5.1.4" data-path="5-probability.html"><a href="5-probability.html#probabilities-when-events-are-not-disjoint"><i class="fa fa-check"></i><b>5.1.4</b> Probabilities when events are not disjoint</a></li>
<li class="chapter" data-level="5.1.5" data-path="5-probability.html"><a href="5-probability.html#probability-distributions"><i class="fa fa-check"></i><b>5.1.5</b> Probability distributions</a></li>
<li class="chapter" data-level="5.1.6" data-path="5-probability.html"><a href="5-probability.html#complement-of-an-event"><i class="fa fa-check"></i><b>5.1.6</b> Complement of an event</a></li>
<li class="chapter" data-level="5.1.7" data-path="5-probability.html"><a href="5-probability.html#probabilityIndependence"><i class="fa fa-check"></i><b>5.1.7</b> Independence</a></li>
<li class="chapter" data-level="5.1.8" data-path="5-probability.html"><a href="5-probability.html#conditionalProbabilitySection"><i class="fa fa-check"></i><b>5.1.8</b> Conditional probability</a></li>
<li class="chapter" data-level="5.1.9" data-path="5-probability.html"><a href="5-probability.html#marginalAndJointProbabilities"><i class="fa fa-check"></i><b>5.1.9</b> Marginal and joint probabilities</a></li>
<li class="chapter" data-level="5.1.10" data-path="5-probability.html"><a href="5-probability.html#defining-conditional-probability"><i class="fa fa-check"></i><b>5.1.10</b> Defining conditional probability</a></li>
<li class="chapter" data-level="5.1.11" data-path="5-probability.html"><a href="5-probability.html#smallpox-in-boston-1721"><i class="fa fa-check"></i><b>5.1.11</b> Smallpox in Boston, 1721</a></li>
<li class="chapter" data-level="5.1.12" data-path="5-probability.html"><a href="5-probability.html#general-multiplication-rule"><i class="fa fa-check"></i><b>5.1.12</b> General multiplication rule</a></li>
<li class="chapter" data-level="5.1.13" data-path="5-probability.html"><a href="5-probability.html#tree-diagrams"><i class="fa fa-check"></i><b>5.1.13</b> Tree diagrams</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="5-probability.html"><a href="5-probability.html#randomVariablesSection"><i class="fa fa-check"></i><b>5.2</b> Random variables</a><ul>
<li class="chapter" data-level="5.2.1" data-path="5-probability.html"><a href="5-probability.html#expectation"><i class="fa fa-check"></i><b>5.2.1</b> Expectation</a></li>
<li class="chapter" data-level="5.2.2" data-path="5-probability.html"><a href="5-probability.html#variability-in-random-variables"><i class="fa fa-check"></i><b>5.2.2</b> Variability in random variables</a></li>
<li class="chapter" data-level="5.2.3" data-path="5-probability.html"><a href="5-probability.html#linear-combinations-of-random-variables"><i class="fa fa-check"></i><b>5.2.3</b> Linear combinations of random variables</a></li>
<li class="chapter" data-level="5.2.4" data-path="5-probability.html"><a href="5-probability.html#variability-in-linear-combinations-of-random-variables"><i class="fa fa-check"></i><b>5.2.4</b> Variability in linear combinations of random variables</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="5-probability.html"><a href="5-probability.html#appendixA"><i class="fa fa-check"></i><b>5.3</b> Statistical Background</a><ul>
<li class="chapter" data-level="5.3.1" data-path="5-probability.html"><a href="5-probability.html#appendix-stat-terms"><i class="fa fa-check"></i><b>5.3.1</b> Basic statistical terms</a></li>
<li class="chapter" data-level="5.3.2" data-path="5-probability.html"><a href="5-probability.html#appendix-normal-curve"><i class="fa fa-check"></i><b>5.3.2</b> Normal distribution</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="5-probability.html"><a href="5-probability.html#bayess-theorem"><i class="fa fa-check"></i><b>5.4</b> Bayes’s Theorem</a></li>
<li class="chapter" data-level="5.5" data-path="5-probability.html"><a href="5-probability.html#conditional-probability"><i class="fa fa-check"></i><b>5.5</b> Conditional probability</a></li>
<li class="chapter" data-level="5.6" data-path="5-probability.html"><a href="5-probability.html#conjoint-probability"><i class="fa fa-check"></i><b>5.6</b> Conjoint probability</a></li>
<li class="chapter" data-level="5.7" data-path="5-probability.html"><a href="5-probability.html#the-cookie-problem"><i class="fa fa-check"></i><b>5.7</b> The cookie problem</a></li>
<li class="chapter" data-level="5.8" data-path="5-probability.html"><a href="5-probability.html#bayess-theorem-1"><i class="fa fa-check"></i><b>5.8</b> Bayes’s Theorem</a></li>
<li class="chapter" data-level="5.9" data-path="5-probability.html"><a href="5-probability.html#the-diachronic-interpretation"><i class="fa fa-check"></i><b>5.9</b> The diachronic interpretation</a></li>
<li class="chapter" data-level="5.10" data-path="5-probability.html"><a href="5-probability.html#the-mm-problem"><i class="fa fa-check"></i><b>5.10</b> The M&amp;M problem</a></li>
<li class="chapter" data-level="5.11" data-path="5-probability.html"><a href="5-probability.html#the-monty-hall-problem"><i class="fa fa-check"></i><b>5.11</b> The Monty Hall problem</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="6-sampling.html"><a href="6-sampling.html"><i class="fa fa-check"></i><b>6</b> Sampling</a><ul>
<li class="chapter" data-level="" data-path="6-sampling.html"><a href="6-sampling.html#needed-packages-1"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="6.1" data-path="6-sampling.html"><a href="6-sampling.html#sampling-activity"><i class="fa fa-check"></i><b>6.1</b> Sampling urn activity</a><ul>
<li class="chapter" data-level="6.1.1" data-path="6-sampling.html"><a href="6-sampling.html#what-proportion-of-this-urns-balls-are-red"><i class="fa fa-check"></i><b>6.1.1</b> What proportion of this urn’s balls are red?</a></li>
<li class="chapter" data-level="6.1.2" data-path="6-sampling.html"><a href="6-sampling.html#using-the-shovel-once"><i class="fa fa-check"></i><b>6.1.2</b> Using the shovel once</a></li>
<li class="chapter" data-level="6.1.3" data-path="6-sampling.html"><a href="6-sampling.html#student-shovels"><i class="fa fa-check"></i><b>6.1.3</b> Using the shovel 33 times</a></li>
<li class="chapter" data-level="6.1.4" data-path="6-sampling.html"><a href="6-sampling.html#what-did-we-just-do"><i class="fa fa-check"></i><b>6.1.4</b> What did we just do?</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="6-sampling.html"><a href="6-sampling.html#sampling-simulation"><i class="fa fa-check"></i><b>6.2</b> Virtual sampling</a><ul>
<li class="chapter" data-level="6.2.1" data-path="6-sampling.html"><a href="6-sampling.html#using-the-virtual-shovel-once"><i class="fa fa-check"></i><b>6.2.1</b> Using the virtual shovel once</a></li>
<li class="chapter" data-level="6.2.2" data-path="6-sampling.html"><a href="6-sampling.html#using-the-virtual-shovel-33-times"><i class="fa fa-check"></i><b>6.2.2</b> Using the virtual shovel 33 times</a></li>
<li class="chapter" data-level="6.2.3" data-path="6-sampling.html"><a href="6-sampling.html#shovel-1000-times"><i class="fa fa-check"></i><b>6.2.3</b> Using the virtual shovel 1,000 times</a></li>
<li class="chapter" data-level="6.2.4" data-path="6-sampling.html"><a href="6-sampling.html#different-shovels"><i class="fa fa-check"></i><b>6.2.4</b> Using different shovels</a></li>
<li class="chapter" data-level="6.2.5" data-path="6-sampling.html"><a href="6-sampling.html#using-many-shovels-at-once"><i class="fa fa-check"></i><b>6.2.5</b> Using many shovels at once</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="6-sampling.html"><a href="6-sampling.html#sampling-framework"><i class="fa fa-check"></i><b>6.3</b> Sampling framework</a><ul>
<li class="chapter" data-level="6.3.1" data-path="6-sampling.html"><a href="6-sampling.html#terminology-and-notation"><i class="fa fa-check"></i><b>6.3.1</b> Terminology and notation</a></li>
<li class="chapter" data-level="6.3.2" data-path="6-sampling.html"><a href="6-sampling.html#sampling-definitions"><i class="fa fa-check"></i><b>6.3.2</b> Statistical definitions</a></li>
<li class="chapter" data-level="6.3.3" data-path="6-sampling.html"><a href="6-sampling.html#moral-of-the-story"><i class="fa fa-check"></i><b>6.3.3</b> The moral of the story</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="6-sampling.html"><a href="6-sampling.html#sampling-case-study"><i class="fa fa-check"></i><b>6.4</b> Case study: Polls</a><ul>
<li class="chapter" data-level="6.4.1" data-path="6-sampling.html"><a href="6-sampling.html#sampling-conclusion-central-limit-theorem"><i class="fa fa-check"></i><b>6.4.1</b> Central Limit Theorem</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="6-sampling.html"><a href="6-sampling.html#conclusion-5"><i class="fa fa-check"></i><b>6.5</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html"><i class="fa fa-check"></i><b>7</b> One Parameter</a><ul>
<li class="chapter" data-level="" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#needed-packages-2"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="7.1" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#resampling-tactile"><i class="fa fa-check"></i><b>7.1</b> Pennies activity</a><ul>
<li class="chapter" data-level="7.1.1" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#what-is-the-average-year-on-us-pennies-in-2019"><i class="fa fa-check"></i><b>7.1.1</b> What is the average year on US pennies in 2019?</a></li>
<li class="chapter" data-level="7.1.2" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#resampling-once"><i class="fa fa-check"></i><b>7.1.2</b> Resampling once</a></li>
<li class="chapter" data-level="7.1.3" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#student-resamples"><i class="fa fa-check"></i><b>7.1.3</b> Resampling 35 times</a></li>
<li class="chapter" data-level="7.1.4" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#what-did-we-just-do-1"><i class="fa fa-check"></i><b>7.1.4</b> What did we just do?</a></li>
<li class="chapter" data-level="7.1.5" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#resampling-simulation"><i class="fa fa-check"></i><b>7.1.5</b> Virtually resampling once</a></li>
<li class="chapter" data-level="7.1.6" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#bootstrap-35-replicates"><i class="fa fa-check"></i><b>7.1.6</b> Virtually resampling 35 times</a></li>
<li class="chapter" data-level="7.1.7" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#bootstrap-1000-replicates"><i class="fa fa-check"></i><b>7.1.7</b> Virtually resampling 1,000 times</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#ci-build-up"><i class="fa fa-check"></i><b>7.2</b> Measuring uncertainty with confidence intervals</a><ul>
<li class="chapter" data-level="7.2.1" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#percentile-method"><i class="fa fa-check"></i><b>7.2.1</b> Percentile method</a></li>
<li class="chapter" data-level="7.2.2" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#se-method"><i class="fa fa-check"></i><b>7.2.2</b> Standard error method</a></li>
<li class="chapter" data-level="7.2.3" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#one-prop-ci"><i class="fa fa-check"></i><b>7.2.3</b> Interpreting confidence intervals</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#ci-width"><i class="fa fa-check"></i><b>7.3</b> Width of confidence intervals</a><ul>
<li class="chapter" data-level="7.3.1" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#impact-of-confidence-level"><i class="fa fa-check"></i><b>7.3.1</b> Impact of confidence level</a></li>
<li class="chapter" data-level="7.3.2" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#fitting-multiple-models-using-map"><i class="fa fa-check"></i><b>7.3.2</b> Fitting multiple models using <code>map()</code></a></li>
<li class="chapter" data-level="7.3.3" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#impact-of-sample-size"><i class="fa fa-check"></i><b>7.3.3</b> Impact of sample size</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#using-lm-and-tidy-as-a-shortcut"><i class="fa fa-check"></i><b>7.4</b> Using <code>lm()</code> and <code>tidy()</code> as a shortcut</a></li>
<li class="chapter" data-level="7.5" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#case-study-two-prop-ci"><i class="fa fa-check"></i><b>7.5</b> Case study: Is yawning contagious?</a><ul>
<li class="chapter" data-level="7.5.1" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#mythbusters-study-data"><i class="fa fa-check"></i><b>7.5.1</b> <em>Mythbusters</em> study data</a></li>
<li class="chapter" data-level="7.5.2" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#sampling-scenario"><i class="fa fa-check"></i><b>7.5.2</b> Sampling scenario</a></li>
<li class="chapter" data-level="7.5.3" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#ci-build"><i class="fa fa-check"></i><b>7.5.3</b> Constructing the confidence interval</a></li>
<li class="chapter" data-level="7.5.4" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#using-lm-and-tidy-as-a-shortcut-1"><i class="fa fa-check"></i><b>7.5.4</b> Using <code>lm()</code> and <code>tidy()</code> as a shortcut</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#ci-conclusion"><i class="fa fa-check"></i><b>7.6</b> Conclusion</a><ul>
<li class="chapter" data-level="7.6.1" data-path="7-confidence-intervals.html"><a href="7-confidence-intervals.html#bootstrap-vs-sampling"><i class="fa fa-check"></i><b>7.6.1</b> Comparing bootstrap and sampling distributions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="8-two-parameters.html"><a href="8-two-parameters.html"><i class="fa fa-check"></i><b>8</b> Two Parameters</a></li>
<li class="chapter" data-level="9" data-path="9-n-parameters.html"><a href="9-n-parameters.html"><i class="fa fa-check"></i><b>9</b> N Parameters</a></li>
<li class="chapter" data-level="10" data-path="10-regression.html"><a href="10-regression.html"><i class="fa fa-check"></i><b>10</b> Continuous Response I</a><ul>
<li class="chapter" data-level="" data-path="10-regression.html"><a href="10-regression.html#needed-packages-3"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="10.1" data-path="10-regression.html"><a href="10-regression.html#model1"><i class="fa fa-check"></i><b>10.1</b> Teaching evaluations: one numerical explanatory variable</a><ul>
<li class="chapter" data-level="10.1.1" data-path="10-regression.html"><a href="10-regression.html#model1EDA"><i class="fa fa-check"></i><b>10.1.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="10.1.2" data-path="10-regression.html"><a href="10-regression.html#model1table"><i class="fa fa-check"></i><b>10.1.2</b> Simple linear regression</a></li>
<li class="chapter" data-level="10.1.3" data-path="10-regression.html"><a href="10-regression.html#interpreting-regression-coefficients"><i class="fa fa-check"></i><b>10.1.3</b> Interpreting regression coefficients</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="10-regression.html"><a href="10-regression.html#uncertainty-in-simple-linear-regressions"><i class="fa fa-check"></i><b>10.2</b> Uncertainty in simple linear regressions</a><ul>
<li class="chapter" data-level="10.2.1" data-path="10-regression.html"><a href="10-regression.html#using-lm-and-tidy-as-a-shortcut-2"><i class="fa fa-check"></i><b>10.2.1</b> Using <code>lm()</code> and <code>tidy()</code> as a shortcut</a></li>
<li class="chapter" data-level="10.2.2" data-path="10-regression.html"><a href="10-regression.html#model1points"><i class="fa fa-check"></i><b>10.2.2</b> Observed/fitted values and residuals</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="10-regression.html"><a href="10-regression.html#model2"><i class="fa fa-check"></i><b>10.3</b> Life expectancy: one categorical explanatory variable</a><ul>
<li class="chapter" data-level="10.3.1" data-path="10-regression.html"><a href="10-regression.html#model2EDA"><i class="fa fa-check"></i><b>10.3.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="10.3.2" data-path="10-regression.html"><a href="10-regression.html#model2table"><i class="fa fa-check"></i><b>10.3.2</b> Linear regression</a></li>
<li class="chapter" data-level="10.3.3" data-path="10-regression.html"><a href="10-regression.html#model2points"><i class="fa fa-check"></i><b>10.3.3</b> Observed/fitted values and residuals</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="10-regression.html"><a href="10-regression.html#case-study-2018-gubernatorial-forecasts"><i class="fa fa-check"></i><b>10.4</b> Case study: 2018 gubernatorial forecasts</a><ul>
<li class="chapter" data-level="10.4.1" data-path="10-regression.html"><a href="10-regression.html#fitting-multiple-models-using-map-1"><i class="fa fa-check"></i><b>10.4.1</b> Fitting multiple models using <code>map()</code></a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="10-regression.html"><a href="10-regression.html#leastsquares"><i class="fa fa-check"></i><b>10.5</b> Appendix: Best-fitting line</a></li>
<li class="chapter" data-level="10.6" data-path="10-regression.html"><a href="10-regression.html#conclusion-6"><i class="fa fa-check"></i><b>10.6</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html"><i class="fa fa-check"></i><b>11</b> Continuous Response II</a><ul>
<li class="chapter" data-level="" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#needed-packages-4"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="11.1" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#model4"><i class="fa fa-check"></i><b>11.1</b> Teaching evaluations revisited: one numerical and one categorical explanatory variable</a><ul>
<li class="chapter" data-level="11.1.1" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#model4EDA"><i class="fa fa-check"></i><b>11.1.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="11.1.2" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#model4interactiontable"><i class="fa fa-check"></i><b>11.1.2</b> Interaction model</a></li>
<li class="chapter" data-level="11.1.3" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#interpreting-regression-coefficients-with-interactions"><i class="fa fa-check"></i><b>11.1.3</b> Interpreting regression coefficients with interactions</a></li>
<li class="chapter" data-level="11.1.4" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#model4table"><i class="fa fa-check"></i><b>11.1.4</b> Parallel slopes model</a></li>
<li class="chapter" data-level="11.1.5" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#model4points"><i class="fa fa-check"></i><b>11.1.5</b> Observed/fitted values and residuals</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#model3"><i class="fa fa-check"></i><b>11.2</b> Credit card debt: two numerical explanatory variables</a><ul>
<li class="chapter" data-level="11.2.1" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#model3EDA"><i class="fa fa-check"></i><b>11.2.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="11.2.2" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#model3table"><i class="fa fa-check"></i><b>11.2.2</b> Regression plane</a></li>
<li class="chapter" data-level="11.2.3" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#model3points"><i class="fa fa-check"></i><b>11.2.3</b> Observed/fitted values and residuals</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#seattle-house-prices"><i class="fa fa-check"></i><b>11.3</b> Case study: Seattle house prices</a><ul>
<li class="chapter" data-level="11.3.1" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#house-prices-EDA-I"><i class="fa fa-check"></i><b>11.3.1</b> Exploratory data analysis: Part I</a></li>
<li class="chapter" data-level="11.3.2" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#house-prices-EDA-II"><i class="fa fa-check"></i><b>11.3.2</b> Exploratory data analysis: Part II</a></li>
<li class="chapter" data-level="11.3.3" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#house-prices-regression"><i class="fa fa-check"></i><b>11.3.3</b> Regression modeling</a></li>
<li class="chapter" data-level="11.3.4" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#house-prices-making-predictions"><i class="fa fa-check"></i><b>11.3.4</b> Making predictions</a></li>
<li class="chapter" data-level="11.3.5" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#fitting-many-models-using-map"><i class="fa fa-check"></i><b>11.3.5</b> Fitting many models using <code>map()</code></a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#other-topics"><i class="fa fa-check"></i><b>11.4</b> Other topics</a><ul>
<li class="chapter" data-level="11.4.1" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#model-selection"><i class="fa fa-check"></i><b>11.4.1</b> Model selection</a></li>
<li class="chapter" data-level="11.4.2" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#correlationcoefficient2"><i class="fa fa-check"></i><b>11.4.2</b> Correlation coefficient</a></li>
<li class="chapter" data-level="11.4.3" data-path="11-multiple-regression.html"><a href="11-multiple-regression.html#simpsonsparadox"><i class="fa fa-check"></i><b>11.4.3</b> Simpson’s Paradox</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="12-classification.html"><a href="12-classification.html"><i class="fa fa-check"></i><b>12</b> Discrete Response</a><ul>
<li class="chapter" data-level="" data-path="12-classification.html"><a href="12-classification.html#needed-packages-5"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="12.1" data-path="12-classification.html"><a href="12-classification.html#logistic-regression"><i class="fa fa-check"></i><b>12.1</b> Logistic regression</a><ul>
<li class="chapter" data-level="12.1.1" data-path="12-classification.html"><a href="12-classification.html#what-is-logistic-regression"><i class="fa fa-check"></i><b>12.1.1</b> What is logistic regression?</a></li>
<li class="chapter" data-level="12.1.2" data-path="12-classification.html"><a href="12-classification.html#house-elections-exploratory-data-analysis"><i class="fa fa-check"></i><b>12.1.2</b> House elections: exploratory data analysis</a></li>
<li class="chapter" data-level="12.1.3" data-path="12-classification.html"><a href="12-classification.html#one-categorical-explanatory-variable"><i class="fa fa-check"></i><b>12.1.3</b> One categorical explanatory variable</a></li>
<li class="chapter" data-level="12.1.4" data-path="12-classification.html"><a href="12-classification.html#observedfitted-values-and-residuals"><i class="fa fa-check"></i><b>12.1.4</b> Observed/fitted values and residuals</a></li>
<li class="chapter" data-level="12.1.5" data-path="12-classification.html"><a href="12-classification.html#one-numerical-explanatory-variable"><i class="fa fa-check"></i><b>12.1.5</b> One numerical explanatory variable</a></li>
<li class="chapter" data-level="12.1.6" data-path="12-classification.html"><a href="12-classification.html#one-numerical-and-one-categorical-explanatory-variable"><i class="fa fa-check"></i><b>12.1.6</b> One numerical and one categorical explanatory variable</a></li>
<li class="chapter" data-level="12.1.7" data-path="12-classification.html"><a href="12-classification.html#fitting-many-models-using-map-1"><i class="fa fa-check"></i><b>12.1.7</b> Fitting many models using <code>map()</code></a></li>
<li class="chapter" data-level="12.1.8" data-path="12-classification.html"><a href="12-classification.html#professional-models"><i class="fa fa-check"></i><b>12.1.8</b> Professional models</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="12-classification.html"><a href="12-classification.html#classification-and-regression-trees-cart"><i class="fa fa-check"></i><b>12.2</b> Classification and regression trees (CART)</a><ul>
<li class="chapter" data-level="12.2.1" data-path="12-classification.html"><a href="12-classification.html#what-is-cart"><i class="fa fa-check"></i><b>12.2.1</b> What is CART?</a></li>
<li class="chapter" data-level="12.2.2" data-path="12-classification.html"><a href="12-classification.html#one-categorical-explanatory-variable-1"><i class="fa fa-check"></i><b>12.2.2</b> One categorical explanatory variable</a></li>
<li class="chapter" data-level="12.2.3" data-path="12-classification.html"><a href="12-classification.html#one-numerical-explanatory-variable-1"><i class="fa fa-check"></i><b>12.2.3</b> One numerical explanatory variable</a></li>
<li class="chapter" data-level="12.2.4" data-path="12-classification.html"><a href="12-classification.html#multiple-explanatory-variables"><i class="fa fa-check"></i><b>12.2.4</b> Multiple explanatory variables</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="12-classification.html"><a href="12-classification.html#random-forests"><i class="fa fa-check"></i><b>12.3</b> Random forests</a><ul>
<li class="chapter" data-level="12.3.1" data-path="12-classification.html"><a href="12-classification.html#what-are-random-forests"><i class="fa fa-check"></i><b>12.3.1</b> What are random forests?</a></li>
<li class="chapter" data-level="12.3.2" data-path="12-classification.html"><a href="12-classification.html#fitting-random-forests"><i class="fa fa-check"></i><b>12.3.2</b> Fitting random forests</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="12-classification.html"><a href="12-classification.html#comparing-the-three-approaches"><i class="fa fa-check"></i><b>12.4</b> Comparing the three approaches</a><ul>
<li class="chapter" data-level="12.4.1" data-path="12-classification.html"><a href="12-classification.html#is-accuracy-the-right-measure"><i class="fa fa-check"></i><b>12.4.1</b> Is accuracy the right measure?</a></li>
<li class="chapter" data-level="12.4.2" data-path="12-classification.html"><a href="12-classification.html#modeling-for-prediction-vs.-explanation"><i class="fa fa-check"></i><b>12.4.2</b> Modeling for prediction vs. explanation</a></li>
<li class="chapter" data-level="12.4.3" data-path="12-classification.html"><a href="12-classification.html#out-of-sample-predictions"><i class="fa fa-check"></i><b>12.4.3</b> Out-of-sample predictions</a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="A-productivity.html"><a href="A-productivity.html"><i class="fa fa-check"></i><b>A</b> Productivity</a><ul>
<li class="chapter" data-level="A.1" data-path="A-productivity.html"><a href="A-productivity.html#set-up"><i class="fa fa-check"></i><b>A.1</b> Set Up</a><ul>
<li class="chapter" data-level="A.1.1" data-path="A-productivity.html"><a href="A-productivity.html#terminal-on-mac"><i class="fa fa-check"></i><b>A.1.1</b> Accessing the terminal on a Mac</a></li>
<li class="chapter" data-level="A.1.2" data-path="A-productivity.html"><a href="A-productivity.html#installing-git-on-the-mac"><i class="fa fa-check"></i><b>A.1.2</b> Installing Git on the Mac</a></li>
<li class="chapter" data-level="A.1.3" data-path="A-productivity.html"><a href="A-productivity.html#installing-git-and-git-bash-on-windows"><i class="fa fa-check"></i><b>A.1.3</b> Installing Git and Git Bash on Windows</a></li>
<li class="chapter" data-level="A.1.4" data-path="A-productivity.html"><a href="A-productivity.html#terminal-on-windows"><i class="fa fa-check"></i><b>A.1.4</b> Accessing the terminal on Windows</a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="A-productivity.html"><a href="A-productivity.html#unix"><i class="fa fa-check"></i><b>A.2</b> Organizing with Unix</a><ul>
<li class="chapter" data-level="A.2.1" data-path="A-productivity.html"><a href="A-productivity.html#naming-convention"><i class="fa fa-check"></i><b>A.2.1</b> Naming convention</a></li>
<li class="chapter" data-level="A.2.2" data-path="A-productivity.html"><a href="A-productivity.html#the-terminal"><i class="fa fa-check"></i><b>A.2.2</b> The terminal</a></li>
<li class="chapter" data-level="A.2.3" data-path="A-productivity.html"><a href="A-productivity.html#filesystem"><i class="fa fa-check"></i><b>A.2.3</b> The filesystem</a></li>
<li class="chapter" data-level="A.2.4" data-path="A-productivity.html"><a href="A-productivity.html#directories-and-subdirectories"><i class="fa fa-check"></i><b>A.2.4</b> Directories and subdirectories</a></li>
<li class="chapter" data-level="A.2.5" data-path="A-productivity.html"><a href="A-productivity.html#the-home-directory"><i class="fa fa-check"></i><b>A.2.5</b> The home directory</a></li>
<li class="chapter" data-level="A.2.6" data-path="A-productivity.html"><a href="A-productivity.html#working-directory"><i class="fa fa-check"></i><b>A.2.6</b> Working directory</a></li>
<li class="chapter" data-level="A.2.7" data-path="A-productivity.html"><a href="A-productivity.html#paths"><i class="fa fa-check"></i><b>A.2.7</b> Paths</a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="A-productivity.html"><a href="A-productivity.html#unix-commands"><i class="fa fa-check"></i><b>A.3</b> Unix commands</a><ul>
<li class="chapter" data-level="A.3.1" data-path="A-productivity.html"><a href="A-productivity.html#ls-listing-directory-content"><i class="fa fa-check"></i><b>A.3.1</b> <code>ls</code>: Listing directory content</a></li>
<li class="chapter" data-level="A.3.2" data-path="A-productivity.html"><a href="A-productivity.html#mkdir-and-rmdir-make-and-remove-a-directory"><i class="fa fa-check"></i><b>A.3.2</b> <code>mkdir</code> and <code>rmdir</code>: make and remove a directory</a></li>
<li class="chapter" data-level="A.3.3" data-path="A-productivity.html"><a href="A-productivity.html#cd-navigating-the-filesystem-by-changing-directories"><i class="fa fa-check"></i><b>A.3.3</b> <code>cd</code>: navigating the filesystem by changing directories</a></li>
<li class="chapter" data-level="A.3.4" data-path="A-productivity.html"><a href="A-productivity.html#some-examples"><i class="fa fa-check"></i><b>A.3.4</b> Some examples</a></li>
<li class="chapter" data-level="A.3.5" data-path="A-productivity.html"><a href="A-productivity.html#more-unix-commands"><i class="fa fa-check"></i><b>A.3.5</b> More Unix commands</a></li>
<li class="chapter" data-level="A.3.6" data-path="A-productivity.html"><a href="A-productivity.html#advanced-unix"><i class="fa fa-check"></i><b>A.3.6</b> Advanced Unix</a></li>
<li class="chapter" data-level="A.3.7" data-path="A-productivity.html"><a href="A-productivity.html#file-manipulation-in-r"><i class="fa fa-check"></i><b>A.3.7</b> File manipulation in R</a></li>
</ul></li>
<li class="chapter" data-level="A.4" data-path="A-productivity.html"><a href="A-productivity.html#git"><i class="fa fa-check"></i><b>A.4</b> Git and GitHub</a><ul>
<li class="chapter" data-level="A.4.1" data-path="A-productivity.html"><a href="A-productivity.html#github-accounts"><i class="fa fa-check"></i><b>A.4.1</b> GitHub accounts</a></li>
<li class="chapter" data-level="A.4.2" data-path="A-productivity.html"><a href="A-productivity.html#github-repos"><i class="fa fa-check"></i><b>A.4.2</b> GitHub repositories</a></li>
<li class="chapter" data-level="A.4.3" data-path="A-productivity.html"><a href="A-productivity.html#git-overview"><i class="fa fa-check"></i><b>A.4.3</b> Overview of Git</a></li>
<li class="chapter" data-level="A.4.4" data-path="A-productivity.html"><a href="A-productivity.html#rstudio-git"><i class="fa fa-check"></i><b>A.4.4</b> Using Git and GitHub in RStudio</a></li>
</ul></li>
<li class="chapter" data-level="A.5" data-path="A-productivity.html"><a href="A-productivity.html#r"><i class="fa fa-check"></i><b>A.5</b> R</a><ul>
<li class="chapter" data-level="A.5.1" data-path="A-productivity.html"><a href="A-productivity.html#rstudio-projects"><i class="fa fa-check"></i><b>A.5.1</b> RStudio projects</a></li>
<li class="chapter" data-level="A.5.2" data-path="A-productivity.html"><a href="A-productivity.html#r-markdown"><i class="fa fa-check"></i><b>A.5.2</b> R markdown</a></li>
<li class="chapter" data-level="A.5.3" data-path="A-productivity.html"><a href="A-productivity.html#help-for-r"><i class="fa fa-check"></i><b>A.5.3</b> Help for R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="B" data-path="B-getting-help.html"><a href="B-getting-help.html"><i class="fa fa-check"></i><b>B</b> Getting Help</a><ul>
<li class="chapter" data-level="B.1" data-path="B-getting-help.html"><a href="B-getting-help.html#searching-for-help-with-r-1"><i class="fa fa-check"></i><b>B.1</b> Searching for Help with R</a></li>
<li class="chapter" data-level="B.2" data-path="B-getting-help.html"><a href="B-getting-help.html#reproducible-examples-1"><i class="fa fa-check"></i><b>B.2</b> Reproducible Examples</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="C-shiny.html"><a href="C-shiny.html"><i class="fa fa-check"></i><b>C</b> Shiny</a><ul>
<li class="chapter" data-level="C.1" data-path="C-shiny.html"><a href="C-shiny.html#helpful-resources"><i class="fa fa-check"></i><b>C.1</b> Helpful Resources</a></li>
<li class="chapter" data-level="C.2" data-path="C-shiny.html"><a href="C-shiny.html#set-up-and-getting-started"><i class="fa fa-check"></i><b>C.2</b> Set Up and Getting Started</a></li>
<li class="chapter" data-level="C.3" data-path="C-shiny.html"><a href="C-shiny.html#building-your-basic-app"><i class="fa fa-check"></i><b>C.3</b> Building Your Basic App</a><ul>
<li class="chapter" data-level="C.3.1" data-path="C-shiny.html"><a href="C-shiny.html#setting-up-the-basic-ui"><i class="fa fa-check"></i><b>C.3.1</b> Setting Up the Basic UI</a></li>
<li class="chapter" data-level="C.3.2" data-path="C-shiny.html"><a href="C-shiny.html#setting-up-the-server"><i class="fa fa-check"></i><b>C.3.2</b> Setting up the Server</a></li>
</ul></li>
<li class="chapter" data-level="C.4" data-path="C-shiny.html"><a href="C-shiny.html#organization"><i class="fa fa-check"></i><b>C.4</b> Organization</a></li>
<li class="chapter" data-level="C.5" data-path="C-shiny.html"><a href="C-shiny.html#customizations"><i class="fa fa-check"></i><b>C.5</b> Customizations</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="D-maps.html"><a href="D-maps.html"><i class="fa fa-check"></i><b>D</b> Maps</a><ul>
<li class="chapter" data-level="D.1" data-path="D-maps.html"><a href="D-maps.html#tidycensus"><i class="fa fa-check"></i><b>D.1</b> Tidycensus</a></li>
<li class="chapter" data-level="D.2" data-path="D-maps.html"><a href="D-maps.html#conceptual-introduction-to-mapping"><i class="fa fa-check"></i><b>D.2</b> Conceptual introduction to mapping</a><ul>
<li class="chapter" data-level="D.2.1" data-path="D-maps.html"><a href="D-maps.html#vector-versus-spatial-data"><i class="fa fa-check"></i><b>D.2.1</b> Vector versus spatial data</a></li>
<li class="chapter" data-level="D.2.2" data-path="D-maps.html"><a href="D-maps.html#sf-vs-sp"><i class="fa fa-check"></i><b>D.2.2</b> <strong>sf</strong> vs <strong>sp</strong></a></li>
<li class="chapter" data-level="D.2.3" data-path="D-maps.html"><a href="D-maps.html#shapefiles"><i class="fa fa-check"></i><b>D.2.3</b> Shapefiles</a></li>
</ul></li>
<li class="chapter" data-level="D.3" data-path="D-maps.html"><a href="D-maps.html#mapping-with-tidycensus-and-geom_sf"><i class="fa fa-check"></i><b>D.3</b> Mapping with <strong>tidycensus</strong> and <code>geom_sf()</code></a><ul>
<li class="chapter" data-level="D.3.1" data-path="D-maps.html"><a href="D-maps.html#making-maps-pretty"><i class="fa fa-check"></i><b>D.3.1</b> Making maps pretty</a></li>
<li class="chapter" data-level="D.3.2" data-path="D-maps.html"><a href="D-maps.html#adding-back-alaska-and-hawaii"><i class="fa fa-check"></i><b>D.3.2</b> Adding back Alaska and Hawaii</a></li>
</ul></li>
<li class="chapter" data-level="D.4" data-path="D-maps.html"><a href="D-maps.html#faceting-maps"><i class="fa fa-check"></i><b>D.4</b> Faceting maps</a><ul>
<li class="chapter" data-level="D.4.1" data-path="D-maps.html"><a href="D-maps.html#transforming-and-mapping-the-data"><i class="fa fa-check"></i><b>D.4.1</b> Transforming and mapping the data</a></li>
</ul></li>
<li class="chapter" data-level="D.5" data-path="D-maps.html"><a href="D-maps.html#want-to-explore-further"><i class="fa fa-check"></i><b>D.5</b> Want to explore further?</a></li>
</ul></li>
<li class="chapter" data-level="E" data-path="E-animation.html"><a href="E-animation.html"><i class="fa fa-check"></i><b>E</b> Animation</a><ul>
<li class="chapter" data-level="E.1" data-path="E-animation.html"><a href="E-animation.html#gganimate-how-to-create-plots-with-beautiful-animation-in-r"><i class="fa fa-check"></i><b>E.1</b> gganimate: How to Create Plots with Beautiful Animation in R</a><ul>
<li class="chapter" data-level="E.1.1" data-path="E-animation.html"><a href="E-animation.html#prerequisites"><i class="fa fa-check"></i><b>E.1.1</b> Prerequisites</a></li>
<li class="chapter" data-level="E.1.2" data-path="E-animation.html"><a href="E-animation.html#demo-dataset"><i class="fa fa-check"></i><b>E.1.2</b> Demo dataset</a></li>
<li class="chapter" data-level="E.1.3" data-path="E-animation.html"><a href="E-animation.html#static-plot"><i class="fa fa-check"></i><b>E.1.3</b> Static plot</a></li>
<li class="chapter" data-level="E.1.4" data-path="E-animation.html"><a href="E-animation.html#transition-through-distinct-states-in-time"><i class="fa fa-check"></i><b>E.1.4</b> Transition through distinct states in time</a></li>
<li class="chapter" data-level="E.1.5" data-path="E-animation.html"><a href="E-animation.html#reveal-data-along-a-given-dimension"><i class="fa fa-check"></i><b>E.1.5</b> Reveal data along a given dimension</a></li>
<li class="chapter" data-level="E.1.6" data-path="E-animation.html"><a href="E-animation.html#transition-between-several-distinct-stages-of-the-data"><i class="fa fa-check"></i><b>E.1.6</b> Transition between several distinct stages of the data</a></li>
<li class="chapter" data-level="E.1.7" data-path="E-animation.html"><a href="E-animation.html#read-more"><i class="fa fa-check"></i><b>E.1.7</b> Read more</a></li>
</ul></li>
<li class="chapter" data-level="E.2" data-path="E-animation.html"><a href="E-animation.html#how-to-save-your-animation"><i class="fa fa-check"></i><b>E.2</b> How to save your animation</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-1.html"><a href="references-1.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Preceptor’s Primer for Bayesian Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="maps" class="section level1">
<h1><span class="header-section-number">D</span> Maps</h1>
<!-- Self-contained introduction to mapping. -->
<!-- First, provide a self-contained introduction to tidycensus. Use the excuse: "Before we can create maps, we must get data." These articles  (https://walkerke.github.io/tidycensus/articles/basic-usage.html and https://walkerke.github.io/tidycensus/articles/spatial-data.html) are not bad. But they are too detailed. Needs to be simpler. Note that this is not open sourced, so you can't just copy and paste. But we can/should follow it very closely. Students will need to get census API keys.  -->
<!-- Second, use [Andrew Tran](https://github.com/andrewbtran/NICAR-2019-mapping) which is open source. Just copy the whole thing as a starting point. Then, rest of time, clean up and clarify as best you can. -->
<!-- This chapter is important because there is no simple, modern self-contained introduction to mapping, using geom_sf(),  that I can find. And lots of students will want to use maps in their final project. But this does need to be simple since students will be going through it during week 4. -->
<p>In order to make maps, we first need some data.<a href="#fn26" class="footnote-ref" id="fnref26"><sup>26</sup></a></p>
<div id="tidycensus" class="section level2">
<h2><span class="header-section-number">D.1</span> Tidycensus</h2>
<p>The <strong>tidycensus</strong> package is a great way to load interesting data for mapping. Note that to use this package, <strong>you’ll need a Census API key.</strong> You can request a key <a href="https://api.census.gov/data/key_signup.html">here</a>. Once you have a key, you’ll need the following two commands to use the package:</p>
<div class="sourceCode" id="cb976"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb976-1"><a href="D-maps.html#cb976-1"></a><span class="kw">library</span>(tidycensus)</span>
<span id="cb976-2"><a href="D-maps.html#cb976-2"></a></span>
<span id="cb976-3"><a href="D-maps.html#cb976-3"></a><span class="kw">census_api_key</span>(<span class="st">&quot;API KEY&quot;</span>)</span></code></pre></div>
<!-- AR: For this code to work, you have to have an actual API key in here. So we don't have to worry about keys expiring, etc., I've saved the RDS files and will load them in the script. -->
<p>where <code>"API KEY"</code> is replaced with your API key.<a href="#fn27" class="footnote-ref" id="fnref27"><sup>27</sup></a></p>
<p>How can we retrieve each state’s population from the 2010 Census? To get data from the decennial census, you can use the function <code>get_decennial()</code>.<a href="#fn28" class="footnote-ref" id="fnref28"><sup>28</sup></a> It only takes three arguments to get the data we want:</p>
<ul>
<li><code>geography</code> determines the unit of analysis. Here, we use “state”, but there are many other <a href="https://walkerke.github.io/tidycensus/articles/basic-usage.html#geography-in-tidycensus">geographies</a> you could use, such as “us” for the entire country, “county” for counties, and so on.</li>
<li><code>variables</code> selects which Census variables you want. Unfortunately, they have rather opaque names. If you didn’t know that “P001001” was the variable name for population, you have a couple of options:
<ul>
<li>Use the <code>load_variables()</code> function in <strong>tidycensus</strong> to generate a tibble of variable names (described <a href="https://walkerke.github.io/tidycensus/articles/basic-usage.html#searching-for-variables">here</a>).</li>
<li>Search on <a href="https://data.census.gov">data.census.gov</a> for the variable you want and download the results of the search; the variable name will be in the .csv file.</li>
</ul></li>
<li><code>year</code> is the year. <code>get_decennial()</code> can obtain data from the 1990, 2000, and 2010 Census.</li>
</ul>
<div class="sourceCode" id="cb977"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb977-1"><a href="D-maps.html#cb977-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb977-2"><a href="D-maps.html#cb977-2"></a></span>
<span id="cb977-3"><a href="D-maps.html#cb977-3"></a>pop &lt;-<span class="st"> </span><span class="kw">get_decennial</span>(<span class="dt">geography =</span> <span class="st">&quot;state&quot;</span>,</span>
<span id="cb977-4"><a href="D-maps.html#cb977-4"></a>                     <span class="dt">variables =</span> <span class="st">&quot;P001001&quot;</span>,</span>
<span id="cb977-5"><a href="D-maps.html#cb977-5"></a>                     <span class="dt">year =</span> <span class="dv">2010</span>)</span>
<span id="cb977-6"><a href="D-maps.html#cb977-6"></a><span class="kw">glimpse</span>(pop)</span></code></pre></div>
<pre><code>## Rows: 52
## Columns: 4
## $ GEOID    &lt;chr&gt; &quot;01&quot;, &quot;02&quot;, &quot;04&quot;, &quot;05&quot;, &quot;06&quot;, &quot;22&quot;, &quot;21&quot;, &quot;08&quot;, &quot;09&quot;, &quot;10&quot;, …
## $ NAME     &lt;chr&gt; &quot;Alabama&quot;, &quot;Alaska&quot;, &quot;Arizona&quot;, &quot;Arkansas&quot;, &quot;California&quot;, &quot;L…
## $ variable &lt;chr&gt; &quot;P001001&quot;, &quot;P001001&quot;, &quot;P001001&quot;, &quot;P001001&quot;, &quot;P001001&quot;, &quot;P001…
## $ value    &lt;dbl&gt; 4779736, 710231, 6392017, 2915918, 37253956, 4533372, 433936…</code></pre>
<p>The output is a tibble with four columns:</p>
<ul>
<li><code>GEOID</code> is part of the FIPS code, which is short for Federal Information Processing Standard. It’s a standardized way to identify states, counties, census tracts, etc. In this instance it’s only two digits wide. The more specific you get into the Census boundaries, the longer the number gets.</li>
<li><code>NAME</code> is the generic name <code>get_decennial()</code> gives to the unit you selected with <code>geography</code>; here, they are state names. Note that there are 52 observations; the “state” geography includes D.C. and Puerto Rico along with the 50 states.</li>
<li><code>variable</code> is the name of the variable you selected.</li>
<li><code>value</code> is the value of the variable you selected (here, population).</li>
</ul>
<p>What if you wanted to select more than one variable? By default, <code>get_decennial()</code> will stack all the variables on top of each other, identifying them with the <code>variable</code> column. So let’s say that you wanted to know the proportion of the population of each state that lives in rural areas. You would select two variables (total population and rural population) and would receive a tibble with 104 observations, with each state appearing once per variable. This may not be the most helpful way to receive the data, depending on your purposes. (When faceting, you may want the data in a long format like this, as we’ll see below.) You can request the data in wide format instead by using the option <code>output = "wide"</code>.</p>
<div class="sourceCode" id="cb979"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb979-1"><a href="D-maps.html#cb979-1"></a>rural &lt;-<span class="st"> </span><span class="kw">get_decennial</span>(<span class="dt">geography =</span> <span class="st">&quot;state&quot;</span>,</span>
<span id="cb979-2"><a href="D-maps.html#cb979-2"></a>                       <span class="dt">variables =</span> <span class="kw">c</span>(<span class="st">&quot;P001001&quot;</span>, <span class="st">&quot;P002005&quot;</span>),</span>
<span id="cb979-3"><a href="D-maps.html#cb979-3"></a>                       <span class="dt">year =</span> <span class="dv">2010</span>,</span>
<span id="cb979-4"><a href="D-maps.html#cb979-4"></a>                       <span class="dt">output =</span> <span class="st">&quot;wide&quot;</span>)</span>
<span id="cb979-5"><a href="D-maps.html#cb979-5"></a><span class="kw">glimpse</span>(rural)</span></code></pre></div>
<pre><code>## Rows: 52
## Columns: 4
## $ GEOID   &lt;chr&gt; &quot;01&quot;, &quot;02&quot;, &quot;04&quot;, &quot;05&quot;, &quot;06&quot;, &quot;22&quot;, &quot;21&quot;, &quot;08&quot;, &quot;09&quot;, &quot;10&quot;, &quot;…
## $ NAME    &lt;chr&gt; &quot;Alabama&quot;, &quot;Alaska&quot;, &quot;Arizona&quot;, &quot;Arkansas&quot;, &quot;California&quot;, &quot;Lo…
## $ P001001 &lt;dbl&gt; 4779736, 710231, 6392017, 2915918, 37253956, 4533372, 4339367…
## $ P002005 &lt;dbl&gt; 1957932, 241338, 651358, 1278329, 1880350, 1215567, 1806024, …</code></pre>
<p>Here, we created a tibble with states in the rows and total population (“P001001”) and rural population (“P002005”) in the columns. To plot the proportion of each state’s population is that lives in rural areas is now a simple application of <strong>tidyverse</strong> functions we know and love. First, let’s create a variable for rural population proportion and order the states by that variable:</p>
<!-- AR: at some point it would be good to introduce the compound assignment
pipe operator %<>% from magrittr so we don't have to type things like rural <-
rural -->
<div class="sourceCode" id="cb981"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb981-1"><a href="D-maps.html#cb981-1"></a>rural &lt;-<span class="st"> </span>rural <span class="op">%&gt;%</span></span>
<span id="cb981-2"><a href="D-maps.html#cb981-2"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">state =</span> NAME) <span class="op">%&gt;%</span></span>
<span id="cb981-3"><a href="D-maps.html#cb981-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">prop_rural =</span> P002005<span class="op">/</span>P001001,</span>
<span id="cb981-4"><a href="D-maps.html#cb981-4"></a>         <span class="dt">state =</span> <span class="kw">reorder</span>(state, prop_rural))</span></code></pre></div>
<p>Next, let’s plot this using <code>ggplot()</code>:</p>
<div class="sourceCode" id="cb982"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb982-1"><a href="D-maps.html#cb982-1"></a>rural <span class="op">%&gt;%</span></span>
<span id="cb982-2"><a href="D-maps.html#cb982-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> prop_rural, <span class="dt">y =</span> state)) <span class="op">+</span></span>
<span id="cb982-3"><a href="D-maps.html#cb982-3"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb982-4"><a href="D-maps.html#cb982-4"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;&quot;</span>) <span class="op">+</span></span>
<span id="cb982-5"><a href="D-maps.html#cb982-5"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Rural Population Proportion&quot;</span>)</span></code></pre></div>
<p><img src="Preceptor%E2%80%99s-Primer-for-Bayesian-Data-Science_files/figure-html/unnamed-chunk-714-1.png" width="672" /></p>
<p>This kind of plot is great if we want to visualize which states are the most rural and which states are the least. We see immediately that Maine and Vermont are very rural and that D.C. is entirely urban (as one expect, given that it is a city). But what if we wanted a sense of how the proportion of rural residents varied geographically? We could figure this out from a plot like the one above if we know something about U.S. geography. It would be so much easier, however, if we could see this information directly on a map of the United States. As we’ll see, R makes this easy to do.</p>
</div>
<div id="conceptual-introduction-to-mapping" class="section level2">
<h2><span class="header-section-number">D.2</span> Conceptual introduction to mapping</h2>
<!-- AR: This section and the next takes a lot of material from Andrew Tran.  I
skipped the parts about why to use R (this book is all about R!) and the
material that is irrelevant since we started with tidycensus.  Also, I left out
leaflet at the end, which was discussed very quickly, but I provide a link to a
blog post that goes into more detail about using leaflet with tidycensus. -->
<p>There are two underlying important pieces of information for spatial data: the coordinates of the object and how the coordinates relate to a physical location on Earth, which is also known as a coordinate reference system or <strong>CRS</strong>.</p>
<p>The coordinates are familiar from geography. A CRS uses a three-dimensional model of the earth to define specific locations on the surface of the grid. An object can be defined in relation to longitude (East/West) and latitude (North/South).</p>
<p>Where this gets complicated is when attempting to create a projection. A projection is a translation of the three-dimensional grid onto a two-dimensional plane. The animation below demonstrates this process.</p>
<p><img src="images/gifs/projection_tween.gif" /></p>
<p>Thus, the CRS determines how a geometric object will look when displayed on your two-dimensional screen. As we will see, you usually don’t need to select a CRS when working with <strong>tidycensus</strong>, but it is good to know about the concept if you ever work with other spatial data.</p>
<div id="vector-versus-spatial-data" class="section level3">
<h3><span class="header-section-number">D.2.1</span> Vector versus spatial data</h3>
<p>Spatial data with a defined CRS can either be vector or raster data. Vector data is based on points that can be connected to form lines and polygons. It is located within a <em>coordinate reference system.</em> An example is a road map.</p>
<p>Raster data, however, are values within a <em>grid system,</em> such as satellite imagery. In this book, we will only be dealing with vector data, which is the format in which we get data from the <strong>tidycensus</strong> package.</p>
</div>
<div id="sf-vs-sp" class="section level3">
<h3><span class="header-section-number">D.2.2</span> <strong>sf</strong> vs <strong>sp</strong></h3>
<p>An older package, <strong>sp</strong>, lets a user handle both vector and raster data. This book will focus on vector data and the <strong>sf</strong> package. The main differences between the <strong>sp</strong> and <strong>sf</strong> packages are how they store CRS information. While <strong>sp</strong> uses spatial sub classes, <strong>sf</strong> stores data in data frames, allowing it to interact with <strong>dplyr</strong> methods we’ve learned so far.</p>
</div>
<div id="shapefiles" class="section level3">
<h3><span class="header-section-number">D.2.3</span> Shapefiles</h3>
<p>R can handle importing different kinds of file formats for spatial data, including KML and geojson. We’ll focus on shapefiles, which were created by Esri in the 1990s. Though we refer to a “shapefile” in the singular, it’s actually a collection of at least three basic files:</p>
<ul>
<li>.shp - lists shape and vertices</li>
<li>.shx - has index with offsets</li>
<li>.dbf - relationship file between geometry and attributes (data)</li>
</ul>
<p>All files must be present in the directory and named the same (except for the file extension) to import correctly. Thankfully, <strong>tidycensus</strong> will grab the geometric information from the Census shapefile for you.</p>
</div>
</div>
<div id="mapping-with-tidycensus-and-geom_sf" class="section level2">
<h2><span class="header-section-number">D.3</span> Mapping with <strong>tidycensus</strong> and <code>geom_sf()</code></h2>
<p>In order to start mapping in R, we need to get a little more data from the <strong>tidycensus</strong> package. We can use the same <code>get_decennial()</code> function as before, this time adding the argument <code>geometry = TRUE</code>.</p>
<div class="sourceCode" id="cb983"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb983-1"><a href="D-maps.html#cb983-1"></a>rural &lt;-<span class="st"> </span><span class="kw">get_decennial</span>(<span class="dt">geography =</span> <span class="st">&quot;state&quot;</span>,</span>
<span id="cb983-2"><a href="D-maps.html#cb983-2"></a>                       <span class="dt">variables =</span> <span class="kw">c</span>(<span class="st">&quot;P001001&quot;</span>, <span class="st">&quot;P002005&quot;</span>),</span>
<span id="cb983-3"><a href="D-maps.html#cb983-3"></a>                       <span class="dt">year =</span> <span class="dv">2010</span>,</span>
<span id="cb983-4"><a href="D-maps.html#cb983-4"></a>                       <span class="dt">output =</span> <span class="st">&quot;wide&quot;</span>,</span>
<span id="cb983-5"><a href="D-maps.html#cb983-5"></a>                       <span class="dt">geometry =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></span>
<span id="cb983-6"><a href="D-maps.html#cb983-6"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">state =</span> NAME) <span class="op">%&gt;%</span></span>
<span id="cb983-7"><a href="D-maps.html#cb983-7"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">prop_rural =</span> P002005<span class="op">/</span>P001001,</span>
<span id="cb983-8"><a href="D-maps.html#cb983-8"></a>         <span class="dt">state =</span> <span class="kw">reorder</span>(state, prop_rural))</span>
<span id="cb983-9"><a href="D-maps.html#cb983-9"></a></span>
<span id="cb983-10"><a href="D-maps.html#cb983-10"></a><span class="kw">glimpse</span>(rural)</span></code></pre></div>
<pre><code>## Rows: 52
## Columns: 6
## $ GEOID      &lt;chr&gt; &quot;01&quot;, &quot;02&quot;, &quot;04&quot;, &quot;05&quot;, &quot;06&quot;, &quot;22&quot;, &quot;21&quot;, &quot;08&quot;, &quot;09&quot;, &quot;10&quot;…
## $ state      &lt;fct&gt; Alabama, Alaska, Arizona, Arkansas, California, Louisiana,…
## $ P001001    &lt;dbl&gt; 4779736, 710231, 6392017, 2915918, 37253956, 4533372, 4339…
## $ P002005    &lt;dbl&gt; 1957932, 241338, 651358, 1278329, 1880350, 1215567, 180602…
## $ geometry   &lt;MULTIPOLYGON [°]&gt; MULTIPOLYGON (((-85 31, -85..., MULTIPOLYGON …
## $ prop_rural &lt;dbl&gt; 0.4096, 0.3398, 0.1019, 0.4384, 0.0505, 0.2681, 0.4162, 0.…</code></pre>
<p>This is just like the tibble we had before, except now we have this funky “multipolygon” called <code>geometry</code>.<a href="#fn29" class="footnote-ref" id="fnref29"><sup>29</sup></a> The <code>geometry</code> column contains all the information <code>ggplot()</code> needs to create a map.</p>
<p>In order to create a map using <code>ggplot()</code>, we need a new geom: <code>geom_sf()</code>. This works much like the geoms we have seen before, such as <code>geom_point()</code> and <code>geom_line()</code>, except this works with spatial data. Let’s see what happens if we run <code>geom_sf()</code> with no arguments:</p>
<div class="sourceCode" id="cb985"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb985-1"><a href="D-maps.html#cb985-1"></a>rural <span class="op">%&gt;%</span></span>
<span id="cb985-2"><a href="D-maps.html#cb985-2"></a><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></span>
<span id="cb985-3"><a href="D-maps.html#cb985-3"></a><span class="st">  </span><span class="kw">geom_sf</span>()</span></code></pre></div>
<p><img src="Preceptor%E2%80%99s-Primer-for-Bayesian-Data-Science_files/figure-html/unnamed-chunk-717-1.png" width="672" /></p>
<p>Well, that’s interesting. We have the boundaries of each state, including Alaska and Hawaii. But there are some problems. <strong>ggplot2</strong> is doing its best to fit everything on one image, which is taxing on the system. We can’t see any particular state very well, because the map is zoomed far out. Also, there are no colors because we didn’t fill it with our data.</p>
<p>So, let’s create a new map with <code>geom_sf()</code> and fill it with <code>prop_rural</code>. And we’ll filter out Alaska, Hawaii, and Puerto Rico for now.</p>
<div class="sourceCode" id="cb986"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb986-1"><a href="D-maps.html#cb986-1"></a>rural <span class="op">%&gt;%</span></span>
<span id="cb986-2"><a href="D-maps.html#cb986-2"></a><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="st"> </span>state <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Alaska&quot;</span>, <span class="st">&quot;Hawaii&quot;</span>, <span class="st">&quot;Puerto Rico&quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb986-3"><a href="D-maps.html#cb986-3"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> prop_rural)) <span class="op">+</span></span>
<span id="cb986-4"><a href="D-maps.html#cb986-4"></a><span class="st">  </span><span class="kw">geom_sf</span>()</span></code></pre></div>
<p><img src="Preceptor%E2%80%99s-Primer-for-Bayesian-Data-Science_files/figure-html/unnamed-chunk-718-1.png" width="672" /></p>
<p>Now we have something usable! This already has a lot of what we’d want from a map—most notably, the states are shaded based on our variable of interest, helping us to see some patterns in the data. But it could use a bit of a makeover, which we’ll give it in the next section.</p>
<div id="making-maps-pretty" class="section level3">
<h3><span class="header-section-number">D.3.1</span> Making maps pretty</h3>
<p>There are a few ways we can aesthetically improve this map:</p>
<ul>
<li>Make the fill colors easier to distinguish</li>
<li>Make it so that darker colors map onto higher values of <code>prop_rural</code></li>
<li>Remove the gray background</li>
<li>Give the legend an informative title and add a title and caption</li>
</ul>
<p>A great function for providing the fill colors for maps is <code>scale_fill_viridis_c()</code>. This has a few different color palettes that can be selected with the <code>option</code> argument, all of which are easily distinguishable both when displayed in black and white and for people with common forms of colorblindness. You can also reverse the default order of the colors with the <code>direction = -1</code> option. This function is for continuous variables such as <code>prop_rural</code>; if you have a discrete variable, you can use the analogous <code>scale_fill_viridis_d()</code>.</p>
<p>We’ll also use <code>theme_void()</code>, a great theme for maps that gets rid of the gray background. Finally, we’ll use <code>labs()</code> to give the legend the title “Percent Rural” (and multiply the values of the variable by 100) and add an overall title and caption.</p>
<div class="sourceCode" id="cb987"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb987-1"><a href="D-maps.html#cb987-1"></a>rural <span class="op">%&gt;%</span></span>
<span id="cb987-2"><a href="D-maps.html#cb987-2"></a><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="st"> </span>state <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Alaska&quot;</span>, <span class="st">&quot;Hawaii&quot;</span>, <span class="st">&quot;Puerto Rico&quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb987-3"><a href="D-maps.html#cb987-3"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> prop_rural <span class="op">*</span><span class="st"> </span><span class="dv">100</span>)) <span class="op">+</span></span>
<span id="cb987-4"><a href="D-maps.html#cb987-4"></a><span class="st">  </span><span class="kw">geom_sf</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb987-5"><a href="D-maps.html#cb987-5"></a><span class="st">  </span><span class="kw">scale_fill_viridis_c</span>(<span class="dt">option =</span> <span class="st">&quot;plasma&quot;</span>,</span>
<span id="cb987-6"><a href="D-maps.html#cb987-6"></a>                       <span class="dt">direction =</span> <span class="dv">-1</span>) <span class="op">+</span></span>
<span id="cb987-7"><a href="D-maps.html#cb987-7"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Rural geography of the United States&quot;</span>,</span>
<span id="cb987-8"><a href="D-maps.html#cb987-8"></a>       <span class="dt">caption =</span> <span class="st">&quot;Source: Census 2010&quot;</span>,</span>
<span id="cb987-9"><a href="D-maps.html#cb987-9"></a>       <span class="dt">fill =</span> <span class="st">&quot;Percent Rural&quot;</span>) <span class="op">+</span></span>
<span id="cb987-10"><a href="D-maps.html#cb987-10"></a><span class="st">  </span><span class="kw">theme_void</span>()</span></code></pre></div>
<p><img src="Preceptor%E2%80%99s-Primer-for-Bayesian-Data-Science_files/figure-html/unnamed-chunk-719-1.png" width="672" /></p>
<p>With this map, it is clear that the more rural states are concentrated in the Great Plains, the South, and parts of New England, while the (South)west and Northeast are less rural.</p>
</div>
<div id="adding-back-alaska-and-hawaii" class="section level3">
<h3><span class="header-section-number">D.3.2</span> Adding back Alaska and Hawaii</h3>
<p>But what about Alaska and Hawaii? If you want to display those on your map without having to zoom out, you can take advantage of an argument in <code>get_decennial()</code>, <code>shift_geo = TRUE</code>:</p>
<div class="sourceCode" id="cb988"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb988-1"><a href="D-maps.html#cb988-1"></a>rural_shifted &lt;-<span class="st"> </span><span class="kw">get_decennial</span>(<span class="dt">geography =</span> <span class="st">&quot;state&quot;</span>,</span>
<span id="cb988-2"><a href="D-maps.html#cb988-2"></a>                               <span class="dt">variables =</span> <span class="kw">c</span>(<span class="st">&quot;P001001&quot;</span>, <span class="st">&quot;P002005&quot;</span>),</span>
<span id="cb988-3"><a href="D-maps.html#cb988-3"></a>                               <span class="dt">year =</span> <span class="dv">2010</span>,</span>
<span id="cb988-4"><a href="D-maps.html#cb988-4"></a>                               <span class="dt">output =</span> <span class="st">&quot;wide&quot;</span>,</span>
<span id="cb988-5"><a href="D-maps.html#cb988-5"></a>                               <span class="dt">geometry =</span> <span class="ot">TRUE</span>,</span>
<span id="cb988-6"><a href="D-maps.html#cb988-6"></a>                               <span class="dt">shift_geo =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></span>
<span id="cb988-7"><a href="D-maps.html#cb988-7"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">state =</span> NAME) <span class="op">%&gt;%</span></span>
<span id="cb988-8"><a href="D-maps.html#cb988-8"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">prop_rural =</span> P002005<span class="op">/</span>P001001,</span>
<span id="cb988-9"><a href="D-maps.html#cb988-9"></a>         <span class="dt">state =</span> <span class="kw">reorder</span>(state, prop_rural))</span></code></pre></div>
<div class="sourceCode" id="cb989"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb989-1"><a href="D-maps.html#cb989-1"></a>rural_shifted <span class="op">%&gt;%</span></span>
<span id="cb989-2"><a href="D-maps.html#cb989-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> prop_rural <span class="op">*</span><span class="st"> </span><span class="dv">100</span>)) <span class="op">+</span></span>
<span id="cb989-3"><a href="D-maps.html#cb989-3"></a><span class="st">  </span><span class="kw">geom_sf</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb989-4"><a href="D-maps.html#cb989-4"></a><span class="st">  </span><span class="kw">scale_fill_viridis_c</span>(<span class="dt">option =</span> <span class="st">&quot;plasma&quot;</span>,</span>
<span id="cb989-5"><a href="D-maps.html#cb989-5"></a>                       <span class="dt">direction =</span> <span class="dv">-1</span>) <span class="op">+</span></span>
<span id="cb989-6"><a href="D-maps.html#cb989-6"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Rural geography of the United States&quot;</span>,</span>
<span id="cb989-7"><a href="D-maps.html#cb989-7"></a>       <span class="dt">caption =</span> <span class="st">&quot;Source: Census 2010&quot;</span>,</span>
<span id="cb989-8"><a href="D-maps.html#cb989-8"></a>       <span class="dt">fill =</span> <span class="st">&quot;Percent Rural&quot;</span>) <span class="op">+</span></span>
<span id="cb989-9"><a href="D-maps.html#cb989-9"></a><span class="st">  </span><span class="kw">theme_void</span>()</span></code></pre></div>
<p><img src="Preceptor%E2%80%99s-Primer-for-Bayesian-Data-Science_files/figure-html/unnamed-chunk-721-1.png" width="672" /></p>
<p>Now, Alaska and Hawaii can be displayed near the lower 48 states. Note that this option removes Puerto Rico from your tibble altogether, so this is not a good option if you want to show data from Puerto Rico.</p>
</div>
</div>
<div id="faceting-maps" class="section level2">
<h2><span class="header-section-number">D.4</span> Faceting maps</h2>
<p>A powerful tool in <strong>ggplot2</strong> to use with maps is faceting. Let’s grab data from the ACS on the population in Harris County, Texas census tracts by race:</p>
<div class="sourceCode" id="cb990"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb990-1"><a href="D-maps.html#cb990-1"></a>racevars &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dt">White =</span> <span class="st">&quot;B02001_002&quot;</span>, </span>
<span id="cb990-2"><a href="D-maps.html#cb990-2"></a>              <span class="dt">Black =</span> <span class="st">&quot;B02001_003&quot;</span>, </span>
<span id="cb990-3"><a href="D-maps.html#cb990-3"></a>              <span class="dt">Asian =</span> <span class="st">&quot;B02001_005&quot;</span>,</span>
<span id="cb990-4"><a href="D-maps.html#cb990-4"></a>              <span class="dt">Hispanic =</span> <span class="st">&quot;B03003_003&quot;</span>)</span>
<span id="cb990-5"><a href="D-maps.html#cb990-5"></a>harris &lt;-<span class="st"> </span><span class="kw">get_acs</span>(<span class="dt">geography =</span> <span class="st">&quot;tract&quot;</span>,</span>
<span id="cb990-6"><a href="D-maps.html#cb990-6"></a>                  <span class="dt">variables =</span> racevars, </span>
<span id="cb990-7"><a href="D-maps.html#cb990-7"></a>                  <span class="dt">year =</span> <span class="dv">2018</span>,</span>
<span id="cb990-8"><a href="D-maps.html#cb990-8"></a>                  <span class="dt">state =</span> <span class="st">&quot;TX&quot;</span>,</span>
<span id="cb990-9"><a href="D-maps.html#cb990-9"></a>                  <span class="dt">county =</span> <span class="st">&quot;Harris County&quot;</span>,</span>
<span id="cb990-10"><a href="D-maps.html#cb990-10"></a>                  <span class="dt">geometry =</span> <span class="ot">TRUE</span>,</span>
<span id="cb990-11"><a href="D-maps.html#cb990-11"></a>                  <span class="dt">summary_var =</span> <span class="st">&quot;B02001_001&quot;</span>) </span></code></pre></div>
<p>This code is very similar to what we’ve used before, except here we are retrieving the data from the American Community Survey using <code>get_acs()</code> instead of from the decennial census. Some new features worth pointing out:</p>
<ul>
<li>The <code>year</code> for <code>get_acs()</code> is the last year of a five year sample. Thus, our data will be from 2014–2018. You can choose <code>year</code>s from 2009–2018.</li>
<li>Since our geography is “tract”, we are further specifying the <code>state</code> and <code>county</code>.</li>
<li>We are obtaining the data in a long format, which makes faceting easier.</li>
<li>We added a <code>summary_var</code>, “B02001_001”, which is the total population. As we’ll see, this appears as a separate column, which is helpful to us. (As an exercise, try going back to the code that created <code>rural</code> and see how you would do that in a long format with <code>summary_var</code>.)</li>
</ul>
<p>Let’s take a look at <code>harris</code>:</p>
<div class="sourceCode" id="cb991"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb991-1"><a href="D-maps.html#cb991-1"></a><span class="kw">glimpse</span>(harris)</span></code></pre></div>
<pre><code>## Rows: 3,144
## Columns: 8
## $ GEOID       &lt;chr&gt; &quot;48201100000&quot;, &quot;48201100000&quot;, &quot;48201100000&quot;, &quot;48201100000…
## $ NAME        &lt;chr&gt; &quot;Census Tract 1000, Harris County, Texas&quot;, &quot;Census Tract …
## $ variable    &lt;chr&gt; &quot;White&quot;, &quot;Black&quot;, &quot;Asian&quot;, &quot;Hispanic&quot;, &quot;White&quot;, &quot;Black&quot;, …
## $ estimate    &lt;dbl&gt; 3426, 1045, 230, 892, 2936, 3591, 7, 2119, 2973, 885, 0, …
## $ moe         &lt;dbl&gt; 390, 308, 106, 241, 1358, 2196, 14, 1013, 430, 242, 13, 4…
## $ summary_est &lt;dbl&gt; 5063, 5063, 5063, 5063, 6820, 6820, 6820, 6820, 4403, 440…
## $ summary_moe &lt;dbl&gt; 478, 478, 478, 478, 3685, 3685, 3685, 3685, 502, 502, 502…
## $ geometry    &lt;MULTIPOLYGON [°]&gt; MULTIPOLYGON (((-95.4 29.8,..., MULTIPOLYGON…</code></pre>
<p>These are similar to what we’ve seen before. Note that we now have <code>moe</code> and <code>summary_moe</code> columns, which stand for “margin of error.” This is because, unlike the decennial census, the ACS is a survey and thus the values we get are estimates of the true value.<a href="#fn30" class="footnote-ref" id="fnref30"><sup>30</sup></a></p>
<div id="transforming-and-mapping-the-data" class="section level3">
<h3><span class="header-section-number">D.4.1</span> Transforming and mapping the data</h3>
<p>Now we can use <code>facet_wrap()</code> to look at our race variables side-by-side:</p>
<div class="sourceCode" id="cb993"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb993-1"><a href="D-maps.html#cb993-1"></a>harris <span class="op">%&gt;%</span></span>
<span id="cb993-2"><a href="D-maps.html#cb993-2"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Percent =</span> <span class="dv">100</span> <span class="op">*</span><span class="st"> </span>(estimate <span class="op">/</span><span class="st"> </span>summary_est)) <span class="op">%&gt;%</span></span>
<span id="cb993-3"><a href="D-maps.html#cb993-3"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> Percent, <span class="dt">color =</span> Percent)) <span class="op">+</span></span>
<span id="cb993-4"><a href="D-maps.html#cb993-4"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>variable) <span class="op">+</span></span>
<span id="cb993-5"><a href="D-maps.html#cb993-5"></a><span class="st">  </span><span class="kw">geom_sf</span>() <span class="op">+</span></span>
<span id="cb993-6"><a href="D-maps.html#cb993-6"></a><span class="st">  </span><span class="kw">scale_fill_viridis_c</span>(<span class="dt">direction =</span> <span class="dv">-1</span>) <span class="op">+</span></span>
<span id="cb993-7"><a href="D-maps.html#cb993-7"></a><span class="st">  </span><span class="kw">scale_color_viridis_c</span>(<span class="dt">direction =</span> <span class="dv">-1</span>) <span class="op">+</span></span>
<span id="cb993-8"><a href="D-maps.html#cb993-8"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Racial geography of Harris County, Texas&quot;</span>,</span>
<span id="cb993-9"><a href="D-maps.html#cb993-9"></a>       <span class="dt">caption =</span> <span class="st">&quot;Source: American Community Survey 2014-2018&quot;</span>) <span class="op">+</span></span>
<span id="cb993-10"><a href="D-maps.html#cb993-10"></a><span class="st">  </span><span class="kw">theme_void</span>()</span></code></pre></div>
<p><img src="Preceptor%E2%80%99s-Primer-for-Bayesian-Data-Science_files/figure-html/unnamed-chunk-725-1.png" width="672" /></p>
<p>Note how easy it was to create the percentages using <code>summary_est</code>. We also used <code>color = Percent</code> and <code>scale_color_viridis_c()</code> to avoid having annoying borders around each of the census tracts. Otherwise, this doesn’t differ much from our code before, yet it is much easier to make comparisons across variables. Faceting is a powerful tool to use with maps.</p>
</div>
</div>
<div id="want-to-explore-further" class="section level2">
<h2><span class="header-section-number">D.5</span> Want to explore further?</h2>
<ul>
<li>Take a look at the <a href="https://walkerke.github.io/tidycensus/"><strong>tidycensus</strong> website</a>.</li>
<li>If you have shapefiles from a place other than <strong>tidycensus</strong>, you can read them in using <code>st_read()</code> in the <strong>sf</strong> package, join them with other data using <strong>dplyr</strong> functions, and then map them with <code>geom_sf()</code> as we have shown above.
<ul>
<li>You may have to look into using <a href="https://ggplot2.tidyverse.org/reference/ggsf.html"><code>coord_sf()</code></a> if you have trouble displaying your data.</li>
</ul></li>
<li>Want to add interactivity to your maps? Check out the <strong>leaflet</strong> package. <a href="https://juliasilge.com/blog/using-tidycensus/">Here’s</a> a good introduction to using <strong>leaflet</strong> with <strong>tidycensus</strong>.</li>
<li>Practice your skills with <a href="https://andrewbtran.github.io/NICAR/2019/mapping/02_case_study_slides.html">Andrew Tran’s case study slides</a>, where you can replicate a graphic from the Washington Post. Note: this involves some packages we haven’t shown you in this book, but if you follow along step by step you will be able to see how they are used.</li>
</ul>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="26">
<li id="fn26"><p>This section remixes some material from <a href="https://github.com/andrewbtran/NICAR-2019-mapping" class="uri">https://github.com/andrewbtran/NICAR-2019-mapping</a> by Andrew Tran.<a href="D-maps.html#fnref26" class="footnote-back">↩︎</a></p></li>
<li id="fn27"><p>If you run the <code>census_api_key()</code> function with the option <code>install = TRUE</code>, it will save your API key in your <code>.Renviron</code> so you don’t have to run <code>census_api_key()</code> every time you want to get data from the Census. However, you should only do this once.<a href="D-maps.html#fnref27" class="footnote-back">↩︎</a></p></li>
<li id="fn28"><p>You can also get data from the American Community Survey using the <strong>tidycensus</strong> package, using the similar <code>get_acs()</code> function.<a href="D-maps.html#fnref28" class="footnote-back">↩︎</a></p></li>
<li id="fn29"><p>If you run <code>typeof(rural$geometry)</code>, you’ll see that this is just a kind of list, and thus <code>geometry</code> is a list column.<a href="D-maps.html#fnref29" class="footnote-back">↩︎</a></p></li>
<li id="fn30"><p>Even the decennial census, of course, is an estimate, given the possibility of nonresponse and other errors, but it is closer to the true value than a survey.<a href="D-maps.html#fnref30" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="C-shiny.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="E-animation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
